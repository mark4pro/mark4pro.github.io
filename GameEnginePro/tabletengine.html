<!DOCTYPE html>
<html>
<head>
<title>Engine v0.0.6</title>
<style>
canvas {
border:2px solid black;
background-color: blue;
border-radius: 25px;
box-shadow: 2px 2px 5px lightblue;
margin-left: auto;
margin-right: auto;
display: block;
width: 600px;
}
 body {
 background-color: lightblue;
 }
 button{
 width:50px;
 height:50px;
 border-radius: 30px;
 background-color: black;
 color: white;
 text-align: center;
 }
 h1 {
 font-size: 50px;
 background-color: darkblue;
 border:5px solid darkgray;
 border-radius: 30px;
 visibility: visible; 
 z-index: 200; 
 }
 .unselectable {
-webkit-user-select: none; /* Safari 3.1+ */
-moz-user-select: none; /* Firefox 2+ */
-ms-user-select: none; /* IE 10+ */
user-select: none; /* Standard syntax */
}
#container {
width : 50%;
height : 50%;
overflow : hidden;
padding : 0;
margin : 0;
-webkit-user-select : none;
-moz-user-select : none;
}
#locator { position: absolute; visibility: visible; left: 50px; top: 80px; z-index: 200; }
#locator2 { position: absolute; visibility: visible; left: 20px; top: 120px; z-index: 200; }
#locator3 { position: absolute; visibility: visible; left: 80px; top: 120px; z-index: 200; }
#locator4 { position: absolute; visibility: visible; left: 50px; top: 160px; z-index: 200; }
#locator5 { position: absolute; visibility: visible; left: 50px; top: 360px; z-index: 200; }
#locator6 { position: absolute; visibility: visible; left: 850px; top: 80px; z-index: 200; }
#locator7 { position: absolute; visibility: visible; left: 820px; top: 120px; z-index: 200; }
#locator8 { position: absolute; visibility: visible; left: 880px; top: 120px; z-index: 200; }
#locator9 { position: absolute; visibility: visible; left: 850px; top: 160px; z-index: 200; }
</style>
<!-- Were Images Go -->
<img id="playerimg" width="0" height="0" src="image/player1.png">
<img id="badguy1img" width="0" height="0" src="image/enemy.png">
<img id="uiimg" width="0" height="0" src="image/uitexture.png">
<img id="healthbo" width="0" height="0" src="image/healthborder.png">
<img id="healthba" width="0" height="0" src="image/healthback.png">
<img id="wave1t5" width="0" height="0" src="image/wave1-5.png">
<img id="bullpic" width="0" height="0" src="image/bullet.png">
<!-- Were Sounds Go -->
		<audio id="level1" src="audio/level1.mp3"></audio>
	    <audio id="level2" src="audio/level2.mp3"></audio>
</head>
<body onload="start()">
<script>
var playerX = 22;
var playerY = 180;
var playerHealth = 100;
var menu = 0;

function start() {
 badguypic1= new component(25, 25, "red", 500, 180, "img7");
 badguy1= new component(25, 25, "red", 500, 180, "rec");
 badpos1 = new component(25, 25, "orange", 700, 180, "rec");
 badwavebox1 = new component(35, 35, "black", 695, 175, "rec");
 bullbox = new component(10, 10, "orange", 400, 180, "rec");
 bpic = new component(10, 10, "orange", 400, 180, "img6");
 box = new component(25, 25, "black", playerX, playerY, "rec");
 circle = new component(32, 32, "darkblue", playerX - 3.5, playerY - 3.5, "img");
 w1t5 = new component(800, 500, "darkblue", 0, 0, "img5");
 wallleft = new component(20, 400, "black", -10, 0, "rec");
 wallright = new component(20, 400, "black", 790, 0, "rec");
 wall3 = new component(800, 20, "black", 0, -10, "rec");
 wall4 = new component(800, 20, "black", 0, 390, "rec");
 ui = new component(800, 200, "white", 0, 400, "img2");
 menuboard = new component(800, 500, "black", 0, 0, "rec");
 menutxt = new component("30px", "Consolas", "white", 300, 250, "text");
 menutxt.font="20px Consolas";
 menutxt.text="Any FIRE Button To Start!";
 Board.start();
 updateGameArea();
 }
 
var Board = {
canvas : document.createElement("canvas"),
start : function() {
this.canvas.width = 800;
this.canvas.height = 500;
this.context = this.canvas.getContext("2d");
document.body.insertBefore(this.canvas,
document.body.childNodes[0]);
this.frameNo = 60;
this.interval = setInterval(updateGameArea, 10);
},
clear : function() {
this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
},
}

function component(width, height, color ,x ,y, type, radius, outcolor, thickness) {
this.type = type;
this.speedX = 0;
this.speedY = 0;
this.x = x;
this.y = y;
this.thickness = thickness;
this.outcolor = outcolor;
this.radius = radius;
this.update = function() {
ctx = Board.context;
if (this.type == "text") {
 ctx.font = this.font;
 ctx.fillStyle = color;
 ctx.fillText(this.text, this.x, this.y);
} else {
if (type == "rec") {
this.width = width;
this.height = height;
ctx.fillStyle = color;
ctx.fillRect(this.x, this.y, this.width, this.height);
 }
 if (type == "cir") {
 ctx.beginPath();
 ctx.arc(this.x, this.y, radius, 0, 2 * Math.PI, true);
 ctx.fillStyle = color;
 ctx.fill();
 ctx.lineWidth = thickness;
 ctx.strokeStyle = outcolor;
 ctx.stroke();
 } else {
 if (type == "img") {
 this.width = width;
 this.height = height;
 var img = document.getElementById("playerimg");
ctx.drawImage(img, this.x, this.y, this.width, this.height);
 }
 if (type == "img2") {
 this.width = width;
 this.height = height;
 var img = document.getElementById("uiimg");
ctx.drawImage(img, this.x, this.y, this.width, this.height);
 }
 if (type == "img3") {
 this.width = width;
 this.height = height;
 var img = document.getElementById("healthbo");
ctx.drawImage(img, this.x, this.y, this.width, this.height);
 }
 if (type == "img4") {
 this.width = width;
 this.height = height;
 var img = document.getElementById("healthba");
ctx.drawImage(img, this.x, this.y, this.width, this.height);
 }
 if (type == "img5") {
 this.width = width;
 this.height = height;
 var img = document.getElementById("wave1t5");
ctx.drawImage(img, this.x, this.y, this.width, this.height);
 }
 if (type == "img6") {
 this.width = width;
 this.height = height;
 var img = document.getElementById("bullpic");
ctx.drawImage(img, this.x, this.y, this.width, this.height);
 }
 if (type == "img7") {
 this.width = width;
 this.height = height;
 var img = document.getElementById("badguy1img");
ctx.drawImage(img, this.x, this.y, this.width, this.height);
 }
}
}
}
this.newPos = function() {
this.x += this.speedX;
this.y += this.speedY;
}
this.crashWith = function(otherobj) {
var myleft = this.x;
var myright = this.x + (this.width);
var mytop = this.y;
var mybottom = this.y + (this.height);
var otherleft = otherobj.x;
var otherright = otherobj.x + (otherobj.width);
var othertop = otherobj.y;
var otherbottom = otherobj.y + (otherobj.height);
var crash = true;
if ((mybottom < othertop) ||
 (mytop > otherbottom) ||
 (myright < otherleft) ||
 (myleft > otherright)) {
crash = false;
 }
 return crash;
}
}

var HealthX = 30;
var HealthY = 450;
var HealthWidth = 103;
var HealthHeight = 30;
var Death1 = 0;
var texth;
var word = "Health:";
var hcolor = "Darkgreen";

function Health1() {
 bo = new component(113, 56.5, "darkblue", 25, 428, "img3");
 w1 = new component(5, 48, "black", HealthX - 5, HealthY - 17, "rec");
 w2 = new component(5, 48, "black", HealthX + 103, HealthY - 17, "rec");
 w3 = new component(113, 5, "black", HealthX - 5, HealthY - 22, "rec");
 w4 = new component(113, 5, "black", HealthX - 5, HealthY + 30, "rec");
 g = new component(HealthWidth, HealthHeight, "gray", HealthX, HealthY - 17, "img4");
 texth = new component("30px", "Consolas", "red", HealthX + 2, HealthY - 2, "text");
 base = new component(HealthWidth, HealthHeight, "gray", HealthX, HealthY, "rec");
 full = new component(playerHealth, HealthHeight - 5, hcolor, HealthX + 1.5, HealthY + 2.5, "rec");
 w1.update();
 w2.update();
 w3.update();
 w4.update();
 bo.update();
 g.update();
 texth.font="18px Consolas";
 texth.text=word + Math.round(playerHealth);;
 texth.update();
 base.update();
 full.update();
 if (playerHealth > 75) {
 hcolor = "Darkgreen";
 }
 if (playerHealth < 75) {
 hcolor = "green";
 }
 if (playerHealth < 50) {
 hcolor = "yellow";
 }
 if (playerHealth < 25) {
 hcolor = "orange";
 }
 if (playerHealth < 10) {
 hcolor = "red";
 }
 if (playerHealth < 1) {
Death1 = 1;
 }
 if (playerHealth > 1) {
Death1 = 0;
 }
}

function relive() {
if (Death1 > 0) {
if (money >= 100) {
 money -= 100;
 playerHealth = 100;
 }
 }
}

var wave = 0;

function updateGameArea() {
Board.clear();
playSound();
skipSound();
box.update();
if (fire > 0) {
if (menu > 0) {
bullbox.update();
 }
}
if (wave < 5) {
if (BadDeath < 1) {
if (Death1 == 0) {
badguy1.update();
  }
 }
}
badwavebox1.update();
badpos1.update();
if (wave < 5) {
w1t5.update();
}
ui.update();
if (fire > 0) {
bpic.update();
}
wallleft.update();
wallright.update();
wall3.update();
wall4.update();
if (wave < 5) {
if (BadDeath < 1) {
if (Death1 == 0) {
badguypic1.update();
  }
 }
}
badboxspawn();
if (Death1 == 0) {
circle.update();
if (menu > 0) {
box.newPos();
circle.newPos();
 }
}
bullbox.newPos();
badguypic1.newPos();
badguy1.newPos();
bpic.newPos();
Health1();
playerMoney();
name();
waveammoweapon();
bulletai();
badai1();
countwave();
if (menu == 0) {
menuboard.update();
menutxt.update();
}
if (menu == 1) {
ammo = 160;
menu += 1;
}
if (up == 1) {
 if (touchtop == 0) {
 if (box.speedY >= -4) {
 box.speedY -= 0.05;
 circle.speedY -= 0.05;
 } else {
 box.speedY = -4;
 circle.speedY = -4;
 }
 } else {
 box.speedY = 0;
 circle.speedY = 0;
 }
}
if (down == 1) {
 if (touchbottom == 0){
 if (box.speedY <= 4) {
 circle.speedY += 0.05;
 box.speedY += 0.05;
 } else {
 box.speedY = 4;
 circle.speedY = 4;
 }
 } else {
 box.speedY = 0;
 circle.speedY = 0;
 }
}
if (left == 1) {
 if (touchleft == 0) {
 if (box.speedX >= -4) {
 circle.speedX -= 0.05;
 box.speedX -= 0.05;
 } else {
 box.speedX = -4;
 circle.speedX = -4;
 }
 } else {
 box.speedX = 0;
 circle.speedX = 0;
 }
}
if (right == 1) {
 if (touchright == 0) {
 if (box.speedX <= 4) {
 circle.speedX += 0.05;
 box.speedX += 0.05;
 } else {
 box.speedX = 4;
 circle.speedX = 4;
 }
 } else {
 box.speedX = 0;
 circle.speedX = 0;
 }
}
if (box.crashWith(wallleft)) {
 touchleft = 1;
}
if (box.crashWith(wallright)) {
 touchright = 1;
}
if (box.crashWith(wall3)) {
 touchtop = 1;
}
if (box.crashWith(wall4)) {
 touchbottom = 1;
}
}

var weapon = 0;
var ammo = 160;
var weapname = "pistol";

function waveammoweapon() {
if (weapon == 0) {
  weapname = "pistol";
}
obo = new component(100, 80, "gray", 350, 430, "img3");
oba = new component(90, 80, "gray", 355, 435, "img4");
bam = new component(83, 15, "gray", 358, 438, "rec");
bwa = new component(83, 15, "gray", 358, 477, "rec");
ammotxt = new component("30px", "Consolas", "orange", 360, 450, "text");
ammotxt.font="18px Consolas";
ammotxt.text="Ammo:" + ammo;
weaptxt = new component("30px", "Consolas", "black", 358, 470, "text");
weaptxt.font="14px Consolas bold";
weaptxt.text="Weapon:" + weapname;
wavetxt = new component("30px", "Consolas", "lightgray", 360, 490, "text");
wavetxt.font="18px Consolas";
wavetxt.text="Wave:" + wave;
obo.update();
oba.update();
bam.update();
bwa.update();
ammotxt.update();
weaptxt.update();
wavetxt.update();
}

var count = 0;
var numofbad = 10;

function countwave() {
if (menu > 0) {
if (wave < 5) {
if (BadDeath > 0) {
if (badguy1.crashWith(badwavebox1)) {
count += 1;
   }
  }
 }
}
 if (count == numofbad) {
 wave += 1
 }
 if (count >= numofbad) {
 count = 0;
 }
}

var BadDeath = 1;
var Badhealth1 = 0;
var PlayerDamageDeal = 50;
var Bad1DamageDeal = 0.5;

function badboxspawn() {
if (wave < 5) {
if (badguy1.crashWith(bullbox)) {
if (Badhealth1 >= 0) {
if (fire > 0) {
Badhealth1 -= PlayerDamageDeal;
 }
 }
}
if (Badhealth1 >= 0) {
BadDeath = 0;
 }
if (Badhealth1 == 0) {
BadDeath = 1;
 }
 }
}

function badai1() {
if (wave < 5) {
if (BadDeath > 0) {
if (badguy1.x > badpos1.x) {
badguypic1.speedX = -5;
badguy1.speedX = -5;
}
if (badguy1.x < badpos1.x) {
badguypic1.speedX = 5;
badguy1.speedX = 5;
}
if (badguy1.crashWith(badpos1)) {
badguypic1.speedX = 0;
badguypic1.speedY = 0;
badguy1.speedY = 0;
badguy1.speedX = 0;
Badhealth1 = 100;
BadDeath = 0;
 }
if (badguy1.y > badpos1.y) {
badguypic1.speedY = -5;
badguy1.speedY = -5;
}
if (badguy1.y < badpos1.y) {
badguypic1.speedY = 5;
badguy1.speedY = 5;
}
 }
if (BadDeath < 1) {
if (menu > 0) {
if (badguy1.x > box.x + 22) {
badguypic1.speedX = -1;
badguy1.speedX = -1;
}
if (badguy1.x < box.x + 22) {
badguypic1.speedX = 1;
badguy1.speedX = 1;
}
if (badguy1.y > box.y) {
badguypic1.speedY = -1;
badguy1.speedY = -1;
}
if (badguy1.y < box.y) {
badguypic1.speedY = 1;
badguy1.speedY = 1;
}
if (box.crashWith(badguy1)) {
if (playerHealth > 0) {
playerHealth -= Bad1DamageDeal;
}
}
 }
 }
 }
}

var fire = 0;
var fireR = 0;
var fireL = 0;
var fireU = 0;
var fireD = 0;

function shootUp() {
console.log(fire);
if (Death1 == 0) {
if (fire == 0) {
if (ammo > 0) {
if (box.crashWith(bullbox)) {
fire += 1;
fireU += 1;
ammo -= 1;
if (menu == 0) {
menu += 1;
}
    }
   }
  }
 }
}

function shootDown() {
console.log(fire);
if (Death1 == 0) {
if (fire == 0) {
if (ammo > 0) {
if (box.crashWith(bullbox)) {
fire += 1;
fireD += 1;
ammo -= 1;
if (menu == 0) {
menu += 1;
}
    }
   }
  }
 }
}

function shootLeft() {
console.log(fire);
if (Death1 == 0) {
if (fire == 0) {
if (ammo > 0) {
if (box.crashWith(bullbox)) {
fire += 1;
fireL += 1;
ammo -= 1;
if (menu == 0) {
menu += 1;
}
    }
   }
  }
 }
}

function shootRight() {
console.log(fire);
if (Death1 == 0) {
if (fire == 0) {
if (ammo > 0) {
if (box.crashWith(bullbox)) {
fire += 1;
fireR += 1;
ammo -= 1;
if (menu == 0) {
menu += 1;
}
    }
   }
  }
 }
}

var bullrange = 3;

function bulletai() {
if (fire < 1) {
if (-10 + bullbox.x > box.x) {
    bullbox.speedX = -5;
	bpic.speedX = -5;
}
if (-10 + bullbox.x < box.x) {
    bullbox.speedX = 5;
	bpic.speedX = 5;
}
if (box.crashWith(bullbox)) {
    bullbox.speedX = 0;
	bpic.speedX = 0;
 }
if (-10 + bullbox.y > box.y) {
    bullbox.speedY = -5;
	bpic.speedY = -5;
}
if (-10 + bullbox.y < box.y) {
    bullbox.speedY = 5;
	bpic.speedY = 5;
}
if (box.crashWith(bullbox)) {
    bullbox.speedY = 0;
	bpic.speedY = 0;
 }
}
if (fire > 0) {
 if (fireL > 0) {
  bullbox.speedX -= bullrange;
  bullbox.speedY = 0;
  bpic.speedX -= bullrange;
  bpic.speedY = 0;
  bullettime += 0.5;
  }
 if (fireR > 0) {
  bullbox.speedX += bullrange;
  bullbox.speedY = 0;
  bpic.speedX += bullrange;
  bpic.speedY = 0;
  bullettime += 0.5;
  }
  if (fireU > 0) {
  bullbox.speedX = 0;
  bullbox.speedY -= bullrange;
  bpic.speedY -= bullrange;
  bpic.speedX = 0;
  bullettime += 0.5;
  }
  if (fireD > 0) {
  bullbox.speedX = 0;
  bullbox.speedY += bullrange;
  bpic.speedY += bullrange;
  bpic.speedX = 0;
  bullettime += 0.5;
  }
 if (bullettime >= 5) {
  fire = 0;
  fireR = 0;
  fireL = 0;
  fireU = 0;
  fireD = 0;
  bullettime = 0;
  }
 }
}

var bullettime = 0;

var touchleft = 0;
var touchright = 0;
var touchtop = 0;
var touchbottom = 0;
var up = 0;
var down = 0;
var left = 0;
var right = 0;

function moveUp() {
 if (touchtop == 0) {
up = 1;
}
}

function moveDown() {
 if (touchbottom == 0) {
down = 1;
}
}

function moveLeft() {
 if (touchleft == 0) {
left = 1;
}
}

function moveRight() {
 if (touchright == 0) {
right = 1;
}
}

function clearmoveud() {
 if (box.crashWith(wall3) == false) {
 touchtop = 0;
 }
 if (box.crashWith(wall4) == false) {
 touchbottom = 0;
 }
 up = 0;
 down = 0;
circle.speedY = 0;
box.speedY = 0;
}

function clearmovelr() {
 if (box.crashWith(wallleft) == false) {
 touchleft = 0;
 }
 if (box.crashWith(wallright) == false) {
 touchright = 0;
 }
 left = 0;
 right = 0;
circle.speedX = 0;
box.speedX = 0;
}

var sound = 0

function playSound() {
if (sound == 0) {
document.getElementById('level1').play();
 }
if (sound == 1) {
document.getElementById('level2').play();
 }
if (sound > 1) {
sound = 0;
}
}

function SetVolume(val) {
var player = document.getElementById('level1');
player.volume = val / 100;
var player2 = document.getElementById('level2');
player2.volume = val / 100;
}

function skipSound() {
 if (sound > 0) {
 level1.pause();
 level1.currentTime = 0;
 }
 if (sound < 1) {
 level2.pause();
 level2.currentTime = 0;
 }
}

var namebX = 620;
var namebY = 450;
var ammocheat = "moreammo";
var healthcheat = "morehealth";
var wavebonus = "ryanmace";
var resetcheat = "reset";

function name() {
 var nameg = "Name:"
 var name = document.getElementById('name');
 namef = new component("30px", "Consolas", "white", namebX, namebY, "text");
 m = new component(300, 20, "gray", namebX - 5, namebY - 15, "img4");
 namef.font="20px Consolas";
 namef.text=nameg + name.value;
 m.update();
 namef.update();
 if (name.value == ammocheat) {
 ammo = 160;
 }
 if (name.value == healthcheat) {
 playerHealth = 100;
 }
 if (name.value == wavebonus) {
 wave = 9000;
 }
 if (name.value == resetcheat) {
 document.location.reload(true);
 }
}

var money = 100;
var mbX = 580;
var mbY = 480;

function playerMoney() {
 var moneyg = "$"
 moneyf = new component("30px", "Consolas", "green", mbX, mbY, "text");
 q = new component(300, 100, "gray", mbX - 5, mbY - 25, "img4");
 mbo = new component(300, 100, "gray", 570, 450, "img3");
 nbo = new component(300, 100, "gray", 610, 430, "img3");
 moneyf.font="30px Consolas";
 moneyf.text=moneyg + money;
 nbo.update();
 mbo.update();
 q.update();
 moneyf.update();
}
</script>
<label class="unselectable">
<h1 align="center">
 Engine V0.0.6
</h1>
<div id="locator">
<button onmousedown="moveUp()" onmouseup="clearmoveud()" ontouchend="clearmoveud()"
ontouchstart="moveUp()">UP</button><br>
</div>
<div id="locator2">
<button onmousedown="moveLeft()" onmouseup="clearmovelr()" ontouchend="clearmovelr()"
ontouchstart="moveLeft()">LEFT</button>
</div>
<div id="locator3">
<button onmousedown="moveRight()" onmouseup="clearmovelr()" ontouchend="clearmovelr()"
ontouchstart="moveRight()">RIGHT</button><br>
</div>
<div id="locator4">
<button onmousedown="moveDown()" onmouseup="clearmoveud()" ontouchend="clearmoveud()"
ontouchstart="moveDown()">DOWN</button>
</div>
<div id="locator6">
<button onmousedown="shootUp()" ontouchstart="shootUp()">UP</button><br>
</div>
<div id="locator7">
<button onmousedown="shootLeft()" ontouchstart="shootLeft()">LEFT</button>
</div>
<div id="locator8">
<button onmousedown="shootRight()" ontouchstart="shootRight()">RIGHT</button><br>
</div>
<div id="locator9">
<button onmousedown="shootDown()" ontouchstart="shootDown()">Down</button>
</div>
<p align="center">Volume:</p>
<p align="center"><input type="range" min="0" max="100" id="volume" class="slider" step="1"
oninput="SetVolume(this.value)" onchange="SetVolume(this.value)"></input></p>
<p align="center"><input type="text" id="name" value="Bob"></p>
<div id="locator5">
<button onmousedown="relive()" ontouchstart="relive()">Revive</button>
</div>
</label>
</body>
</html>
