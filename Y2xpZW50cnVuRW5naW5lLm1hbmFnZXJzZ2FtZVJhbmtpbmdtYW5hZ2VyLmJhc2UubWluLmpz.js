/** Copyright (c) 2016 WIMI5. All rights reserved. */ (function(){var g=!0,h=!1,m=this;function r(b){b=b.split(".");var c=m;!(b[0]in c)&&c.execScript&&c.execScript("var "+b[0]);for(var a;b.length&&(a=b.shift());)c=c[a]?c[a]:c[a]={}};r("PENGO.client.shared.runEngine.ranking.actuators.showRanking");
window.PENGO.client.shared.runEngine.ranking.actuators.showRanking.resolve=function(){function b(f,b,c,p){var k=new a.runEngine.Blackbox(f,b,c,p,"_ShowRanking_key");e=a.runEngine.getManager();k.createOutput("shown",0);k.createOutput("closed",1);k.createInput("show",0,function(a){e.g(function(){f.setPauseState(h);f.callOnNextUpdateDraw(function(a){k.fireOutput(1,a)})})&&(f.setPauseState(g),k.fireOutput(0,a))});return k}function c(){e.d()}var a,e;b.prototype={};return{dependencies:function(f){f.runEngine.blackboxRepository.addBlackboxType("_ShowRanking_key",
b);f.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("_ShowRanking_key",c);a=f},implementation:{i:b}}};r("PENGO.client.shared.runEngine.ranking.actuators.submitScore");
(function(){function b(a){a.secure=a.existOutput(3)}function c(a){a.setting=h}window.PENGO.client.shared.runEngine.ranking.actuators.submitScore.resolve=function(){function a(a,b,c,p){function k(b,e){var c;b?c=1:e.result===l.OK?("number"==typeof d.outParameters.position&&(d.outParameters.position=e.a),c=0):c=e.result===l.KO?1:e.result===l.USER_KO?2:1;a.callOnNextUpdateDraw(function(a){d.setting=h;d.fireOutput(c,a)})}var d=new e.runEngine.Blackbox(a,b,c,p,"_SubmitScore_key");d.createOutParam("position",
0);d.createOutput("done",0);d.createOutput("error",1);d.createOutput("accessDenied",2);d.createOutput("onPrevious",3);d.secure=g;d.setting=h;var l=void 0,q=e.runEngine.getManager();d.createInput("submit",0,function(a){var e,b,c,f;if(d.secure&&d.setting)d.fireOutput(3,a);else if(c=d.getInParams(),c.length){b={};for(e=0;e<c.length;e+=1)f=d.getInParamValue(c[e].index),void 0!==f&&(b[c[e].index]={_id:c[e].nameKey,val:f});q.e(b)?d.fireOutput(0,a):(l||(l=q.c()),l?(d.setting=g,q.h(b,k)||(d.setting=h,d.fireOutput(1,
a),l=void 0)):d.fireOutput(1,a))}});return d}var e;a.prototype={};return{dependencies:function(f){f.runEngine.blackboxRepository.addBlackboxType("_SubmitScore_key",a);f.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("_SubmitScore_key",c,b);e=f},implementation:{j:a}}}})();r("PENGO.client.shared.runEngine.ranking.manager");
window.PENGO.client.shared.runEngine.ranking.manager.resolve=function(){function b(a,c){this.k=c;var b,n={f:void 0};for(b in n);Object.defineProperty(this,b,{get:function(){return a.isOnPlay()},enumerable:g,configurable:h})}function c(a,b){return function(c,n){a.f&&b(c,n)}}var a;b.prototype={e:function(a){for(var b in a)return h;return g},c:function(){if(a.gameRankingService)return a.gameRankingService.getConstants()},h:function(b,f){return a.gameRankingService&&a.gameRankingService.b?(a.gameRankingService.b(a.GAME_PROPERTIES.id,
b,c(this,f)),g):h},g:function(b){return a.gameRankingService?(a.gameRankingService.a(a.GAME_PROPERTIES.id,b),g):h},d:function(){return a.gameRankingService&&a.gameRankingService.hideRankings?(a.gameRankingService.hideRankings(),g):h}};b.prototype.requestRankingDescription=b.prototype.l;return{dependencies:function(b){a=b},implementation:{Manager:b}}};})();
