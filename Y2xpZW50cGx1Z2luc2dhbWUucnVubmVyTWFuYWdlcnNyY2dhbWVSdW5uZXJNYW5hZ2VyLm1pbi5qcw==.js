/** Copyright (c) 2016 WIMI5. All rights reserved. */ (function(){function h(d){throw d;}var m=void 0,s=!0,w=!1;function B(){return function(){}}function C(d){return function(){return this[d]}}var O=O||{},Q=this;function S(d,c,b){d=d.split(".");b=b||Q;!(d[0]in b)&&b.execScript&&b.execScript("var "+d[0]);for(var a;d.length&&(a=d.shift());)!d.length&&c!==m?b[a]=c:b=b[a]?b[a]:b[a]={}}Math.floor(2147483648*Math.random()).toString(36);var T={b:{}};T.b.f={};S("PENGO.client.shared.runEngine.blackboxes.blackboxRepository");
T.b.f.resolve=function(){var d,c={p:function(b){d=b;b.c.Ub.blackboxRepository={types:c.implementation.types,addBlackboxType:c.implementation.t,setInputCallbackCreatorToBlackboxType:c.implementation.Jb,setInParamDefaultValueToBlackboxType:c.implementation.$,setSpecificCallbacksToBlackboxType:c.implementation.F}},implementation:{types:{},t:function(b,a){c.implementation.types[b]={Ij:b,Md:m,a:{},d:{},load:m,reset:m};a&&a instanceof Function?c.implementation.types[b].Md=a:h(new d.pengoError.pengoError.PengoError("ERROR: wrong blackbox creation function to registrate",
d.pengoError.codes.codes.INVALID_DATA))},Jb:function(b,a){"function"===typeof a?c.implementation.types[b]?c.implementation.types[b].Fa=a:h(new d.pengoError.pengoError.PengoError("ERROR: wrong blackbox Type: "+b,d.pengoError.codes.codes.INVALID_DATA)):h(new d.pengoError.pengoError.PengoError("ERROR: wrong callback, ",d.pengoError.codes.codes.INVALID_DATA))},$:function(b,a,k){c.implementation.types[b]?(c.implementation.types[b].a[a]===m&&(c.implementation.types[b].a[a]={defaultValue:m}),c.implementation.types[b].a[a].defaultValue=
k):h(new d.pengoError.pengoError.PengoError("ERROR: wrong blackbox Type: "+b,d.pengoError.codes.codes.INVALID_DATA))},Nj:function(b,a,k){c.implementation.types[b]?(c.implementation.types[b].d[a]===m&&(c.implementation.types[b].d[a]={defaultValue:m}),c.implementation.types[b].d[a].defaultValue=k):h(new d.pengoError.pengoError.PengoError("ERROR: wrong blackbox Type: "+b,d.pengoError.codes.codes.INVALID_DATA))},F:function(b,a,k){c.implementation.types[b]?(k&&(k instanceof Function?c.implementation.types[b].load=
k:h(new d.pengoError.pengoError.PengoError("ERROR: wrong callback,  reset ( blackbox )",d.pengoError.codes.codes.INVALID_DATA))),a&&(a instanceof Function?c.implementation.types[b].reset=a:h(new d.pengoError.pengoError.PengoError("ERROR: wrong callback,  reset ( blackbox )",d.pengoError.codes.codes.INVALID_DATA)))):h(new d.pengoError.pengoError.PengoError("ERROR: wrong blackbox Type: "+b,d.pengoError.codes.codes.INVALID_DATA))}}};return c};T.lc={};S("PENGO.client.shared.runEngine.connector");
T.lc.resolve=function(){function d(b,a,k){this.Na=[];var l,e,g=b.s,f=this.Na;if(b.ka===c.j.LEVEL)switch(l=a===c.j.CONNECTOR_ONLOADED?function(k){if(k){b.G===c.j.ROOT&&b.s.ci();b.yd=b.s.Uf();try{for(e=0;e<f.length;e++)if(f[e])f[e](k)}catch(d){h(new c.pengoError.pengoError.PengoError("Firing connector "+a+" of the level "+b.name+" ID "+b.G+"\n"+d,c.pengoError.codes.codes.INVALID_CONFIG))}}else g.za.push(l)}:a===c.j.CONNECTOR_LOAD||a===c.j.CONNECTOR_UNLOADED?function(k){try{for(e=0;e<f.length;e++)if(f[e])f[e](k)}catch(l){h(new c.pengoError.pengoError.PengoError("Firing connector "+
a+" of the level "+b.name+" ID "+b.G+"\n"+l,c.pengoError.codes.codes.INVALID_CONFIG))}}:function(k){if(b.Ia)try{for(e=0;e<f.length;e++)if(f[e])f[e](k)}catch(l){h(new c.pengoError.pengoError.PengoError("Firing connector "+a+" of the level "+b.name+" ID "+b.G+"\n"+l,c.pengoError.codes.codes.INVALID_CONFIG))}},a){case c.j.CONNECTOR_LOAD:b.ce&&f.push(b.ce);break;case c.j.CONNECTOR_UNLOAD:b.Ge&&f.push(b.Ge)}else l=a===c.j.CONNECTOR_ONLOADED?function(k){if(k)try{for(e=0;e<f.length;e++)if(f[e])f[e](k)}catch(d){h(new c.pengoError.pengoError.PengoError("Firing connector "+
a+" of the level "+b.name+" ID "+b.G+"\n"+d,c.pengoError.codes.codes.INVALID_CONFIG))}else g.za.push(l)}:function(k){try{for(e=0;e<f.length;e++)if(f[e])f[e](k)}catch(l){h(new c.pengoError.pengoError.PengoError("Firing the connector "+a+" of the script "+b.name+" ID "+b.G+"\n"+l,c.pengoError.codes.codes.INVALID_CONFIG))}};this.n=this.o=b.J[a]=l;this.G=m;b.s.ba.Va(this,k);b.s.fa.notify(this.G.toString(),this)}var c;d.prototype={ka:-1,Rb:function(b,a){var k=-1;if(b){for(var k=this.Na,l=k.length-1;0<=
l&&k[l]===m;)k.pop(),l-=1;k=this.Na.indexOf(b);-1===k?a!==m?(this.Na[a]&&h(new c.pengoError.pengoError.PengoError("callback to link ERROR: connecting a callback with a call buffer index already in use.",c.pengoError.codes.codes.INVALID_DATA)),this.Na[a]=b):a=this.Na.push(b)-1:a=k}else h(new c.pengoError.pengoError.PengoError("callback ERROR: undefined callback to add as input to call. The link can\u00b4t be done.",c.pengoError.codes.codes.INVALID_DATA));return a},tc:function(b,a){var k,l,e;if(b&&
0<b.length)for(var g=0;g<b.length;g+=1)b[g]&&(b[g][c.j.METHODNAME]&&b[g][c.j.METHODOWNERID])&&(k=b[g][c.j.METHODNAME],l=a.Ea[b[g][c.j.METHODOWNERID]],(e=l.J[k])||(l.type.Fa?e=l.type.Fa(l,k,m):l.Fa?e=l.Fa(k,m):h(new c.pengoError.pengoError.PengoError("Error: undefined callback to add as input to call. The link can\u00b4t be done.",c.pengoError.codes.codes.INVALID_DATA))),this.Rb(e,b[g][c.j.INDEX]))}};return{p:function(b){c=b;d.prototype.ka=c.j.CONNECTOR},implementation:{Kc:d}}};T.b.bd={};S("PENGO.client.shared.runEngine.blackboxes.output");
T.b.bd.resolve=function(){function d(b,a,k){this.name=a;this.Na=[];var l,e=this.Na;this.n=function(b,k){try{for(l=0;l<e.length;l++)if(e[l])e[l](b)}catch(d){h(new c.pengoError.pengoError.PengoError("Firing the output "+a+" of the blackbox "+k.name+" ID "+k.G+"\n"+d,c.pengoError.codes.codes.INVALID_CONFIG))}};this.G=m;k===m?b.ba.ze(this):b.ba.Va(this,k)}var c;d.prototype={done:function(b){b.ba.oc(this.G)},Rb:m,tc:m};return{p:function(b){c=b;d.prototype.Rb=b.c.lc.Kc.prototype.Rb;d.prototype.tc=b.c.lc.Kc.prototype.tc},
implementation:{zd:d}}};T.b.le={};S("PENGO.client.shared.runEngine.blackboxes.paramConnector");
T.b.le.resolve=function(){function d(b,a,k){this.name=a;this.param=m;this.s=b;this.G=m;k===m?b.ba.ze(this):b.ba.Va(this,k);this.Yb=m}var c;d.prototype={done:function(){this.s.ba.oc(this.G)},ra:function(b,a){function k(a,b,k,c){a.fa.sc(k.toString()+"_value_load",function n(l){b.param=l;l.ya(b,c);a.fa.Gc(k.toString()+"_value_load",n)})}var l=b[c.j.PARAMID];l&&((this.param=this.s.ba.Ea[l])?this.ya(this,a):k(this.s,this,l,a))}};return{p:function(b){c=b},implementation:{Se:d}}};T.b.u={};S("PENGO.client.shared.runEngine.blackboxes.blackbox");
T.b.u.resolve=function(){function d(b,a,k,l,e){this.ie=s;this.Fb=k;this.s=b;this.a=[];this.d=[];this.inParameters={};this.outParameters={};this.T=[];this.J={};this.k=[];this.wc={};this.type=c.c.b.f.types[e];this.G=this.Fa=this.ae=m;b.ba.Va(this,l)}var c;d.prototype={reset:function(b){this.type.reset&&this.type.reset(this,b)},Rc:function(b,a,k,l){b&&"string"===typeof b?(b=new c.c.b.le.Se(this.s,b,l),a=this.Mh(b,a,k)):h(new c.pengoError.pengoError.PengoError("It was expected a paramConnector name (string) of the blackbox as parameter",c.pengoError.codes.codes.INVALID_DATA));
return a},Mh:function(b,a,k){var l;l=k?this.a:this.d;a!==m?(l[a]!==m&&h(new c.pengoError.pengoError.PengoError("Error: the index is already in use.",c.pengoError.codes.codes.INVALID_DATA)),l[a]=b):a=l.push(b)-1;this.yf(b,k);return a},yf:function(b,a){var k,l,e,g=b.name;a?(l=this.a,e=this.inParameters,k=this.type.a):(l=this.d,e=this.outParameters,k=this.type.d);-1===l.indexOf(b)&&h(new c.pengoError.pengoError.PengoError("the param connector doesn\u00b4t belong to the blackbox.",c.pengoError.codes.codes.INVALID_DATA));
e[g]!==m&&h(new c.pengoError.pengoError.PengoError("Error: the nameKey is already in use.",c.pengoError.codes.codes.INVALID_DATA));Object.defineProperty(e,g,{get:function(){if(b.param)return b.param.value;if(b.defaultValue!==m)return b.defaultValue;if(k&&k[g])return k[g].defaultValue},set:function(a){b.param&&(b.param.value=a)},enumerable:s,configurable:s})},B:function(b,a){return a=this.Rc(b,a,s,m)},Yf:function(b){if(this.a[b])return this.a[b].param?this.a[b].param.value:this.type.a&&this.type.a[this.a[b].name]&&
this.type.a[this.a[b].name].defaultValue},Zf:function(){for(var b=this.a.map(function(a,b){if(a)return{nameKey:a.name,index:b}}),a=b.length-1;0<=a;a-=1)b[a]===m&&b.splice(a,1);return b},bg:function(){return this.a.length},D:function(b,a){return a=this.Rc(b,a,w,m)},ig:function(b){if(this.d[b]&&this.d[b].param)return this.d[b].param.value},Ch:function(b,a){this.d[b]&&this.d[b].param&&(this.d[b].param.value=a)},jg:function(){for(var b=this.d.map(function(a,b){if(a)return{nameKey:a.name,index:b}}),a=
b.length-1;0<=a;a-=1)b[a]===m&&b.splice(a,1);return b},dg:function(){return this.d.length},rg:function(b,a){try{return this.a[b].param===this.d[a].param}catch(k){return w}},Tc:function(b){"function"===typeof b&&(this.Fa=b)},i:function(b,a,k){return b&&!this.J[b]?(a===m&&(a=this.T.length),k||(this.type.Fa?k=this.type.Fa(this,b,a):this.Fa?k=this.Fa(b,a):h(new c.pengoError.pengoError.PengoError("Error: lack of callback.",c.pengoError.codes.codes.INVALID_DATA))),a===this.T.length?a=this.T.push(k)-1:(this.T[a]&&
h(new c.pengoError.pengoError.PengoError("Error: the index is already in use.",c.pengoError.codes.codes.INVALID_DATA)),this.T[a]=k),this.J[b]=k,a):-1},Af:function(b){var a;if("string"==typeof b)this.J[b]&&(a=this.T.indexOf(this.J[b]),-1!==a&&delete this.T[a],delete this.J[b]);else if(this.T[b]){for(a in this.J)this.J[a]===this.T[b]&&delete this.J[a];delete this.T[b]}},gf:function(b,a){if(this.J[b])this.J[b](a)},cg:function(){return this.T.length},g:function(b,a,k){this.wc[b]&&h(new c.pengoError.pengoError.PengoError("Error: the nameKey is already in use.",
c.pengoError.codes.codes.INVALID_DATA));a!==m?(this.k[a]&&h(new c.pengoError.pengoError.PengoError("Error: the index is already in use.",c.pengoError.codes.codes.INVALID_DATA)),this.k[a]=new c.c.b.bd.zd(this.s,b,k)):a=this.k.push(new c.c.b.bd.zd(this.s,b,k))-1;this.wc[b]=this.k[a].n;return a},kg:function(){for(var b=this.k.map(function(a,b){if(a)return{nameKey:a.Jj,index:b}}),a=b.length;0<=a;a-=1)b[a]===m&&b[a].splice(a,1);return b},eg:function(){return this.k.length},e:function(b,a){this.k[b].n(a,
this)},Pf:function(b,a){this.wc[b](a,this)},Tf:function(){var b;for(b=0;b<this.a.length;b++)this.a[b]&&this.a[b].done();this.a.length=0;this.inParameters={};for(b=0;b<this.d.length;b++)this.d[b]&&this.d[b].done();this.d.length=0;this.outParameters={};for(b=0;b<this.k.length;b++)this.k[b]&&this.k[b].done(this.s);this.k.length=0;this.wc={}},Ec:function(){this.type.load&&(this.ie=s,this.type.load(this,this.ae));this.ie=m},ra:function(b){function a(a,b){var g,f;if(a)for(var d=0;d<a.length;d+=1)if(f=a[d])g=
k.Rc(f[c.j.NAME],d,b,f[c.j.ID]),b?k.a[g].ra(f,k.Fb.ta):k.d[g].ra(f,k.Fb.ta)}var k=this;this.Tf();a(b[c.j.INPARAMS],s);a(b[c.j.OUTPARAMS],w);(function(a){var b,g;if(a)for(var f=0;f<a.length;f+=1)if(g=a[f]){b=k.g(g[c.j.NAME],f,g[c.j.ID]);var d=k.Fb.ta;g=g[c.j.LINKS];var r=m;g&&(r={},r[c.j.OUTPUTID]=k.k[b],r[c.j.LINKS]=g,d.Ma.push(r))}})(b[c.j.OUTPUTS]);(function(a){var b;if(a)for(var c=0;c<a.length;c+=1)(b=a[c])&&!k.J[b]&&k.i(b,c,m)})(b[c.j.INPUTS]);this.ae=b[c.j.EX]},og:C("s"),Ag:function(b){return(this.a[b]&&
this.a[b].param)!==m},Cg:function(b){return(this.d[b]&&this.d[b].param)!==m},Ud:function(b){if(this.a[b]&&this.a[b].param&&this.a[b].param.valueType)return this.a[b].param.valueType.id},Xd:function(b){if(this.d[b]&&this.d[b].param&&this.d[b].param.valueType)return this.d[b].param.valueType.id},vh:function(b,a){this.a[b]&&(this.a[b].param=a)},Xf:function(b){return this.a[b]&&this.a[b].param},Ff:function(b){return this.a[b]!==m},Bh:function(b,a){this.d[b]&&(this.d[b].param=a)},hg:function(b){if(this.d[b])return this.d[b].param},
Hf:function(b){return this.d[b]!==m},Mf:function(b,a){this.J[b](a)},Nf:function(b){this.s.O(this.J[b])},Gf:function(b){return this.J[b]!==m},Ye:function(b,a){this.k[b].Rb(a)},Sf:function(){for(var b=0;b<this.k.length;b+=1)this.k[b].Na.length=0},If:function(b){return this.k[b]!==m}};O.qi&&(d.prototype.setInParam=d.prototype.vh,d.prototype.getInParam=d.prototype.Xf,d.prototype.setOutParam=d.prototype.Bh,d.prototype.getOutParam=d.prototype.hg,d.prototype.fireInput=d.prototype.Mf,d.prototype.fireInputInNextRunSlot=
d.prototype.Nf,d.prototype.addCallbackToFireInOutput=d.prototype.Ye,d.prototype.freeInOutputsCallbacksToFire=d.prototype.Sf);d.prototype.createInParam=d.prototype.B;d.prototype.createOutParam=d.prototype.D;d.prototype.createInput=d.prototype.i;d.prototype.createOutput=d.prototype.g;d.prototype.existInParam=d.prototype.Ff;d.prototype.existOutParam=d.prototype.Hf;d.prototype.existInput=d.prototype.Gf;d.prototype.existOutput=d.prototype.If;d.prototype.isInParamConnected=d.prototype.Ag;d.prototype.getInParamValue=
d.prototype.Yf;d.prototype.getInParamType=d.prototype.Ud;d.prototype.getInParams=d.prototype.Zf;d.prototype.getNumberOfInParams=d.prototype.bg;d.prototype.isOutParamConnected=d.prototype.Cg;d.prototype.getOutParamValue=d.prototype.ig;d.prototype.setOutParamValue=d.prototype.Ch;d.prototype.getOutParamType=d.prototype.Xd;d.prototype.getOutParams=d.prototype.jg;d.prototype.getNumberOfOutParams=d.prototype.dg;d.prototype.inOutAreSharingTheSameParam=d.prototype.rg;d.prototype.callInput=d.prototype.gf;
d.prototype.getNumberOfInputs=d.prototype.cg;d.prototype.getOutputs=d.prototype.kg;d.prototype.getNumberOfOutputs=d.prototype.eg;d.prototype.fireOutput=d.prototype.e;d.prototype.fireOutEvent=d.prototype.Pf;d.prototype.getRunner=d.prototype.og;return{p:function(b){c=b;b.c.Ub.Blackbox=d},implementation:{v:d}}};T.b.object={};T.b.object.m={};T.b.object.m.ah={};S("PENGO.client.shared.runEngine.blackboxes.object.actuators.regItemRemover");
T.b.object.m.ah.resolve=function(){function d(b,a,k,l){var e=new c.c.b.u.v(b,a,k,l,"_RegItemRemover_key");e.B("target",0);e.g("done",0);e.i("do",0,function(a){var b,k,c,l,d=e.a[0].param&&e.a[0].param.value;if(d){for(b=1;b<e.a.length;b+=1)if(c=e.a[b].param&&e.a[b].param.value,c!==m){l=d;if(Array.isArray(c)){for(k=0;k<c.length-1&&l;k++)l=l[c[k]]?Array.isArray(l)?l[c[k]-1]:l[c[k]].value:m;k=Array.isArray(l)?c[c.length-1]-1:c[c.length-1]}else k=c;l&&delete l[k]}e.e(0,a)}});return e}var c;return{p:function(b){b.c.b.f.t("_RegItemRemover_key",
d);c=b},implementation:{fj:d}}};T.b.z={};T.b.z.m={};T.b.z.m.fi={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.waitForAll");
T.b.z.m.fi.resolve=function(){function d(b,c,e,g){b=new a.c.b.u.v(b,c,e,g,"_WaitForAll_key");var f=[];b.Kh=f;b.g("completed",0);b.i("reset",0,function(){for(var a=1;a<f.length;a++)f[a]=w});b.i("fire1",1,m);b.i("fire2",2,m);return b}function c(a,b){a.J.reset(b)}function b(a,b,c){var g,f,d=a.Kh;c===m&&(c=parseInt(b.substr(4)));if(c>=d.length)for(;c>=d.length;)d.push(w);else d[c]=w;return function(b){if(!d[c]){f=d[c]=s;for(g=1;g<d.length&&f;g+=1)f&=d[g];if(f){for(g=1;g<d.length;g+=1)d[g]=w;a.k[0].n(b,
a)}}}}var a;return{p:function(k){k.c.b.f.t("_WaitForAll_key",d);k.c.b.f.F("_WaitForAll_key",c,m);k.c.b.f.Jb("_WaitForAll_key",b,m);a=k},implementation:{uj:d}}};T.b.z.m.Lf={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.fireGate");
T.b.z.m.Lf.resolve=function(){function d(a,k,c,e){var g=new b.c.b.u.v(a,k,c,e,"_FireGate_key");g.g("opened",0);g.g("closed",1);var f=w;g.i("fire",0,function(a){f?g.k[0].n(a,g):g.k[1].n(a,g)});g.i("open",1,function(){f=s});g.i("close",2,function(){f=w});g.i("toggle",3,function(){f=!f});return g}function c(a,b){if(a.T[2].o)a.T[2].o(b);else a.T[2](b)}var b;return{p:function(a){a.c.b.f.t("_FireGate_key",d);a.c.b.f.F("_FireGate_key",c,m);b=a},implementation:{Ki:d}}};T.b.z.m.Yg={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.randomizer");
T.b.z.m.Yg.resolve=function(){function d(a){a.Eh(a.Ud(0))}function c(k,c,e,g){var f=new b.c.b.u.v(k,c,e,g,"_Randomizer_key");f.B("min",0);f.B("max",1);f.D("result",0);var d=f.g("done",0),r=m,n=[];f.Eh=function(a){if(a&&(r=b.c.r.K.types[a],n.length=0,r&&r.kb&&r.U&&!r.U.type)){a=b.c.r.K.Sb(a);for(var k in a)n.push(k)}};f.i("do",0,function(b){if(f.inParameters.min!=m&&f.inParameters.max!=m&&f.outParameters.result!=m){var k=f.inParameters.min,c=f.inParameters.max,e;if(0<n.length){e={};for(a=0;a<n.length;a++)e[n[a]]=
Math.random()*(c[n[a]]-k[n[a]])+k[n[a]]}else e=Math.random()*(c-k)+k;f.outParameters.result=e;f.e(d,b)}});return f}var b,a;return{p:function(a){a.c.b.f.t("_Randomizer_key",c);a.c.b.f.F("_Randomizer_key",m,d);b=a},implementation:{ej:c}}};T.b.time={};T.b.time.async={};T.b.time.async.Qh={};S("PENGO.client.shared.runEngine.blackboxes.time.async.timer");
T.b.time.async.Qh.resolve=function(){function d(k,c,e,g){var f=new b.c.b.u.v(k,c,e,g,"_Timer_key");f.B("time",0);f.B("loop",1);f.D("elapsedTime",0);f.D("normalizedTime",1);f.D("deltaTime",2);f.g("updated",0);f.g("finished",1);f.g("stopped",2);f.g("started",3);f.g("paused",4);var d=f.k,r=f.d,n=0,t=w,u,y,v;f.mf=function(){k.ga(u);n=0;t=w;y=m};f.i("start",0,function(b){f.inParameters.time!==m&&(t?u(b):(a=n=0,r[0].param&&(r[0].param.value=n),r[1].param&&(r[1].param.value=a),r[2]&&r[2].param&&(r[2].param.value=
0),y=f.inParameters.time,0<y?(v=f.inParameters.loop,k.O(u)):y=m,d[3]&&d[3].n(b,f),d[0].n(b,f),y===m&&d[1].n(b,f)),t=w)});f.i("pause",1,function(a){y!==m&&((t=!t)?k.ga(u):u(a),d[4]&&d[4].n(a,f))});f.i("stop",2,function(a){y!==m&&(y=m,t=w,k.ga(u),d[2]&&d[2].n(a,f))});u=function p(b){var c;n+=b.event.deltaTime;n>=y?(c=s,a=1):(c=w,a=n/y);r[0].param&&(r[0].param.value=n);r[1].param&&(r[1].param.value=a);r[2]&&r[2].param&&(r[2].param.value=b.event.deltaTime);c?(v?(n=0,k.O(p)):y=m,d[0].n(b,f),d[1].n(b,f)):
(k.O(p),d[0].n(b,f))};return f}function c(a){a.mf()}var b,a;return{p:function(a){a.c.b.f.t("_Timer_key",d);a.c.b.f.F("_Timer_key",c,m);a.c.b.f.$("_Timer_key","time",1E3);a.c.b.f.$("_Timer_key","loop",w);b=a},implementation:{lj:d}}};T.b.z.m.rf={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.copyParams");
T.b.z.m.rf.resolve=function(){function d(a){for(var b=a.lb.length=0;b<a.a.length;++b)a.lb.push(a.a[b].param!==m&&a.d[b].param!==m)}function c(a,k,c,e){var g=new b.c.b.u.v(a,k,c,e,"_CopyParams_key");g.lb=[];g.g("done",0);g.i("do",0,function(a){for(var b=0;b<g.a.length;++b)g.lb[b]&&(g.d[b].param.value=g.a[b].param.value);g.e(0,a)});return g}var b;return{p:function(a){a.c.b.f.t("_CopyParams_key",c);a.c.b.f.F("_CopyParams_key",m,d);b=a},implementation:{Fi:c}}};T.b.pb={};T.b.pb.wa={};T.b.pb.wa.Ih={};S("PENGO.client.shared.runEngine.blackboxes.user.sync.showSignUp");
T.b.pb.wa.Ih.resolve=function(){function d(b,a,k,l){var e=new c.c.b.u.v(b,a,k,l,"_ShowSignUp_key");e.xf=s;e.g("shown",0);e.g("closed",1);e.g("alreadySignedIn",2);e.i("show",0,function(a){function k(a){b.O(function(b){e.fireOutput(a===s?2:1,b)})}function l(){e.e(0,a)}c.Qb!==m&&c.Qb.showSignUpDialog(k,l,e.Qc,"fromBB")});return e}var c;return{p:function(b){b.c.b.f.t("_ShowSignUp_key",d);b.c.b.f.F("_ShowSignUp_key",m,function(a,b){a.Qc=b===m||b.S?s:w});c=b},implementation:{Bj:d}}};T.Ja={};S("PENGO.client.shared.runEngine.assetFactory");
T.Ja.resolve=function(){function d(){this.Zb={};this.aa={}}var c;d.prototype={Tb:{oi:"Undefined asset type",hi:"Callback already defined for property",Ke:"Callback already defined",li:"Load callback not defined",ji:"Get callback not defined",ki:"Get callback and subtype error",ii:"Registered file extension with different file mime types"},eh:B(),dh:function(b){function a(){h(new c.pengoError.pengoError.PengoError("ASSET_CALLBACK_ALREADY_REGISTERED:"+d.prototype.Tb.Ke+" "+b.type,c.pengoError.codes.codes.INVALID_DATA))}
if(this.Zb[b.type])a();else if(Array.isArray(b.type))if(Array.isArray(b.callbacks))if(b.type.length==b.callbacks.length)for(var k=0;k<b.type.length;k+=1)this.Zb[b.type[k]]=b.callbacks[k];else a();else for(k=0;k<b.type.length;k+=1)this.Zb[b.type[k]]=b.callbacks;else this.Zb[b.type]=b.callbacks},Ta:function(b){var a=-1,k=this.aa[b];if(k&&(k.yc--,a=k.yc,0>=k.yc)){if(k.ue!==m)for(var c=0;c<k.ue.length;c++)this.Ta(k.ue[c]);k.unload&&k.unload(k.qb);delete this.aa[b]}return a},get:function(b,a,k){function l(b,
k){var f;if(b){c.Pa.warn("WARNING: Error downloading resource "+k);if(b.code===c.pengoError.codes.codes.NOT_FOUND||b.code===m)f=s;if(g.aa[k]){for(var l=g.aa[k].oa.length,d=0;d<l;d++)g.aa[k].oa[d].La(m,m,f);delete g.aa[k]}}else(f=g.Zb[k.type])&&g.aa[k.id]?(g.aa[k.id].get=f.get,g.aa[k.id].unload=f.unload(k.type),g.aa[k.id].assetType=k.type,f.load(k.data,e,k.id,k.type)):(c.Pa.warn("WARNING: Manager for loading "+k.type+" type not registered"),a())}function e(a,b){var k,c=g.aa[a];if(c)if(b){c.qb=b;for(k=
0;k<c.oa.length;k+=1)c.oa[k].La&&(c.get?(f=c.get(c.qb,c.oa[k].r),f!==m?c.oa[k].La(f):c.oa[k].La(m,m,s)):c.oa[k].La(c.qb));c.oa=m}else{for(k=0;k<c.oa.length;k+=1)c.oa[k].La&&(c.oa[k].La(),c.oa[k].La=m);c.oa=m;g.aa[a]=m}}var g=this,f=m;this.aa[b]?(this.aa[b].yc++,this.aa[b].qb?this.aa[b].get?(f=this.aa[b].get(this.aa[b].qb,k),f!==m?a(f):a(m,m,s)):a(this.aa[b].qb):this.aa[b].oa.push({r:k,La:a})):(this.aa[b]={oa:[{r:k,La:a}],yc:1},c.te.getRes(b,m,l))}};d.prototype.registerAssetType=d.prototype.dh;d.prototype.reloadAssets=
d.prototype.eh;d.prototype.get=d.prototype.get;d.prototype.release=d.prototype.Ta;return{p:function(b){c=b},implementation:{Le:d}}};T.$d={};S("PENGO.client.shared.runEngine.idMapper");
T.$d.resolve=function(){function d(b){this.s=b;this.Ea=[];this.Cb={}}var c;d.prototype={Tb:{Me:"Object with repeated ID, there is a previous object with the same ID"},Td:function(){function b(){return(65536*(1+Math.random())|0).toString(16).substring(1)}for(var a=parseInt(b()+b()+b(),16);a==c.j.ROOT||a==c.j.ROOT_START||this.Ea[a]!=m;)a=parseInt(b()+b()+b(),16);return a},ze:function(b){b.G=this.Td();this.Ea[b.G]=b;var a=this.Cb[b.G];if(a){for(var k=0;k<a.length;k++)a[k](b);delete this.Cb[b.G]}},Va:function(b,
a){this.Ea[a]&&(c.Pa&&c.Pa.error("ERROR: setting repeated ID in the object "+b.name),h(new c.pengoError.pengoError.PengoError(d.prototype.Tb.Me,c.pengoError.codes.codes.INVALID_DATA)));b.G=a;this.Ea[a]=b;var k=this.Cb[a];if(k){for(var l=0;l<k.length;l++)k[l](b);delete this.Cb[a]}},oc:function(b){this.Cb[b]&&delete this.Cb[b];delete this.Ea[b]}};return{p:function(b){c=b},implementation:{Ne:d}}};T.b.W={};T.b.W.m={};T.b.W.m.fh={};S("PENGO.client.shared.runEngine.blackboxes.collection.actuators.removeItems");
T.b.W.m.fh.resolve=function(){function d(a){a.k[1]||a.Sg()}function c(a,k,c,e){function g(a){f.e(1,a)}var f=new b.c.b.u.v(a,k,c,e,"_ItemRemover_key");f.Sg=function(){g=B()};f.B("target",0);f.D("numberOfRemoved",0);f.D("numberOfItemsLeft",1);f.g("done",0);f.g("empty",1);f.i("do",0,function(a){function b(a){if(a!==m)for(x=l.indexOf(a);-1!=x;)l.splice(x,1),x=l.indexOf(a)}var k,c,e,l,d,x;if(f.a[0].param){l=f.a[0].param.value;e=l.length;for(k=1;k<f.a.length;k++)if(f.a[k].param)if(d=f.a[k].param.value,
Array.isArray(d)){d==l&&(d=d.slice(0));for(c=0;c<d.length;c++)b(d[c])}else b(d);f.outParameters.numberOfRemoved=e-l.length;f.outParameters.numberOfItemsLeft=l.length;f.e(0,a);0===l.length&&g(a)}});return f}var b;return{p:function(a){a.c.b.f.t("_ItemRemover_key",c);a.c.b.f.F("_ItemRemover_key",m,d);b=a},implementation:{Si:c}}};T.b.z.m.Qf={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.fireSelector");
T.b.z.m.Qf.resolve=function(){function d(b,a,k,l){function e(a){var b,k=[],c=[],f=0,e=0;for(b=1;b<n.a.length;b++)f=n.a[b].param&&n.a[b].param.value,0<f&&(c.push(b),k.push(f),e+=f);f=Math.random()*e;for(b=e=0;b<k.length;b++)if(e+=k[b],f<=e){n.d[0].param&&(n.d[0].param.value=c[b]);n.k[c[b]].n(a,n);break}}function d(a){n.a[0].param&&n.a[0].param.value?n.k[0].n(a,n):n.k[1].n(a,n)}function f(a){t=n.inParameters.outNumber;1<=t&&n.k[t]&&n.k[t].n(a,n)}function q(a){t+=1;t===n.k.length?t-=1:(n.d[0].param&&
(n.d[0].param.value=t),n.k[t].n(a,n))}function r(a){t=Math.ceil(Math.random()*(n.k.length-1));0===t&&(t=1);n.d[0].param&&(n.d[0].param.value=t);n.k[t].n(a,n)}var n=new c.c.b.u.v(b,a,k,l,"_FireSelector_key"),t=0,u;n.g("out1",1);n.g("out2",2);n.B("outNumber",0);n.i("fire",0,function(a){u(a)});n.re=function(){t=0};n.Gh=function(){t=0;u=n.a[1]?e:n.k[0]?d:n.a[0]?f:n.T[1]?q:r};return n}var c;return{p:function(b){b.c.b.f.t("_FireSelector_key",d);b.c.b.f.$("_FireSelector_key","outNumber",1);b.c.b.f.$("_FireSelector_key",
"outBool",w);b.c.b.f.F("_FireSelector_key",function(a){a.re()},function(a){a.Gh()});b.c.b.f.Jb("_FireSelector_key",function(a){return a.re});c=b},implementation:{Li:d}}};T.b.W.m.We={};S("PENGO.client.shared.runEngine.blackboxes.collection.actuators.actionOnCollection");
T.b.W.m.We.resolve=function(){function d(a,k,l,e){var d=new c.c.b.u.v(a,k,l,e,"_ActionOnCollection_key"),f=m;d.ph=function(a){f=m;b[a]&&(f=b[a])};d.B("target",0);d.i("do",0,function(a){f&&f(d,a)});return d}var c,b={};d.prototype={};b={addItems:function(a,b){function c(a){this.push(a)}if(a.a[0].param){for(var e=1;e<a.a.length;e++){var d=a.a[e].param&&a.a[e].param.value;d!==m&&(Array.isArray(d)?d.forEach(c,a.a[0].param.value):a.a[0].param.value.push(d))}a.outParameters.numberOfItems=a.a[0].param.value.length;
a.e(0,b)}},changeItem:function(a,b){var c=a.a[2].param!==m&&a.a[2].param.value-1;a.a[0].param&&(c!==m&&a.a[1].param&&a.a[1].param.value!==m)&&(a.a[0].param.value[c]!==m?(a.a[0].param.value[c]=a.a[1].param.value,a.e(0,b)):a.e(1,b))},clone:function(a,b){a.a[0].param&&a.d[0].param&&(a.d[0].param.value=a.a[0].param.value.slice(0),a.e(0,b))},concatenate:function(a,b){a.a[0].param!==m&&(a.a[1].param!==m&&a.d[0].param!==m)&&(a.d[0].param.value=a.a[0].param.value.concat(a.a[1].param.value),a.e(0,b))},contains:function(a,
b){a.a[0].param&&(a.a[1].param&&a.a[1].param.value!==m)&&(_.contains(a.a[0].param.value,a.a[1].param.value)?a.e(0,b):a.e(1,b))},difference:function(a,b){a.a[0].param!==m&&(a.a[1].param!==m&&a.d[0].param!==m)&&(a.d[0].param.value=_.difference(a.a[0].param.value,a.a[1].param.value),a.e(0,b))},empty:function(a,b){a.a[0].param&&(a.a[0].param.value.length=0,a.e(0,b))},extractItem:function(a,b){var c=a.a[1].param&&a.a[1].param.value-1;a.a[0].param&&c!==m&&(a.a[0].param.value[c]!==m?(a.d[0].param?(a.d[0].param.value=
a.a[0].param.value[c],a.a[0].param.value.splice(c,1),a.e(1,b)):a.a[0].param.value.splice(c,1),a.e(0,b)):a.e(2,b))},extractItems:function(a,b){var c=a.a[1].param&&a.a[1].param.value-1;a.a[0].param&&c!==m&&(a.a[0].param.value[c]!==m?(a.d[0].param?(a.d[0].param.value=a.a[2].param?a.a[0].param.value.splice(c,a.a[2].param.value):a.a[0].param.value.splice(c),a.e(1,b)):a.a[2].param?a.a[0].param.value.splice(c,a.a[2].param.value):a.a[0].param.value.splice(c),a.e(0,b)):a.e(2,b))},extractRandomItem:function(a,
b){var c,e=a.a[0].param&&a.a[0].param.value;e!==m&&a.d[0].param&&(0<e.length?(c=Math.floor(Math.random()*e.length),c===e.length&&(c=e.length-1),a.d[0].param.value=e[c],e.splice(c,1),0===e.length&&a.e(1,b),a.e(0,b)):a.e(1,b))},extractRandomItems:function(a,b){var c,e,d,f=a.a[0].param&&a.a[0].param.value,q=a.d[0].param;if(f!==m&&q)if(0<f.length){d=a.a[1].param&&a.a[1].param.value;d===m&&(d=1);d=Math.min(d,f.length);for(c=q.value.length=0;c<d;c++)e=Math.floor(Math.random()*f.length),e===f.length&&(e=
f.length-1),q.value.push(f[e]),f.splice(e,1);a.d[1].param&&(a.d[1].param.value=q.value.length);0===f.length&&a.e(1,b);a.e(0,b)}else a.e(1,b)},fill:function(a,b){var c=a.a[0].param&&a.a[0].param.value,e=a.a[1].param&&a.a[1].param.value;if(c&&e){var d=a.a[2].param&&a.a[2].param.value-1,f=a.a[3].param&&a.a[3].param.value-1;if(d===m||0>d)d=0;f===m&&(f=c.length-1);for(d;d<=f;d+=1)c[d]=e;a.e(0,b)}},getItem:function(a,b){var c=a.a[1].param&&a.a[1].param.value-1;a.a[0].param&&(c!==m&&a.d[0].param)&&(a.a[0].param.value[c]!==
m?(a.d[0].param.value=a.a[0].param.value[c],a.e(0,b)):a.e(1,b))},getItems:function(a,b){var c=a.a[1].param&&a.a[1].param.value-1;if(a.a[0].param&&c!==m&&a.d[0].param)if(a.a[0].param.value[c]!==m){var e=a.a[2].param&&a.a[2].param.value;e!==m&&(0>e&&(e=0),e=c+e);a.d[0].param.value=a.a[0].param.value.slice(c,e);a.e(0,b)}else a.e(1,b)},getRandomItem:function(a,b){var c,e=a.a[0].param&&a.a[0].param.value;e!==m&&a.d[0].param&&(0<e.length?(c=Math.floor(Math.random()*e.length),c===e.length&&(c=e.length-1),
a.d[0].param.value=e[c],a.e(0,b)):a.e(1,b))},getRandomItems:function(a,b){var c,e,d,f=a.a[0].param&&a.a[0].param.value,q=a.d[0].param;if(f!==m&&q)if(0<f.length){f=f.slice(0);d=a.a[1].param&&a.a[1].param.value;d===m&&(d=1);d=Math.min(d,f.length);for(c=q.value.length=0;c<d;c++)e=Math.floor(Math.random()*f.length),e===f.length&&(e=f.length-1),q.value.push(f[e]),f.splice(e,1);a.d[1].param&&(a.d[1].param.value=q.value.length);a.e(0,b)}else a.e(1,b)},insertItem:function(a,b){var c=a.a[2].param&&a.a[2].param.value-
1;a.a[0].param&&(0<=c&&a.a[1].param&&a.a[1].param.value!==m)&&(a.a[0].param.value.splice(c,0,a.a[1].param.value),a.e(0,b))},insertItems:function(a,b){var c,e=a.a[1].param&&a.a[1].param.value,d=a.a[2].param&&a.a[2].param.value-1,f=a.a[0].param&&a.a[0].param.value;if(f&&e&&0<=d){for(e=e.slice(0);e.length;)(c=e.pop())&&f.splice(d,0,c);a.e(0,b)}},intersection:function(a,b){a.a[0].param!==m&&(a.a[1].param!==m&&a.d[0].param!==m)&&(a.d[0].param.value=_.intersection(a.a[0].param.value,a.a[1].param.value),
a.e(0,b))},indexOf:function(a,b){if(a.a[0].param&&a.a[1].param&&a.a[1].param.value!==m){var c=a.a[0].param.value.indexOf(a.a[1].param.value);-1===c?(a.d[0].param&&(a.d[0].param.value=c),a.e(2,b)):(a.d[0].param&&(a.d[0].param.value=c+1),a.e(1,b));a.e(0,b)}},isEmpty:function(a,b){a.a[0].param&&(0===a.a[0].param.value.length?a.e(0,b):a.e(1,b))},lastIndexOf:function(a,b){if(a.a[0].param&&a.a[1].param&&a.a[1].param.value!==m){var c=a.a[0].param.value.lastIndexOf(a.a[1].param.value);-1===c?(a.d[0].param&&
(a.d[0].param.value=c),a.e(2,b)):(a.d[0].param&&(a.d[0].param.value=c+1),a.e(1,b));a.e(0,b)}},length:function(a,b){if(a.a[0].param){var c=a.a[0].param.value.length;a.d[0].param&&(a.d[0].param.value=c);0===c?a.e(1,b):a.e(2,b);a.e(0,b)}},pop:function(a,b){a.a[0].param&&(a.d[0].param?a.d[0].param.value=a.a[0].param.value.pop():a.a[0].param.value.pop(),a.e(0,b))},push:function(a,b){a.a[0].param&&(a.a[1].param&&a.a[1].param.value!==m)&&(a.d[0].param?a.d[0].param.value=a.a[0].param.value.push(a.a[1].param.value):
a.a[0].param.value.push(a.a[1].param.value),a.e(0,b))},reference:function(a,b){a.a[0].param&&a.d[0].param&&(a.d[0].param.value=a.a[0].param.value,a.e(0,b))},removeItem:function(a,b){var c,e,d;if(a.a[0].param&&a.a[1].param){e=a.a[0].param.value;c=e.length;for(d=e.indexOf(a.a[1].param.value);-1!=d;)e.splice(d,1),d=e.indexOf(a.a[1].param.value);a.d[0].param&&(a.d[0].param.value=c-e.length);a.d[1].param&&(a.d[1].param.value=e.length);0===e.length&&a.e(1,b);a.e(0,b)}},removeItems:function(a,b){var c,e,
d,f,q;if(a.a[0].param&&a.a[1].param){d=a.a[0].param.value;e=d.length;f=a.a[1].param.value;f==d&&(f=f.slice(0));for(c=0;c<f.length;c++)for(q=d.indexOf(f[c]);-1!=q;)d.splice(q,1),q=d.indexOf(f[c]);a.d[0].param&&(a.d[0].param.value=e-d.length);a.d[1].param&&(a.d[1].param.value=d.length);0===d.length&&a.e(1,b);a.e(0,b)}},shift:function(a,b){a.a[0].param&&(a.d[0].param?a.d[0].param.value=a.a[0].param.value.shift():a.a[0].param.value.shift(),a.e(0,b))},shuffle:function(a,b){a.a[0].param&&a.d[0].param&&
(a.d[0].param.value=_.shuffle(a.a[0].param.value),a.e(0,b))},union:function(a,b){a.a[0].param!==m&&(a.a[1].param!==m&&a.d[0].param!==m)&&(a.d[0].param.value=_.union(a.a[0].param.value,a.a[1].param.value),a.e(0,b))},unique:function(a,b){a.a[0].param&&a.d[0].param&&(a.d[0].param.value=_.uniq(a.a[0].param.value),a.e(0,b))},unshift:function(a,b){a.a[0].param&&(a.a[1].param&&a.a[1].param.value!==m)&&(a.d[0].param?a.d[0].param.value=a.a[0].param.value.unshift(a.a[1].param.value):a.a[0].param.value.unshift(a.a[1].param.value),
a.e(0,b))},without:function(a,b){var c,e=a.a[0].param&&a.a[0].param.value,d=a.a[1].param&&a.a[1].param.value;if(e!==m&&d!==m&&a.d[0].param!==m){if(d.length){for(c=0;c<d.length;c+=1)e=_.without(e,d[c]);a.d[0].param.value=e}else a.d[0].param.value=e.slice(0);a.e(0,b)}}};return{p:function(a){a.c.b.f.t("_ActionOnCollection_key",d);a.c.b.f.F("_ActionOnCollection_key",m,function(a,b){b!==m&&a.ph(b)});c=a},implementation:{zi:d}}};T.b.z.m.ei={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.valueReferencer");
T.b.z.m.ei.resolve=function(){function d(a){for(var b=a.lb.length=0;b<a.a.length;++b)a.lb.push(a.a[b].param!==m&&a.d[b].param!==m)}function c(a,c,d,e){var g=new b.c.b.u.v(a,c,d,e,"_ValueReferencer_key");g.lb=[];g.g("done",0);g.i("do",0,function(a){for(var b=0;b<g.a.length;++b)g.lb[b]&&(g.d[b].param.value=g.a[b].param.value);g.e(0,a)});return g}var b;return{p:function(a){a.c.b.f.t("_ValueReferencer_key",c);a.c.b.f.F("_ValueReferencer_key",m,d);b=a},implementation:{tj:c}}};T.b.object.m.Zg={};S("PENGO.client.shared.runEngine.blackboxes.object.actuators.regGetItems");
T.b.object.m.Zg.resolve=function(){function d(b,a,k,d){var e=new c.c.b.u.v(b,a,k,d,"_ObjectGetItems_key");e.B("target",0);e.g("done",0);e.i("do",0,function(a){var b,c,k,d,l,u,y=e.a[0].param&&e.a[0].param.value;if(y){for(b=1;b<e.a.length;b+=1)if(k=e.a[b].param&&e.a[b].param.value,d=e.d[b-1].param,k!==m&&d!==m){if(Array.isArray(k)){l=y;for(c=0;c<k.length&&l;c++)Array.isArray(l)?l=l[k[c]-1]?c<k.length-1?l[k[c]-1]:{value:l[k[c]-1],valueType:u}:m:l[k[c]]?c<k.length-1?(u=l[k[c]].valueType,l=l[k[c]].value):
l=l[k[c]]:l=m}else l=y[k];l!==m&&(d.valueType.Oa(l.valueType)&&Array.isArray(l.value)===Array.isArray(d.value))&&(d.value=l.value)}e.e(0,a)}});return e}var c;return{p:function(b){b.c.b.f.t("_ObjectGetItems_key",d);c=b},implementation:{$i:d}}};T.b.pb.wa.zg={};S("PENGO.client.shared.runEngine.blackboxes.user.sync.isAnonymous");T.b.pb.wa.zg.resolve=function(){function d(b,a,k,d){var e=new c.c.b.u.v(b,a,k,d,"_IsAnonymous_key");e.g("true",0);e.g("false",1);e.i("check",0,function(a){c.Qb.isAnonymous()?e.e(0,a):e.e(1,a)});return e}var c;return{p:function(b){b.c.b.f.t("_IsAnonymous_key",d);c=b},implementation:{vj:d}}};T.b.W.m.of={};S("PENGO.client.shared.runEngine.blackboxes.collection.actuators.collectionTraverse");
T.b.W.m.of.resolve=function(){function d(a,c,d,e){var g=new b.c.b.u.v(a,c,d,e,"_CollectionTraverse_key"),f=s,q,r=w;g.Uc=function(a){f=a};g.B("targetCollection",0);g.D("index",0);g.D("item",1);g.g("updated",0);g.g("finished",1);g.g("stopped",2);g.i("start",0,function(a){var b=g.a[0].param&&g.a[0].param.value;if(b!==m){r=w;if(f)for(q=0;q<b.length;q+=1){if(g.d[0].param&&(g.d[0].param.value=q+1),g.d[1].param&&(g.d[1].param.value=b[q]),g.e(0,a),r){g.e(2,a);return}}else for(q=b.length-1;0<=q;q-=1)if(g.d[0].param&&
(g.d[0].param.value=q+1),g.d[1].param&&(g.d[1].param.value=b[q]),g.e(0,a),r){g.e(2,a);return}g.e(1,a)}});g.i("stop",1,function(){g.a[0].param&&(r=s)});return g}function c(a,b){a.Uc(b===s)}var b;return{p:function(a){a.c.b.f.t("_CollectionTraverse_key",d);a.c.b.f.F("_CollectionTraverse_key",m,c);b=a},implementation:{rj:d}}};T.De={};T.De.Vg={};S("PENGO.client.shared.runEngine.stats.pengoStats");
T.De.Vg.resolve=function(){function d(d,v){this.Jh=d;this.ja=111;this.H=30;this.Oj=w;this.Fc=0;try{window.performance&&window.performance.memory&&window.performance.memory.totalJSHeapSize!=m&&(t=3)}catch(x){}this.Ga=document.createElement("div");this.Ga.className="main-stats";this.Ya=document.createElement("div");this.Ya.className="bg-stats fps-bg-stats";this.Ga.appendChild(this.Ya);this.hb=document.createElement("div");this.hb.className="txt-stats fps-txt-stats";this.hb.innerHTML="<span>FPS</span>";
this.Ya.appendChild(this.hb);this.ea=document.createElement("canvas");this.ea.className="draw-stats";this.ea.width=this.ja;this.ea.height=this.H;this.ea.style.display="block";this.Ya.appendChild(this.ea);this.Za=this.ea.getContext("2d");this.Za.fillStyle="rgb("+u.fps.Z.pa+","+u.fps.Z.na+","+u.fps.Z.ma+")";this.Za.fillRect(0,0,this.ea.width,this.ea.height);this.xb=this.Za.getImageData(0,0,this.ea.width,this.ea.height);this.Ha=document.createElement("div");this.Ha.className="bg-stats mb-bg-stats";this.Ha.style.display=
"block";this.Ga.appendChild(this.Ha);this.Bb=document.createElement("div");this.Bb.className="txt-stats mb-txt-stats";this.Bb.innerHTML="<span>MB</span>";this.Ha.appendChild(this.Bb);this.la=document.createElement("canvas");this.la.className="draw-stats";this.la.width=this.ja;this.la.height=this.H;this.la.style.display="block";this.Ha.appendChild(this.la);this.$a=this.la.getContext("2d");this.$a.fillStyle="rgb("+u.mb.Z.pa+","+u.mb.Z.na+","+u.mb.Z.ma+")";this.$a.fillRect(0,0,this.la.width,this.la.height);
this.Ab=this.$a.getImageData(0,0,this.la.width,this.la.height);var p=this;d&&(this.Ha.style.display="none",this.Ga.style.cursor="pointer",this.Ga.addEventListener("click",function(){p.Fc++;p.Fc==t&&(p.Fc=0);p.Ya.style.display="none";p.Ha.style.display="none";switch(p.Fc){case 0:p.Ya.style.display="block";break;case 1:p.Ha.style.display="block"}},w));var A="";v.id&&(A=v.id,v.appendChild(this.Ga));this.Ga.id="Stats_"+A;var E=0,z=0,I=n;this.tg=function(b){n=b.event.time;E=n+1E3;for(var d=b=0,u=w;!u&&
b<document.styleSheets.length;){if(document.styleSheets[b].href&&0<=document.styleSheets[b].href.indexOf("stats.css")){for(;!u&&d<document.styleSheets[b].cssRules.length;)u=".main-stats"==document.styleSheets[b].cssRules[d].selectorText,d++;d=0}b++}u&&p.oe();k=Math.round(59);l=Math.min(l,k);e=Math.max(e,k);c(p.xb.data,p.ja,p.H,Math.min(p.H,p.H-k/100*p.H));p.hb.innerHTML='<span style="font-weight:normal">'+k+" FPS</span> ("+l+"-"+e+")";p.Za.putImageData(p.xb,0,0);3==t&&(q=9.54E-7*window.performance.memory.usedJSHeapSize,
r=9.54E-7*window.performance.memory.totalJSHeapSize,g=Math.min(g,r),f=Math.max(f,r),a(p.Ab.data,p.ja,p.H,p.H-p.H*q/f,p.H-p.H*r/f),p.Bb.innerHTML='<span style="font-weight:normal">'+Math.round(q)+"/"+Math.round(r)+" MB</span> ("+Math.round(g)+"-"+Math.round(f)+")",p.$a.putImageData(p.Ab,0,0));I=n;z=0};this.Cj=function(b){n=b.event.time;z++;n>E&&(E=n+1E3,k=Math.round(1E3*z/(n-I)),l=Math.min(l,k),e=Math.max(e,k),c(p.xb.data,p.ja,p.H,Math.min(p.H,p.H-k/100*p.H)),p.hb.innerHTML='<span style="font-weight:normal">'+
k+" FPS</span> ("+l+"-"+e+")",p.Za.putImageData(p.xb,0,0),3==t&&(q=9.54E-7*window.performance.memory.usedJSHeapSize,r=9.54E-7*window.performance.memory.totalJSHeapSize,g=Math.min(g,r),f=Math.max(f,r),a(p.Ab.data,p.ja,p.H,p.H-p.H*q/f,p.H-p.H*r/f),p.Bb.innerHTML='<span style="font-weight:normal">'+Math.round(q)+"/"+Math.round(r)+" MB</span> ("+Math.round(g)+"-"+Math.round(f)+")",p.$a.putImageData(p.Ab,0,0)),I=n,z=0)};this.jh=function(){b(p.xb.data,p.ja,p.H);p.hb.innerHTML='<span style="font-weight:normal"> FPS</span>';
p.Za.clearRect(0,0,p.ja,p.H);3==t&&(b(p.Ab.data,p.ja,p.H),p.Bb.innerHTML='<span style="font-weight:normal"> MB</span>',p.$a.clearRect(0,0,p.ja,p.H))}}function c(a,b,c,k){var f,d,e,l=b-1;for(f=0;f<c;f++)for(d=0;d<l;d++)e=4*(d+f*b),a[e]=a[e+4],a[e+1]=a[e+5],a[e+2]=a[e+6];for(f=0;f<c;f++)e=4*(l+f*b),f<k?(a[e]=u.fps.Z.pa,a[e+1]=u.fps.Z.na,a[e+2]=u.fps.Z.ma):(a[e]=u.fps.Aa.pa,a[e+1]=u.fps.Aa.na,a[e+2]=u.fps.Aa.ma)}function b(a,b,c){var k,f,d;for(k=0;k<c;k++)for(f=0;f<b;f++)d=4*(f+k*b),a[d]=u.fps.Z.pa,
a[d+1]=u.fps.Z.na,a[d+2]=u.fps.Z.ma}function a(a,b,c,k,f){var d,e,l,g=b-1;for(d=0;d<c;d++)for(e=0;e<g;e++)l=4*(e+d*b),a[l]=a[l+4],a[l+1]=a[l+5],a[l+2]=a[l+6];for(d=0;d<c;d++)l=4*(g+d*b),d<f?(a[l]=u.mb.Z.pa,a[l+1]=u.mb.Z.na,a[l+2]=u.mb.Z.ma):d<k?(a[l]=Math.floor(u.mb.Aa.pa/2),a[l+1]=Math.floor(u.mb.Aa.na/2),a[l+2]=Math.floor(u.mb.Aa.ma/2)):(a[l]=u.mb.Aa.pa,a[l+1]=u.mb.Aa.na,a[l+2]=u.mb.Aa.ma)}var k=0,l=1E3,e=0,g=1E3,f=0,q=0,r=0,n=0,t=2,u={fps:{Z:{pa:34,na:34,ma:34},Aa:{pa:165,na:224,ma:76}},mb:{Z:{pa:16,
na:16,ma:48},Aa:{pa:223,na:173,ma:255}},black:{Z:{pa:16,na:16,ma:48},Aa:{pa:16,na:16,ma:48}}};d.prototype={oe:function(){this.resize();this.rh()},pc:C("Ga"),rh:function(){this.Ya.style.backgroundColor="rgb("+Math.floor(u.fps.Z.pa/2)+","+Math.floor(u.fps.Z.na/2)+","+Math.floor(u.fps.Z.ma/2)+")";this.Ha.style.backgroundColor="rgb("+Math.floor(u.mb.Z.pa/2)+","+Math.floor(u.mb.Z.na/2)+","+Math.floor(u.mb.Z.ma/2)+")"},resize:function(){var a=this.Ga.clientWidth,b=this.ea.offsetLeft;this.H=this.Ga.clientHeight-
this.hb.clientHeight;this.Jh?this.ja=a-2*b:(this.ja=Math.floor((a-b)/2)-b,this.Ya.style.left="0px",this.Ha.style.left=Math.floor((a-b)/2)+"px");0>=this.ja&&(this.ja=1);0>=this.H&&(this.H=1);this.ea.width=this.ja;this.ea.height=this.H;this.Za.fillRect(0,0,this.ea.width,this.ea.height);this.xb=this.Za.getImageData(0,0,this.ea.width,this.ea.height);this.la.width=this.ja;this.la.height=this.H;this.$a.fillRect(0,0,this.la.width,this.la.height);this.Ab=this.$a.getImageData(0,0,this.la.width,this.la.height)}};
return{p:B(),implementation:{pi:d}}};T.b.va={};T.b.va.ca={};T.b.va.ca.Hg={};S("PENGO.client.shared.runEngine.blackboxes.device.sensors.keyboardListener");
T.b.va.ca.Hg.resolve=function(){function d(b,a,k,l){function e(a){p.d[0].param&&(p.d[0].param.value=a);p.d[1].param&&(p.d[1].param.value=d.prototype.q[a]!==m?d.prototype.q[a]:" ")}var g,f,q,r,n,t,u,y=[],v=w,x=m,p=new c.c.b.u.v(b,a,k,l,"_KeyboardListener_key");p.g("any",0);p.D("keyCode",0);p.D("keyName",1);t=w;p.yb="keydown";p.od=function(a){function b(a){"keydown"==a?(x=m,p.yb="keydown",v=w):"keyup"==a?(x=s,p.yb=a,v=w):"pressed"==a&&(x=m,p.yb="keydown",v=s)}t&&p.yb!==a?(f(),b(a),g()):b(a)};p.Wb=[];
p.$e=function(a){function c(f){e(a);k(f,p);v&&y[a]&&b.da(c)}p.k[a]||p.g(d.prototype.l[a],a);var k=p.k[a].n;p.Wb[a]=c};var A=[];u=function(a){A[a]=function(c){e(a);p.k[0].n(c,p);v&&y[a]&&b.da(A[a])};return A[a]};q=function(a){b.qc()||(a=a||window.event,a="number"==typeof a.which?a.which:a.keyCode,y[a]==x&&(p.k[a]&&b.da(p.Wb[a]),b.da(u(a))))};r=function(a){a=a||window.event;y["number"==typeof a.which?a.which:a.keyCode]=s};n=function(a){a=a||window.event;y["number"==typeof a.which?a.which:a.keyCode]=
m};g=function(){t||(document.addEventListener(p.yb,q,w),document.addEventListener("keydown",r,w),document.addEventListener("keyup",n,w),t=s)};f=function(){var a;if(t){for(a=0;a<p.Wb.length;a+=1)p.Wb[a]&&b.ha(p.Wb[a]);for(a=0;a<A.length;a+=1)A[a]&&b.ha(A[a]);A.length=0;document.removeEventListener(p.yb,q,w);document.removeEventListener("keydown",r,w);document.removeEventListener("keyup",n,w);y.length=0;t=w}};p.i("on",0,g);p.i("off",1,f);return p}var c;d.prototype={l:[],q:[],keys:"Backspace;Tab;Enter;Shift;Control;Alt - Option on Mac;Escape;Space;Page Up;Page Down;End;Home;Left arrow;Up arrow;Right arrow;Down arrow;Insert;Delete;0;1;2;3;4;5;6;7;8;9;A;B;C;D;E;F;G;H;I;J;K;L;M;N;O;P;Q;R;S;T;U;V;W;X;Y;Z;0 on keypad;1 on keypad;2 on keypad;3 on keypad;4 on keypad;5 on keypad;6 on keypad;7 on keypad;8 on keypad;9 on keypad;* on keypad;+ on keypad;- on keypad;. on keypad;/ on keypad;F1;F2;F3;F4;F5;F6;F7;F8;F9;F10;F11;F12".split(";"),
Ig:function(b,a){a.Cs.forEach(function(a){b.$e(a)});a.E===s?b.od("keyup"):a.E===m?b.od("keydown"):a.E===w&&b.od("pressed")},Jg:function(b,a){b.J.off(a)}};d.prototype.l[8]="Backspace";d.prototype.l[9]="Tab";d.prototype.l[13]="Enter";d.prototype.l[16]="Shift";d.prototype.l[17]="Control";d.prototype.l[18]="Alt - Option on Mac";d.prototype.l[27]="Escape";d.prototype.l[32]="Space";d.prototype.l[33]="Page Up";d.prototype.l[34]="Page Down";d.prototype.l[35]="End";d.prototype.l[36]="Home";d.prototype.l[37]=
"Left arrow";d.prototype.l[38]="Up arrow";d.prototype.l[39]="Right arrow";d.prototype.l[40]="Down arrow";d.prototype.l[45]="Insert";d.prototype.l[46]="Delete";d.prototype.l[48]="key 0";d.prototype.l[49]="key 1";d.prototype.l[50]="key 2";d.prototype.l[51]="key 3";d.prototype.l[52]="key 4";d.prototype.l[53]="key 5";d.prototype.l[54]="key 6";d.prototype.l[55]="key 7";d.prototype.l[56]="key 8";d.prototype.l[57]="key 9";d.prototype.l[65]="key A";d.prototype.l[66]="key B";d.prototype.l[67]="key C";d.prototype.l[68]=
"key D";d.prototype.l[69]="key E";d.prototype.l[70]="key F";d.prototype.l[71]="key G";d.prototype.l[72]="key H";d.prototype.l[73]="key I";d.prototype.l[74]="key J";d.prototype.l[75]="key K";d.prototype.l[76]="key L";d.prototype.l[77]="key M";d.prototype.l[78]="key N";d.prototype.l[79]="key O";d.prototype.l[80]="key P";d.prototype.l[81]="key Q";d.prototype.l[82]="key R";d.prototype.l[83]="key S";d.prototype.l[84]="key T";d.prototype.l[85]="key U";d.prototype.l[86]="key V";d.prototype.l[87]="key W";
d.prototype.l[88]="key X";d.prototype.l[89]="key Y";d.prototype.l[90]="key Z";d.prototype.l[96]="keypad 0";d.prototype.l[97]="keypad 1";d.prototype.l[98]="keypad 2";d.prototype.l[99]="keypad 3";d.prototype.l[100]="keypad 4";d.prototype.l[101]="keypad 5";d.prototype.l[102]="keypad 6";d.prototype.l[103]="keypad 7";d.prototype.l[104]="keypad 8";d.prototype.l[105]="keypad 9";d.prototype.l[106]="keypad *";d.prototype.l[107]="keypad +";d.prototype.l[109]="keypad -";d.prototype.l[110]="keypad .";d.prototype.l[111]=
"keypad /";d.prototype.l[112]="key F1";d.prototype.l[113]="key F2";d.prototype.l[114]="key F3";d.prototype.l[115]="key F4";d.prototype.l[116]="key F5";d.prototype.l[117]="key F6";d.prototype.l[118]="key F7";d.prototype.l[119]="key F8";d.prototype.l[120]="key F9";d.prototype.l[121]="key F10";d.prototype.l[122]="key F11";d.prototype.l[123]="key F12";d.prototype.l[188]="key ,";d.prototype.l[189]="key -";d.prototype.l[190]="key .";d.prototype.q=d.prototype.l.slice(0);d.prototype.q[48]="0";d.prototype.q[49]=
"1";d.prototype.q[50]="2";d.prototype.q[51]="3";d.prototype.q[52]="4";d.prototype.q[53]="5";d.prototype.q[54]="6";d.prototype.q[55]="7";d.prototype.q[56]="8";d.prototype.q[57]="9";d.prototype.q[65]="A";d.prototype.q[66]="B";d.prototype.q[67]="C";d.prototype.q[68]="D";d.prototype.q[69]="E";d.prototype.q[70]="F";d.prototype.q[71]="G";d.prototype.q[72]="H";d.prototype.q[73]="I";d.prototype.q[74]="J";d.prototype.q[75]="K";d.prototype.q[76]="L";d.prototype.q[77]="M";d.prototype.q[78]="N";d.prototype.q[79]=
"O";d.prototype.q[80]="P";d.prototype.q[81]="Q";d.prototype.q[82]="R";d.prototype.q[83]="S";d.prototype.q[84]="T";d.prototype.q[85]="U";d.prototype.q[86]="V";d.prototype.q[87]="W";d.prototype.q[88]="X";d.prototype.q[89]="Y";d.prototype.q[90]="Z";d.prototype.q[96]="0";d.prototype.q[97]="1";d.prototype.q[98]="2";d.prototype.q[99]="3";d.prototype.q[100]="4";d.prototype.q[101]="5";d.prototype.q[102]="6";d.prototype.q[103]="7";d.prototype.q[104]="8";d.prototype.q[105]="9";d.prototype.q[106]="*";d.prototype.q[107]=
"+";d.prototype.q[109]="-";d.prototype.q[110]=".";d.prototype.q[111]="/";d.prototype.q[112]="F1";d.prototype.q[113]="F2";d.prototype.q[114]="F3";d.prototype.q[115]="F4";d.prototype.q[116]="F5";d.prototype.q[117]="F6";d.prototype.q[118]="F7";d.prototype.q[119]="F8";d.prototype.q[120]="F9";d.prototype.q[121]="F10";d.prototype.q[122]="F11";d.prototype.q[123]="F12";d.prototype.q[188]=",";d.prototype.q[189]="-";d.prototype.q[190]=".";return{p:function(b){b.c.b.f.t("_KeyboardListener_key",d);b.c.b.f.F("_KeyboardListener_key",
d.prototype.Jg,d.prototype.Ig);c=b},implementation:{Wi:d}}};T.b.va.wa={};T.b.va.wa.Sh={};S("PENGO.client.shared.runEngine.blackboxes.device.sync.touchScreenCheck");T.b.va.wa.Sh.resolve=function(){function d(a,k,d,e){var g=new c.c.b.u.v(a,k,d,e,"_TouchScreenCheck_key");g.g("available",0);g.g("unavailable",1);g.i("check",0,function(a){b?g.e(0,a):g.e(1,a)});return g}var c,b;b="ontouchstart"in document.documentElement;return{p:function(a){a.c.b.f.t("_TouchScreenCheck_key",d);c=a},implementation:{nj:d}}};T.b.z.ca={};T.b.z.ca.ef={};S("PENGO.client.shared.runEngine.blackboxes.logic.sensors.bbWhile");
T.b.z.ca.ef.resolve=function(){function d(b,a,k,d){function e(a){u=s;y(a)}function g(a){u=s;r(a,t);v(a)}var f,q,r,n,t=new c.c.b.u.v(b,a,k,d,"_BbWhile_key");t.g("activated",0);t.g("deactivated",1);t.B("condition",0);var u=w,y=function p(a){u&&(b.ga(p),u=w);q.param&&q.param.value?(b.O(p),r(a,t)):n(a,t)},v=function A(a){u?(b.ga(A),u=w,q.param&&q.param.value?b.O(A):n(a,t)):q.param&&q.param.value?(b.O(A),r(a,t)):n(a,t)};t.kh=function(){b.ga(y)};t.i("activate",0,function(a){f(a)});t.cb=function(a){q=t.a[0];
r=t.k[0].n;n=t.k[1].n;f=a?g:e};t.cb(w);return t}var c;return{p:function(b){b.c.b.f.t("_BbWhile_key",d);b.c.b.f.F("_BbWhile_key",function(a){a.kh()},function(a,b){a.cb(b===s)});b.c.b.f.$("_BbWhile_key","condition",w);c=b},implementation:{Bi:d}}};T.b.W.m.Ze={};S("PENGO.client.shared.runEngine.blackboxes.collection.actuators.addItems");
T.b.W.m.Ze.resolve=function(){function d(b,a,k,d){var e=new c.c.b.u.v(b,a,k,d,"_ItemAdder_key");e.B("target",0);e.D("numberOfItems",0);e.g("done",0);var g;e.i("do",0,function(a){function b(a){this.push(a)}if(e.a[0].param){for(var c=1;c<e.a.length;c++)g=e.a[c].param&&e.a[c].param.value,g!==m&&(Array.isArray(g)?g.forEach(b,e.a[0].param.value):e.a[0].param.value.push(g));e.outParameters.numberOfItems=e.a[0].param.value.length;e.e(0,a)}});return e}var c;return{p:function(b){b.c.b.f.t("_ItemAdder_key",
d);c=b},implementation:{Ri:d}}};T.b.time.wa={};T.b.time.wa.Vf={};S("PENGO.client.shared.runEngine.blackboxes.time.sync.getElapsedTime");
T.b.time.wa.Vf.resolve=function(){function d(a,c,d,e){var g=new b.c.b.u.v(a,c,d,e,"_GetElapsedTime_key");g.D("elapsedTime",0);g.g("provided",0);var f=m;g.ye=function(b){function c(){}function k(b){g.d[0].param.value=b.event.time-a.Fe;g.e(0,b)}function d(a){g.d[0].param.value=a.event.time-g.Fb.ta.yd;g.e(0,a)}function e(a){g.d[0].param.value=a.event.deltaTime;g.e(0,a)}if(g.d[0].param&&b!==m)switch(b){case 0:f=k;break;case 1:f=d;break;case 2:f=e;break;default:f=c}else f=c};g.ye(0);g.i("get",0,function(a){f(a)});
return g}function c(a,b){a.ye(b.M)}var b;return{p:function(a){a.c.b.f.t("_GetElapsedTime_key",d);a.c.b.f.F("_GetElapsedTime_key",m,c);b=a},implementation:{Ni:d}}};T.b.va.ca.Gg={};S("PENGO.client.shared.runEngine.blackboxes.device.sensors.keyListener");
T.b.va.ca.Gg.resolve=function(){function d(a,b){a.J.off(b)}function c(a,b){a.keyCode=b.keyCode;b.P&&(a.Oc=s);b.checkCtrl&&(a.vb=s);b.checkShift&&(a.wb=s);b.checkAlt&&(a.ub=s)}function b(b,c,d,g){function f(a){b.ha(n);y.e(1,a)}function q(a){a=a||window.event;var c=("number"==typeof a.which?a.which:a.keyCode)==y.keyCode;y.vb&&(c=a.ctrlKey&&c);y.wb&&(c=a.shiftKey&&c);y.ub&&(c=a.altKey&&c);c&&(document.removeEventListener("keydown",q,w),document.addEventListener("keyup",v,w),b.qc()||b.da(r))}function r(a){y.e(0,
a);y.Oc&&n(a)}function n(a){b.qc()||(y.Oc&&b.da(n),y.e(2,a))}function t(){document.removeEventListener("keydown",q,w);x&&document.addEventListener("keydown",q,w)}function u(){b.ha(n);document.removeEventListener("keydown",q,w);document.removeEventListener("keyup",v,w)}var y=new a.c.b.u.v(b,c,d,g,"_KeyChecker_key");y.g("keyDown",0);y.g("keyUp",1);y.keyCode=0;y.Oc=w;y.vb=w;y.wb=w;y.ub=w;var v=function A(a){a=a||window.event;var c=("number"==typeof a.which?a.which:a.keyCode)==y.keyCode;y.vb&&(c=a.ctrlKey&&
c);y.wb&&(c=a.shiftKey&&c);y.ub&&(c=a.altKey&&c);c&&(document.removeEventListener("keyup",A,w),document.addEventListener("keydown",q,w),b.qc()||b.da(f))},x=w;y.i("on",0,function(){x||(document.addEventListener("keydown",q,w),document.removeEventListener("keyup",v,w),document.body.addEventListener("blur",u,s),document.body.addEventListener("focus",t,s),x=s)});y.i("off",1,function(){x&&(b.ha(r),b.ha(f),b.ha(n),document.removeEventListener("keydown",q,w),document.removeEventListener("keyup",v,w),document.body.removeEventListener("blur",
u,s),document.body.removeEventListener("focus",t,s),x=w)});return y}var a;return{p:function(k){k.c.b.f.t("_KeyChecker_key",b);k.c.b.f.F("_KeyChecker_key",d,c);a=k},implementation:{Vi:b}}};T.b.z.m.oh={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.sequenceController");
T.b.z.m.oh.resolve=function(){function d(a){a.Ac()}function c(a,c,d,e){var g=new b.c.b.u.v(a,c,d,e,"_SequenceController_key");g.g("error",0);g.g("step1 Ok",1);g.g("step2 Ok",2);var f=[];g.Ac=function(){for(var a=0;a<f.length;a++)f[a]=w};g.Tc(function(a,b){b===m&&(b=parseInt(a.substr(4))-1);b===f.length?f.push(w):(f[b]=w,b>=f.length&&(f.length=b+1));return function(a){var c;if(f[b])0===b?(g.Ac(),c=s):c=w;else{c=s;for(var k=b-1;0<=k;k-=1)c&=f[k]}c?(b===f.length-1?g.Ac():f[b]=s,g.e(b+1,a)):(g.Ac(),g.e(0,
a))}});g.i("step1",0,m);g.i("step2",1,m);return g}var b;return{p:function(a){a.c.b.f.t("_SequenceController_key",c);a.c.b.f.F("_SequenceController_key",d,m);b=a},implementation:{jj:c}}};T.b.z.m.Tg={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.onlyOne");
T.b.z.m.Tg.resolve=function(){function d(a,b,c,f){a=new k.c.b.u.v(a,b,c,f,"_OnlyOne_key");a.$b=w;a.Gd=w;a.g("fired",0);a.i("reset",0,m);a.i("fire1",1,m);a.i("fire2",2,m);return a}function c(a,b){b&&a.J.reset!==m&&a.Af("reset");a.Gd=b===s}function b(a){a.$b=w}function a(a,b){function c(){a.$b=w}function k(b){function c(){a.$b=w}a.$b||(a.$b=s,a.Gd&&d.Hd(c),a.k[0].n(b,a))}var d=a.s;return"reset"===b?c:k}var k;return{p:function(l){l.c.b.f.t("_OnlyOne_key",d);l.c.b.f.F("_OnlyOne_key",b,c);l.c.b.f.Jb("_OnlyOne_key",
a,m);k=l},implementation:{bj:d}}};T.b.W.m.Uh={};S("PENGO.client.shared.runEngine.blackboxes.collection.actuators.traverseEach");
T.b.W.m.Uh.resolve=function(){function d(a,c,d,e){function g(a){var b=v.a[0].param&&v.a[0].param.value;if(b!==m){p=w;for(x=0;x<b.length;x+=1)if(v.d[0].param.value=b[x],v.d[1].param.value=x+1,v.k[0].n(a,v),p){v.k[2].n(a,v);return}v.k[1].n(a,v)}}function f(a){var b=v.a[0].param&&v.a[0].param.value;if(b!==m){p=w;for(x=0;x<b.length;x+=1)if(v.d[0].param.value=b[x],v.k[0].n(a,v),p){v.k[2].n(a,v);return}v.k[1].n(a,v)}}function q(a){var b=v.a[0].param&&v.a[0].param.value;if(b!==m){p=w;for(x=0;x<b.length;x+=
1)if(v.d[1].param.value=x+1,v.k[0].n(a,v),p){v.k[2].n(a,v);return}v.k[1].n(a,v)}}function r(a){var b=v.a[0].param&&v.a[0].param.value;if(b!==m){p=w;for(x=0;x<b.length;x+=1)if(v.k[0].n(a,v),p){v.k[2].n(a,v);return}v.k[1].n(a,v)}}function n(a){var b=v.a[0].param&&v.a[0].param.value;if(b!==m){p=w;for(x=b.length-1;0<=x;x-=1)if(v.d[0].param.value=b[x],v.d[1].param.value=x+1,v.k[0].n(a,v),p){v.k[2].n(a,v);return}v.k[1].n(a,v)}}function t(a){var b=v.a[0].param&&v.a[0].param.value;if(b!==m){p=w;for(x=b.length-
1;0<=x;x-=1)if(v.d[0].param.value=b[x],v.k[0].n(a,v),p){v.k[2].n(a,v);return}v.k[1].n(a,v)}}function u(a){var b=v.a[0].param&&v.a[0].param.value;if(b!==m){p=w;for(x=b.length-1;0<=x;x-=1)if(v.d[1].param.value=x+1,v.k[0].n(a,v),p){v.k[2].n(a,v);return}v.k[1].n(a,v)}}function y(a){var b=v.a[0].param&&v.a[0].param.value;if(b!==m){p=w;for(x=b.length-1;0<=x;x-=1)if(v.k[0].n(a,v),p){v.k[2].n(a,v);return}v.k[1].n(a,v)}}var v=new b.c.b.u.v(a,c,d,e,"_TraverseEach_key"),x,p=w,A=m;v.Uc=function(a){A=a?v.d[0].param?
v.d[1].param?g:f:v.d[1].param?q:r:v.d[0].param?v.d[1].param?n:t:v.d[1].param?u:y};v.B("target",0);v.D("item",0);v.D("index",1);v.g("step",0);v.g("finished",1);v.g("stopped",2);v.i("start",0,function(a){A(a)});v.i("stop",1,function(){v.a[0].param&&(p=s)});A=r;return v}function c(a,b){a.Uc(b!==m)}var b;return{p:function(a){a.c.b.f.t("_TraverseEach_key",d);a.c.b.f.F("_TraverseEach_key",m,c);b=a},implementation:{pj:d}}};T.b.object.m.$g={};S("PENGO.client.shared.runEngine.blackboxes.object.actuators.regItemAdder");
T.b.object.m.$g.resolve=function(){function d(b,a,k,d){var e=new c.c.b.u.v(b,a,k,d,"_ObjectItemAdder_key"),g=c.c.r.K.types;e.B("target",0);e.g("done",0);e.i("do",0,function(a){var b,c,k,d,l,y=e.a[0].param&&e.a[0].param.value;if(y){for(b=1;b<e.a.length;b+=2)if(k=e.a[b].param&&e.a[b].param.value,d=e.a[b+1].param&&e.a[b+1].param.value,k!==m&&d!==m){if(Array.isArray(k)){l=y;for(c=0;c<k.length;c++)c<k.length-1?(l[k[c]]||(l[k[c]]={},l[k[c]].value={},l[k[c]].valueType=g._Object_),l=Array.isArray(l)?l[k[c]-
1]:l[k[c]].value):(l[k[c]]={},l=l[k[c]])}else l=y[k]={};l.value=d;l.valueType=e.a[b+1].param.valueType}e.e(0,a)}});return e}var c;return{p:function(b){b.c.b.f.t("_ObjectItemAdder_key",d);c=b},implementation:{aj:d}}};T.b.z.ca.Fg={};S("PENGO.client.shared.runEngine.blackboxes.logic.sensors.keepActive");
T.b.z.ca.Fg.resolve=function(){function d(a,c,d,e){function g(b,c,k){function f(a){b.d[0].param.value=a.event.deltaTime}function d(a){e+=a.event.deltaTime;b.d[c].param.value=e}var e=r.length;b.d[0]&&b.d[0].param&&(0==e&&(e=r.push(f),a.ac(r[0]),n.push(r[0])),r[0](k));b.d[c]&&b.d[c].param&&(r.push(d),a.ac(r[e]),n.push(r[e]),e=-k.event.deltaTime,r[r.length-1](k));e=r.push(function(a){b.e(c,a)});a.ac(r[e-1]);r[e-1](k);e=0}var f=new b.c.b.u.v(a,c,d,e,"_KeepActive_key");f.g("deactivated",0);f.g("updated1",
1);f.D("deltaTime",0);f.D("elapsedTime1",1);var q=[],r=[],n=[];f.qe=function(){for(var b=0;b<r.length;b++)a.Ic(r[b]);r.length=0;q.length=0;n.length=0};f.Tc(function(a,b){b===m&&(b=parseInt(a.substr(2)));return function(a){q[b]||(q[b]=s,g(f,b,a))}});f.i("off",0,function(a){if(0<r.length){for(var b=0;b<n.length;b++)n[b](a);f.qe();f.e(0,a)}});f.i("on1",1,m);return f}function c(a){a.qe()}var b;return{p:function(a){a.c.b.f.t("_KeepActive_key",d);a.c.b.f.F("_KeepActive_key",c,m);b=a},implementation:{Ui:d}}};T.fa={};S("PENGO.client.shared.runEngine.notifier");
T.fa.resolve=function(){function d(){this.ab={}}var c;d.prototype={sc:function(b,a){a&&a instanceof Function||"function"==typeof a?(this.ab[b]||(this.ab[b]=[]),this.ab[b].push(a)):h(new c.pengoError.pengoError.PengoError("ERROR: Incorrect callback to notify",c.pengoError.codes.codes.INVALID_DATA))},notify:function(b,a){if(this.ab[b])for(var c=this.ab[b].slice(),d=0;d<c.length;d++)c[d](a)},Gc:function(b,a){if(this.ab[b])if(a&&a instanceof Function||"function"==typeof a){var k=this.ab[b].indexOf(a);
-1!=k&&this.ab[b].splice(k,1)}else h(new c.pengoError.pengoError.PengoError("ERROR: Incorrect callback",c.pengoError.codes.codes.INVALID_DATA))}};return{p:function(b){c=b},implementation:{Pe:d}}};T.b.W.m.ng={};S("PENGO.client.shared.runEngine.blackboxes.collection.actuators.getRandomItems");
T.b.W.m.ng.resolve=function(){function d(a,b){a.nd(b.M===s)}function c(a,c,d,e){var g=new b.c.b.u.v(a,c,d,e,"_GetRandomItems_key"),f=w;g.nd=function(a){f=a};g.B("target",0);g.D("items",0);g.g("available",0);g.g("empty",1);g.i("get",0,function(a){var b,c,k,d=g.a[0].param&&g.a[0].param.value,e=g.d[0].param;if(d!==m&&e)if(0<d.length){if(Array.isArray(e.value)){f||(d=d.slice(0));k=g.a[1].param&&g.a[1].param.value;k===m&&(k=1);k=Math.min(k,d.length);for(b=e.value.length=0;b<k;b++)c=Math.floor(Math.random()*
d.length),c===d.length&&(c=d.length-1),e.value.push(d[c]),d.splice(c,1);g.d[1].param&&(g.d[1].param.value=e.value.length)}else c=Math.floor(Math.random()*d.length),c===d.length&&(c=d.length-1),e.value=d[c],f&&d.splice(c,1);g.e(0,a);0===d.length&&g.e(1,a)}else g.e(1,a)});return g}var b;return{p:function(a){a.c.b.f.t("_GetRandomItems_key",c);a.c.b.f.F("_GetRandomItems_key",m,d);a.c.b.f.$("_GetRandomItems_key","numberOfItems",1);b=a},implementation:{Pi:c}}};T.b.z.m.mh={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.scriptRunner");
T.b.z.m.mh.resolve=function(){function d(c,d,e,g){var f=new b.c.b.u.v(c,d,e,g,"_ScriptRunner_key"),q=m;f.Xc={};f.ad={};a&&a[g.toString()]?q=a[g.toString()]:(f.hd="",f.wf=function(a){q=new Function("inParams","outParams","outEvents","triggers","time","deltaTime",a);f.hd=a});f.i("run",0,function(a){for(var c={},k={},d,e=0;e<f.k.length;e++)if(d=f.k[e])k[d.name]=function(b){return function(){f.e(b,a)}}(e),c[d.name]=function(b){return function(){f.e(b,a)}}(e);try{q(f.Xc,f.ad,k,c,a.event.time,a.event.deltaTime)}catch(l){b.Pa.warn("ERROR in ScriptRunner "+
f.name+" parsing the Script.\n"+l+"\nin code:\n"+q||f.hd),b.Ka.emit("CODERUNNER_ERROR",{bboxId:f.G,scriptId:f.Fb.G,error:l,code:q||f.hd})}});return f}function c(b,c){if(!a||!a[b.G.toString()])b.wf(c&&c.C?c.C:"");d.prototype.Zh(b);d.prototype.$h(b)}var b,a;d.prototype={Ld:function(a,b){Object.defineProperty(a,b.name,{get:function(){if(b.param)return b.param.value},set:function(a){b.param&&(b.param.value=a)},enumerable:s,configurable:s})},Zh:function(a){a.Xc={};for(var b=0;b<a.a.length;b++)d.prototype.Og(a,
b)},Og:function(a,b){a.a[b]&&d.prototype.Ld(a.Xc,a.a[b])},$h:function(a){a.ad={};for(var b=0;b<a.d.length;b++)d.prototype.Pg(a,b)},Pg:function(a,b){a.d[b]&&d.prototype.Ld(a.ad,a.d[b])}};return{p:function(k){k.c.b.f.t("_ScriptRunner_key",d);k.c.b.f.F("_ScriptRunner_key",m,c);if(a=window.PENGO&&window.PENGO.client&&window.PENGO.client.pgame&&window.PENGO.client.pgame.crun)k.require.remove.deleteByName("PENGO.client.pgame.crun"),k.require.remove.deleteByName("PENGO.client.pgame");b=k},implementation:{hj:d}}};T.b.z.m.Ug={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.paramSelector");
T.b.z.m.Ug.resolve=function(){function d(a){a.ed=m}function c(b,c,d,g){b=new a.c.b.u.v(b,c,d,g,"_ParamSelector_key");b.ed=m;b.g("selected",0);b.g("changed",1);b.D("selection",0);b.B("param1",0);b.B("param2",1);b.i("select1",0,m);b.i("select2",1,m);return b}function b(a,b,c){c===m&&(c=parseInt(b.substr(6))-1);return function(b){a.d[0].param&&a.a[c].param&&(a.d[0].param.value=a.a[c].param.value,a.k[0].n(b,a));a.ed!==c&&(a.ed=c,a.k[1]&&a.k[1].n(b,a))}}var a;return{p:function(k){k.c.b.f.t("_ParamSelector_key",
c);k.c.b.f.F("_ParamSelector_key",d,m);k.c.b.f.Jb("_ParamSelector_key",b);a=k},implementation:{cj:c}}};T.b.z.m.nh={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.sequenceChecker");
T.b.z.m.nh.resolve=function(){function d(a,b){a.J.reset(b)}function c(a,c,d,e){var g=new b.c.b.u.v(a,c,d,e,"_SequenceChecker_key"),f=[];g.Mj=f;g.g("error",0);g.g("step1 Ok",1);g.g("step2 Ok",2);g.Tc(function(a,b){var c,k;b===m&&(b=parseInt(a.substr(4)));if(b>=f.length)for(;b>=f.length;)f.push(w);else f[b]=w;return function(a){if(c=f[b]?w:1===b?s:f[b-1]==s){if(b===f.length-1)for(k=1;k<b;k++)f[k]=w;else f[b]=s;g.e(b,a)}else{for(k=1;k<=b;k++)f[k]=w;g.e(0,a)}}});g.i("reset",0,function(){for(var a=0;a<
f.length;a++)f[a]=w});g.i("step1",1,m);g.i("step2",2,m);return g}var b;return{p:function(a){a.c.b.f.t("_SequenceChecker_key",c);a.c.b.f.F("_SequenceChecker_key",d,m);b=a},implementation:{ij:c}}};T.b.va.ca.Rh={};S("PENGO.client.shared.runEngine.blackboxes.device.sensors.touchListener");
T.b.va.ca.Rh.resolve=function(){function d(b,c,e,g){function f(a){var c;a=a||window.event;a.preventDefault();if(a&&a.touches)for(var f=0;f<a.touches.length;f++){c=a.touches[f].identifier;var e=m;A?(e=p.indexOf(c),A&&(A<=v.Db&&-1===e)&&(e=p.indexOf(-2),-1!==e?p[e]=c:e=p.push(c)-1,A-=1),c=e):c=-1;-1!==c&&u[c]===m&&(d.prototype.di(v,c),t(a.touches[f],c),b.da(u[c].Pd))}}function q(a){var c,f,e;a=a||window.event;a.preventDefault();if(a&&a.touches)if(a.touches.length){e=p.slice();for(c=0;c<a.touches.length;c++)f=
e.indexOf(a.touches[c].identifier),-1!=f&&(e[f]=m);for(c=0;c<e.length;c++)e[c]!==m&&-2!==e[c]&&u[c]!==m&&(b.da(u[c].Vc),d.prototype.Rd(v,c),a=p.indexOf(e[c]),-1!==a&&(A+=1,A===v.Db?p.length=0:p[a]=-2))}else r()}function r(a){for(var c=0;c<u.length;c++)u[c]!==m&&(a?v.s.ha(u[c].Wc):b.da(u[c].Vc)),d.prototype.Rd(v,c);p.length=0;A=v.Db}function n(a){var c;a=a||window.event;a.preventDefault();if(a&&a.touches)for(var d=0;d<a.touches.length;d++)c=p.indexOf(a.touches[d].identifier),-1!=c&&u[c]!==m&&(t(a.touches[d],
c),b.da(u[c].Qd))}function t(a,c){function f(a){var c=0,d=0;a.pageX||a.pageY?(c=a.pageX,d=a.pageY):a.clientX!==m&&(c=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);for(var e=a.target,g=0,l=0;null!=e;)g+=e.offsetLeft+e.clientLeft,l+=e.offsetTop+e.clientTop,e=e.offsetParent;return{x:b.Ob*(c-g)/(a.target.clientWidth*b.cc),y:b.Nb*(d-l)/(a.target.clientHeight*b.cc)}}var e,g,l;a!==m&&c!==m&&(g=v.d[c*d.prototype.Mc].param,
l=v.d[c*d.prototype.Mc+1].param,g&&(e=f(a),g.value.x=e.x,g.value.y=e.y),l&&(e===m&&(e=f(a)),y[c]===m&&(y[c]=e),l.value.x=e.x-y[c].x,l.value.y=e.y-y[c].y,y[c]=e))}var u,y,v=new a.c.b.u.v(b,c,e,g,"_TouchListener_key"),x=b.getContainer();u=v.touches=[];y=v.ne=[];v.Db=0;v.Id=w;v.Hj=function(){return u.length};var p=[],A=0,E=w;v.i("on",0,function(){"ontouchstart"in window&&!E&&(p.length=0,A=v.Db,x.addEventListener("touchstart",f,w),x.addEventListener("touchcancel",q,w),x.addEventListener("touchend",q,
w),x.addEventListener("touchleave",q,w),x.addEventListener("touchmove",n,w),E=s)});v.i("off",1,function(a){E&&(x.removeEventListener("touchstart",f,w),x.removeEventListener("touchcancel",q,w),x.removeEventListener("touchend",q,w),x.removeEventListener("touchmove",n,w),r(a),E=w)});return v}function c(a,b){b.I&&(a.Id=s);b.N&&(a.Db=b.N)}function b(a,b){a.J.off(b)}var a;d.prototype={Mc:4,Rd:function(a,b){a.touches[b]&&(a.touches[b]=m);a.ne[b]&&(a.ne[b]=m)},di:function(a,b){var c,g,f,q,r;b<a.Db&&(g=b*
d.prototype.Mc,f=g+1,q=g+2,r=g+3,a.touches[b]={Pd:m,Vc:m,Qd:m,Wc:m},a.touches[b].Pd=function(b){a.e(g,b);c&&c(b)},a.touches[b].Vc=function(b){a.e(f,b);c&&a.s.ha(c)},a.touches[b].Qd=function(b){a.e(q,b)},a.touches[b].Wc=function(b){a.e(r,b);c&&a.s.da(c)},a.Id&&(c=a.touches[b].Wc))}};return{p:function(k){k.c.b.f.t("_TouchListener_key",d);k.c.b.f.F("_TouchListener_key",b,c);a=k},implementation:{mj:d}}};T.b.z.m.pf={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.comparator");
T.b.z.m.pf.resolve=function(){function d(a,c,d,e){function g(a,b){return a!=b}function f(a,b){return a==b}function q(a,b){return a>b}function r(a,b){return a<b}function n(a,b){return a>=b}function t(a,b){return a<=b}function u(a,b){return a.x===b.x&&a.y===b.y}function y(a,b){return a.x!==b.x||a.y!==b.y}var v=new b.c.b.u.v(a,c,d,e,"_Comparator_key"),x;v.sh=function(a){switch(a){case 0:x=g;break;case 1:x=f;break;case 2:x=q;break;case 3:x=r;break;case 4:x=n;break;case 5:x=t;break;case 6:x=u;break;case 7:x=
y}};v.B("item1",0);v.B("item2",1);v.D("result",0);v.g("true",0);v.g("false",1);v.i("compare",0,function(a){v.a[0].param!==m&&v.a[1].param!==m&&(x(v.a[0].param.value,v.a[1].param.value)?(v.outParameters.result=s,v.e(0,a)):(v.outParameters.result=w,v.e(1,a)))});return v}function c(a,b){a.sh(b)}var b;return{p:function(a){a.c.b.f.t("_Comparator_key",d);a.c.b.f.F("_Comparator_key",m,c);b=a},implementation:{Ei:d}}};T.b.W.m.mg={};S("PENGO.client.shared.runEngine.blackboxes.collection.actuators.getRandomItem");
T.b.W.m.mg.resolve=function(){function d(b,a,d,l){var e=new c.c.b.u.v(b,a,d,l,"_RandomItemGet_key");e.B("target",0);e.B("numberOfItems",1);e.D("result",0);e.D("numberOfItems",1);e.g("done",0);e.i("do",0,function(a){var b,c,d=e.a[0].param&&e.a[0].param.value,k=e.inParameters.numberOfItems,l=e.d[0].param;if(d!==m&&l&&0<k){if(Array.isArray(l.value)){d=d.slice(0);k===m&&(k=1);k=Math.min(k,d.length);for(b=l.value.length=0;b<k;b++)c=Math.floor(Math.random()*d.length),c===d.length&&(c=d.length-1),l.value.push(d[c]),
d.splice(c,1);e.outParameters.numberOfItems=l.value.length}else c=Math.floor(Math.random()*d.length),c===d.length&&(c=d.length-1),l.value=d[c],e.outParameters.numberOfItems=1;e.e(0,a)}});return e}var c;return{p:function(b){b.c.b.f.t("_RandomItemGet_key",d);b.c.b.f.$("_RandomItemGet_key","numberOfItems",1);c=b},implementation:{dj:d}}};T.b.object.m.bh={};S("PENGO.client.shared.runEngine.blackboxes.object.actuators.regItemTypeOf");
T.b.object.m.bh.resolve=function(){function d(a,c,d,e){var g=new b.c.b.u.v(a,c,d,e,"_RegItemTypeOf_key"),f=b.c.r.K.types,q=g.a,r=g.d,n={},t,u;g.B("target",0);g.B("key(s)",1);g.D("isCollection",0);t=0;g.g("unknown",0);g.g("boolean",1);g.g("number",2);g.g("string",3);(function(){var a=[];for(u in f)"bool"!=u&&("number"!=u&&"string"!=u)&&a.push(f[u].name);a.sort();for(t=0;t<a.length;t+=1)g.g(a[t],t+4)})();g.Je=function(){n={};for(t=1;t<g.k.length;t+=1)for(u in f)f[u].name===g.k[t].name&&(n[u]=t)};g.Je();
g.i("check",0,function(a){var b,c,d,f;if(q[0].param&&q[1].param){d=q[0].param.value;b=q[1].param.value;if(Array.isArray(b))for(f=0;f<b.length&&d;f++)Array.isArray(d)?d=d[b[f]-1]?d[b[f]-1]:m:d[b[f]]?(c=d[b[f]].valueType,d=d[b[f]].value):d=m;else c=d[b].valueType,d=d[b].value;d!==m?(r[0].param&&(r[0].param.value=Array.isArray(d)),n[c.id]?g.k[n[c.id]].n(a,g):g.k[0].n(a,g)):g.k[0].n(a,g)}});return g}function c(a){a.Je()}var b;return{p:function(a){a.c.b.f.t("_RegItemTypeOf_key",d);a.c.b.f.F("_RegItemTypeOf_key",
m,c);b=a},implementation:{gj:d}}};T.b.z.m.Ph={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.switcher");T.b.z.m.Ph.resolve=function(){function d(b,a,d,l){var e=new c.c.b.u.v(b,a,d,l,"_Switcher_key");e.B("state",0);e.g("true",0);e.g("false",1);e.i("run",0,function(a){e.inParameters.state!==m&&(e.inParameters.state?e.e(0,a):e.e(1,a))});return e}var c;return{p:function(b){b.c.b.f.t("_Switcher_key",d);b.c.b.f.$("_Switcher_key","state",w);c=b},implementation:{kj:d}}};T.b.z.m.ff={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.browserDetect");T.b.z.m.ff.resolve=function(){function d(a,d,l,e){var g=new c.c.b.u.v(a,d,l,e,"_BrowserDetect_key"),f=g.g("desktop",0),q=g.g("mobile",1);g.i("test",0,function(a){b?g.e(q,a):g.e(f,a)});return g}var c,b;return{p:function(a){a.c.b.f.t("_BrowserDetect_key",d);b=a.deviceDetection.browserDevice.flags.isWebBrowser?a.deviceDetection.browserDevice.flags.isTierMobile:s;c=a},implementation:{Ci:d}}};T.b.z.m.tf={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.counter");
T.b.z.m.tf.resolve=function(){function d(b,a,d,l){function e(){y=D?D.value:0}function g(){y=D?D.value:0;x=K?K.value:1}function f(){y=D?D.value:0;G?(v=G.value,y<=v?(t=y,u=v):(t=v,u=y)):v=0;x=K?K.value:1}function q(a){L&&(L.value=p);I(a,n)}function r(a){L&&(L.value=p);I(a,n);p>u?F(a,n):p<t?J(a,n):H(a,n)}var n=new c.c.b.u.v(b,a,d,l,"_Counter_key"),t=0,u=0,y=0,v=0,x=1,p=0,A,E,z,I,H,F,J,D,G,K,L;n.B("startOfRange",0);n.B("countStep",2);n.D("count",0);n.g("done",0);n.i("start",0,function(a){A();p=y;z(a)});
n.i("+",1,function(a){E();p+=x;z(a)});n.i("-",2,function(a){E();p-=x;z(a)});n.uh=function(a){f();p=v;z(a)};n.cb=function(){D=n.a[0].param;K=n.a[2].param;L=n.d[0].param;I=n.k[0].n;(H=n.k[1]&&n.k[1].n)?(A=E=f,z=r,G=n.a[1].param,F=n.k[2].n,J=n.k[3].n):(A=e,E=g,z=q)};n.cb();return n}var c;return{p:function(b){b.c.b.f.t("_Counter_key",d);b.c.b.f.F("_Counter_key",m,function(a){a.cb()});b.c.b.f.$("_Counter_key","startValue",0);b.c.b.f.$("_Counter_key","startOfRange",0);b.c.b.f.$("_Counter_key","endOfRange",
0);b.c.b.f.$("_Counter_key","countStep",1);b.c.b.f.Jb("_Counter_key",function(a){return a.uh});c=b},implementation:{Gi:d}}};T.b.W.m.$f={};S("PENGO.client.shared.runEngine.blackboxes.collection.actuators.getItems");
T.b.W.m.$f.resolve=function(){function d(a,b){a.nd(b.M===s)}function c(a,c,d,e){var g,f=new b.c.b.u.v(a,c,d,e,"_GetItems_key"),q=w;f.nd=function(a){q=a};f.B("target",0);f.B("index",1);f.D("items",0);f.g("available",0);f.g("unavailable",1);f.g("empty",2);f.i("get",0,function(a){var b,c=f.a[0].param&&f.a[0].param.value,d=f.a[1].param&&f.a[1].param.value-1;c!==m&&d!==m&&(0<c.length?0<=d&&c[d]!==m?(f.a[2]?q?(b=f.a[2].param&&f.a[2].param.value,g(f.d,c.splice(d,b))):(b=f.a[2].param&&f.a[2].param.value,
b!==m&&(0>b&&(b=0),b=d+b),g(f.d,c.slice(d,b))):(g(f.d,c[d]),q&&c.splice(d,1)),f.e(0,a),0===c.length&&f.e(1,a)):f.e(1,a):f.e(2,a))});g=function(a,b){a[0].param&&(a[0].param.value=b);a[1]&&a[1].param&&(a[1].param.value=b.length)};return f}var b;return{p:function(a){a.c.b.f.t("_GetItems_key",c);a.c.b.f.F("_GetItems_key",m,d);b=a},implementation:{Oi:c}}};T.b.z.ca.hh={};S("PENGO.client.shared.runEngine.blackboxes.logic.sensors.repeatFor");
T.b.z.ca.hh.resolve=function(){function d(b,c,d,g){function f(){z=m;b.O(q)}function q(a){var c=I-a.event.time;c>a.event.deltaTime?z=setTimeout(f,c-a.event.deltaTime):(z=m,0>=c?K(a):b.O(G))}function r(a){for(u;u<F;u++)A&&(A.value=u),y(a,t);A&&(A.value=u);J=w;y(a,t);v(a,t)}function n(){J&&(E===D?b.ga(D):E===K&&(z&&(clearTimeout(z),z=m),b.ga(G)),F=0,J=w)}var t=new a.c.b.u.v(b,c,d,g,"_RepeatFor_key"),u,y,v,x,p,A,E,z,I=0,H=0,F=0,J=w;t.B("times",0);t.D("numberOf",0);t.g("fire",0);t.g("end",1);var D=function M(a){u<
F?(A&&(A.value=u),u+=1,b.O(M),y(a,t)):(A&&(A.value=u),J=w,y(a,t),v(a,t))},G=function N(a){0>=I-a.event.time?K(a):b.O(N)},K=function R(a){A&&(A.value=u);F===u?(J=w,y(a,t),v(a,t)):(u+=1,0<H?(I=a.event.time+H,H>a.event.deltaTime?z=setTimeout(f,H-a.event.deltaTime):b.O(G),y(a,t)):(y(a,t),R(a)))};t.jd=function(a){switch(a){case 0:E=r;break;case 1:E=D;break;case 2:E=K}t.ai()};t.ai=function(){y=t.k[0].n;v=t.k[1].n;x=t.a[0].param;p=t.a[1]&&t.a[1].param;A=t.d[0].param};t.i("run",0,function(a){J&&n();J=s;F=
x?Math.floor(x.value):1;0<F?(u=1,E===K?p?(H=p.value,E(a)):(H=0,K(a)):E(a)):(A&&(A.value=0),v(a,t))});t.i("reset",1,n);return t}function c(a,b){if(a.T[1].o)a.T[1].o(b);else a.T[1](b)}function b(a,b){a.jd(b.M)}var a;return{p:function(k){k.c.b.f.t("_RepeatFor_key",d);k.c.b.f.F("_RepeatFor_key",c,b);k.c.b.f.$("_RepeatFor_key","times",1);k.c.b.f.$("_RepeatFor_key","delay",0);a=k},implementation:{wi:d}}};T.b.time.async.Bf={};S("PENGO.client.shared.runEngine.blackboxes.time.async.delayer");
T.b.time.async.Bf.resolve=function(){function d(a,c,d,e){function g(){y=m;t=s;a.O(f)}function f(b){t=w;var c=r-b.event.time;c>b.event.deltaTime?(y=setTimeout(g,c-b.event.deltaTime),t=w):(y=m,0>=c?(t=w,q.d[0].param&&(q.d[0].param.value=n-c),q.e(1,b)):(u=s,a.O(v)))}var q=new b.c.b.u.v(a,c,d,e,"_Delayer_key");q.B("timeToDelay",0);q.D("delayedTime",0);q.g("started",0);q.g("delayed",1);q.g("stopped",2);var r=0,n=0,t=w,u=w,y=m,v=function p(b){var c=r-b.event.time;0>=c?(u=w,r=0,q.d[0].param&&(q.d[0].param.value=
n-c),q.e(1,b)):a.O(p)};q.zc=function(){y&&(clearTimeout(y),y=m);t&&(a.ga(f),t=w);u&&(a.ga(v),u=w);r=0};q.i("start",0,function(b){q.a[0]?(n=q.inParameters.timeToDelay,q.zc(),r=b.event.time+n,y=setTimeout(g,n-b.event.deltaTime)):(q.zc(),n=0,r=b.event.time,u=s,a.O(v));q.e(0,b)});q.i("stop",1,function(a){0!==r&&(q.zc(),q.e(2,a))});return q}function c(a){a.zc()}var b;return{p:function(a){a.c.b.f.t("_Delayer_key",d);a.c.b.f.F("_Delayer_key",c,m);a.c.b.f.$("_Delayer_key","timeToDelay",1E3);b=a},implementation:{Hi:d}}};T.b.cd={};T.b.cd.m={};T.b.cd.m.Xe={};S("PENGO.client.shared.runEngine.blackboxes.parameters.actuators.actionOnParam");
T.b.cd.m.Xe.resolve=function(){function d(a,c,l,e){var g=new b.c.b.u.v(a,c,l,e,"_ActionOnParam_key"),f={event:m,runner:a,getOutParamType:function(a){return g.Xd(a)},getConnectedInType:function(a){if(g.a[a]&&g.a[a].param)return g.a[a].param.valueType},getConnectedOutType:function(a){if(g.d[a]&&g.d[a].param)return g.d[a].param.valueType},valueTypes:b.c.r.K.types},q=m,r={},n={},t=m;g.Ie=function(b,c){q=m;r={};n={};t=m;b&&(c!=m&&b.sa[c])&&(q=b.sa[c].o,b.sa[c].ee&&(t=a.Y[b.sa[c].ee]),d.prototype.Kf(g,
r,n))};g.B("target",0);g.g("done",0);g.g("fail",1);g.i("do",0,function(a){f.event=a.event;f.target=g.a[0].param;q&&g.a[0].param!==m&&g.a[0].param.value!==m&&q(g.a[0].param.value,r,n,f,t)?g.e(0,a):g.e(1,a)});return g}function c(a,b){var c=b!==m&&a.a[0].param&&a.a[0].param.valueType;c&&("string"===typeof b?(c=d.prototype.Yd(c,b),a.Ie(c,b)):(c=d.prototype.Yd(c,b.A),a.Ie(c,b.A)))}var b;d.prototype={Jd:function(a,b,c){var d=a[b];Object.defineProperty(c,d.name,{get:function(){return d.param&&d.param.value},
set:function(a){d.param&&(d.param.value=a)},enumerable:s,configurable:s})},Kf:function(a,b,c){for(var e=1;e<a.a.length;e++)d.prototype.Jd(a.a,e,b);for(e=0;e<a.d.length;e++)d.prototype.Jd(a.d,e,c)},Yd:function(a,b){var c,d;if(a.sa[b])d=a;else if(a.ia)for(c=0;d===m&&c<a.ia.length;c+=1)a.ia[c].sa[b]&&(d=a.ia[c]);return d}};return{p:function(a){a.c.b.f.t("_ActionOnParam_key",d);a.c.b.f.F("_ActionOnParam_key",m,c);b=a},implementation:{Ai:d}}};T.b.W.m.Th={};S("PENGO.client.shared.runEngine.blackboxes.collection.actuators.traverseControl");
T.b.W.m.Th.resolve=function(){function d(b,a,d,l){var e,g=0,f=new c.c.b.u.v(b,a,d,l,"_TraverseControl_key");f.B("target",0);f.D("item",0);f.D("index",1);f.g("available",0);f.g("unavailable",1);f.g("empty",2);f.i("first",0,function(a){var b=f.a[0].param;b!==m&&(0<b.value.length?(g=0,e(f.d,b.value[g],g+1),f.e(0,a)):(f.e(1,a),f.e(2,a)))});f.i("next",1,function(a){var b=f.a[0].param;b!==m&&(0<b.value.length?g>=b.value.length-1?f.e(1,a):(g=0>g?0:g+1,e(f.d,b.value[g],g+1),f.e(0,a)):(f.e(1,a),f.e(2,a)))});
f.i("prev",2,function(a){var b=f.a[0].param;b!==m&&(0<b.value.length?0>=g?f.e(1,a):(g=g>=b.value.length?b.value.length-1:g-1,e(f.d,b.value[g],g+1),f.e(0,a)):(f.e(1,a),f.e(2,a)))});f.i("last",3,function(a){var b=f.a[0].param;b!==m&&(0<b.value.length?(g=b.value.length-1,e(f.d,b.value[g],g+1),f.e(0,a)):(f.e(1,a),f.e(2,a)))});e=function(a,b,c){a[0]&&(a[0].param&&(a[0].param.value=b),a[1].param&&(a[1].param.value=c))};return f}var c;return{p:function(b){b.c.b.f.t("_TraverseControl_key",d);c=b},implementation:{oj:d}}};T.b.z.ca.ih={};S("PENGO.client.shared.runEngine.blackboxes.logic.sensors.repeatWhile");
T.b.z.ca.ih.resolve=function(){function d(b,c,d,g){function f(){z=m;b.O(q)}function q(a){var c=I-a.event.time;c>a.event.deltaTime?z=setTimeout(f,c-a.event.deltaTime):(z=m,0>=c?G(a):b.O(D))}function r(a){for(;x.value;)A&&(u+=1,A.value=u),y(a,t);F=w;v(a,t)}function n(){F&&(E===J?b.ga(J):E===G&&(z&&(clearTimeout(z),z=m),b.ga(D)),F=w)}var t=new a.c.b.u.v(b,c,d,g,"_RepeatWhile_key"),u,y,v,x,p,A,E,z,I=0,H=0,F=w;t.B("condition",0);t.D("numberOf",0);t.g("fire",0);t.g("end",1);var J=function L(a){x.value?
(A&&(u+=1,A.value=u),b.O(L),y(a,t)):(F=w,v(a,t))},D=function M(a){0>=I-a.event.time?G(a):b.O(M)},G=function N(a){x.value?(A&&(u+=1,A.value=u),0<H?(I=a.event.time+H,H>a.event.deltaTime?z=setTimeout(f,H-a.event.deltaTime):b.O(D),y(a,t)):(y(a,t),N(a))):(F=w,v(a,t))};t.jd=function(a){switch(a){case 0:E=r;break;case 1:E=J;break;case 2:E=G}t.bi()};t.bi=function(){y=t.k[0].n;v=t.k[1].n;x=t.a[0].param;p=t.a[1]&&t.a[1].param;A=t.d[0].param};t.i("run",0,function(a){F&&n();F=s;x&&x.value?(u=0,E===G?p?(H=p.value,
E(a)):(H=0,G(a)):E(a)):(A&&(A.value=0),v(a,t))});t.i("reset",1,n);return t}function c(a,b){if(a.T[1].o)a.T[1].o(b);else a.T[1](b)}function b(a,b){a.jd(b.M)}var a;return{p:function(k){k.c.b.f.t("_RepeatWhile_key",d);k.c.b.f.F("_RepeatWhile_key",c,b);k.c.b.f.$("_RepeatWhile_key","condition",w);k.c.b.f.$("_RepeatWhile_key","delay",0);a=k},implementation:{xi:d}}};T.b.W.m.ag={};S("PENGO.client.shared.runEngine.blackboxes.collection.actuators.getLength");
T.b.W.m.ag.resolve=function(){function d(b,a,d,l){var e=new c.c.b.u.v(b,a,d,l,"_LengthGetter_key");e.B("targetCollection",0);e.D("numberOfItems",0);e.D("empty",1);e.g("done",0);e.g("empty",1);e.i("do",0,function(a){e.a[0].param&&(e.outParameters.numberOfItems=e.a[0].param.value.length,0<e.a[0].param.value.length?(e.outParameters.empty=w,e.e(0,a)):(e.outParameters.empty=s,e.e(0,a),e.k[1]&&e.e(1,a)))});return e}var c;return{p:function(b){b.c.b.f.t("_LengthGetter_key",d);c=b},implementation:{Xi:d}}};T.b.W.m.Cf={};S("PENGO.client.shared.runEngine.blackboxes.collection.actuators.emptyCollection");T.b.W.m.Cf.resolve=function(){function d(b,a,d,l){var e=new c.c.b.u.v(b,a,d,l,"_EmptyCollection_key");e.B("targetCollection",0);e.g("done",0);e.i("do",0,function(a){e.a[0].param&&(e.a[0].param.value.length=0,e.e(0,a))});return e}var c;return{p:function(b){b.c.b.f.t("_EmptyCollection_key",d);c=b},implementation:{Ii:d}}};T.b.W.m.nf={};S("PENGO.client.shared.runEngine.blackboxes.collection.actuators.collectionIterator");
T.b.W.m.nf.resolve=function(){function d(b,a,d,l){var e,g=0,f=new c.c.b.u.v(b,a,d,l,"_CollectionIterator_key");f.B("targetCollection",0);f.D("index",0);f.D("item",1);f.g("done",0);f.g("first",1);f.g("last",2);f.g("empty",3);f.i("first",0,function(a){var b=f.a[0].param;b!==m&&(0<b.value.length?(g=0,e(f.d,b.value[g],g+1),f.e(0,a)):f.e(3,a))});f.i("next",1,function(a){var b=f.a[0].param;b!==m&&(0<b.value.length?g>=b.value.length-1?f.e(2,a):(g=0>g?0:g+1,e(f.d,b.value[g],g+1),f.e(0,a)):f.e(3,a))});f.i("prev",
2,function(a){var b=f.a[0].param;b!==m&&(0<b.value.length?0>=g?f.e(1,a):(g=g>=b.value.length?b.value.length-1:g-1,e(f.d,b.value[g],g+1),f.e(0,a)):f.e(3,a))});f.i("last",3,function(a){var b=f.a[0].param;b!==m&&(0<b.value.length?(g=b.value.length-1,e(f.d,b.value[g],g+1),f.e(0,a)):f.e(3,a))});e=function(a,b,c){a[0]&&(a[0].param&&(a[0].param.value=c),a[1].param&&(a[1].param.value=b))};return f}var c;return{p:function(b){b.c.b.f.t("_CollectionIterator_key",d);c=b},implementation:{Ti:d}}};T.b.z.m.jf={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.caseSelector");T.b.z.m.jf.resolve=function(){function d(b,a,d,l){var e=new c.c.b.u.v(b,a,d,l,"_CaseSelector_key");e.B("variable",0);e.g("default",0);e.i("select",0,function(a){var b,c,d=e.inParameters.variable,k=[];if(d!==m){c=w;k=e.a.map(function(a){return a&&a.param&&a.param.value});for(b=1;b<k.length;b++)d===k[b]&&(e.e(b,a),c=s)}c||e.e(0,a)});return e}var c;return{p:function(b){b.c.b.f.t("_CaseSelector_key",d);c=b},implementation:{Di:d}}};T.b.pb.wa.Hh={};S("PENGO.client.shared.runEngine.blackboxes.user.sync.showSignIn");
T.b.pb.wa.Hh.resolve=function(){function d(b,a,d,l){var e=new c.c.b.u.v(b,a,d,l,"_ShowSignIn_key");e.xf=s;e.g("shown",0);e.g("closed",1);e.g("alreadySignedIn",2);e.i("show",0,function(a){function d(a){b.O(function(b){e.fireOutput(a===s?2:1,b)})}function k(){e.e(0,a)}c.Qb!==m&&c.Qb.showSignInDialog(d,k,e.Qc,"fromBB")});return e}var c;return{p:function(b){b.c.b.f.t("_ShowSignIn_key",d);b.c.b.f.F("_ShowSignIn_key",m,function(a,b){a.Qc=b===m||b.S?s:w});c=b},implementation:{Aj:d}}};T.b.object.m.Rf={};S("PENGO.client.shared.runEngine.blackboxes.object.actuators.forEachKey");
T.b.object.m.Rf.resolve=function(){function d(b,a,d,l){var e=new c.c.b.u.v(b,a,d,l,"_ForEachKey_key"),g=w;e.B("target",0);e.D("key",0);e.g("step",0);e.g("finished",1);e.g("stopped",2);e.i("start",0,function(a){var b,c=e.a[0].param&&e.a[0].param.value;if(c){g=w;if(e.d[0].param)for(b in c){if(e.d[0].param.value=b,e.k[0].n(a,e),g){e.k[2].n(a,e);return}}else for(b in c)if(e.k[0].n(a,e),g){e.k[2].n(a,e);return}e.k[1].n(a,e)}});e.i("stop",1,function(){e.a[0].param&&(g=s)});return e}var c;return{p:function(b){b.c.b.f.t("_ForEachKey_key",
d);c=b},implementation:{Mi:d}}};T.b.z.m.sf={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.copyValue");
T.b.z.m.sf.resolve=function(){function d(b,a,d,l){function e(a){f.d[a].param.value=f.a[a].param.value}function g(a){f.d[a].param.value={x:f.a[a].param.value.x,y:f.a[a].param.value.y}}var f=new c.c.b.u.v(b,a,d,l,"_ValueCopier_key"),q=[];f.qh=function(a,b){if(b)switch(b){case "_Vector2_":q[a]=g;break;default:q[a]=e}else q[a]=m};f.kf=function(){q.length=0};f.g("done",0);f.i("do",0,function(a){for(var b=0;b<q.length;++b)if(q[b])q[b](b);f.e(0,a)});return f}var c;d.prototype={wg:function(b){b.kf();for(var a=
0;a<b.a.length;++a)b.a[a].param&&(b.d[a].param&&b.a[a].param.valueType)&&b.qh(a,b.a[a].param.valueType.id)}};return{p:function(b){b.c.b.f.t("_ValueCopier_key",d);b.c.b.f.F("_ValueCopier_key",m,d.prototype.wg);c=b},implementation:{sj:d}}};T.b.va.ca.Rg={};S("PENGO.client.shared.runEngine.blackboxes.device.sensors.mouseListener");
T.b.va.ca.Rg.resolve=function(){function d(a,b){a.J.off(b)}function c(a,b){b.L&&(a.hc=s);b.M&&(a.ic=s);b.R&&(a.jc=s);b.V&&(a.Pc=s);b.C&&(a.vb=s);b.S&&(a.wb=s);b.A&&(a.ub=s)}function b(b,c,d,g){function f(a){if(z.Pc&&!J&&(a=a||window.event)&&a.target!==b.X)A(a),b.da(n),J=s}function q(a){if((a=a||window.event)&&a.target!==b.X)switch(a.button){case 0:z.hc&&E(z,a)&&(A(a),b.da(x));break;case 1:z.ic&&E(z,a)&&(A(a),b.da(y));break;case 2:z.jc&&E(z,a)&&(A(a),b.da(t))}}function r(a){if((a=a||window.event)&&
a.target!==b.X)switch(a.button){case 0:z.hc&&E(z,a)&&(A(a),b.da(p));break;case 1:z.ic&&E(z,a)&&(A(a),b.da(v));break;case 2:z.jc&&E(z,a)&&(A(a),b.da(u))}}function n(a){J=w;z.e(6,a)}function t(a){z.e(5,a)}function u(a){z.e(4,a)}function y(a){z.e(3,a)}function v(a){z.e(2,a)}function x(a){z.e(1,a)}function p(a){z.e(0,a)}function A(a){function c(a){var d=0,f=0;a.pageX||a.pageY?(d=a.pageX,f=a.pageY):a.clientX!==m&&(d=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,f=a.clientY+document.body.scrollTop+
document.documentElement.scrollTop);for(var e=a.target,g=0,l=0;null!=e;)g+=e.offsetLeft+e.clientLeft,l+=e.offsetTop+e.clientTop,e=e.offsetParent;return{x:b.Ob*(d-g)/(a.target.clientWidth*b.cc),y:b.Nb*(f-l)/(a.target.clientHeight*b.Ad)}}var d,f;if(f=z.d[0].param)d=c(a),f.value.x=d.x,f.value.y=d.y;if(f=z.d[1].param)d===m&&(d=c(a)),I===m&&(I=d.x,H=d.y),f.value.x=d.x-I,f.value.y=d.y-H,I=d.x,H=d.y}function E(a,b){var c=s;a.vb&&(c=b.ctrlKey&&c);a.wb&&(c=b.shiftKey&&c);a.ub&&(c=b.altKey&&c);return c}var z=
new a.c.b.u.v(b,c,d,g,"_MouseChecker_key"),I,H,F=w,J=w;z.D("position",0);z.D("delta",1);z.wj=function(){z.g("LeftButtonDown",0);z.g("LeftButtonUp",1);z.hc=s};z.xj=function(){z.g("MiddleButtonDown",2);z.g("MiddleButtonUp",3);z.ic=s};z.zj=function(){z.g("RightButtonDown",4);z.g("RightButtonUp",5);z.jc=s};z.yj=function(){z.g("moved",6);z.Pc=s};z.hc=w;z.jc=w;z.ic=w;z.Pc=w;z.ti=w;z.ui=w;z.vb=w;z.wb=w;z.ub=w;z.i("on",0,function(){F||(b.X.addEventListener("mousedown",r,w),b.X.addEventListener("mouseup",
q,w),b.X.addEventListener("mousemove",f,w),F=s)});z.i("off",1,function(){F&&(b.X.removeEventListener("mousedown",r,w),b.X.removeEventListener("mouseup",q,w),b.X.removeEventListener("mousemove",f,w),b.ha(p),b.ha(x),b.ha(v),b.ha(y),b.ha(u),b.ha(t),b.ha(n),J=w,H=I=m,F=w)});return z}var a;return{p:function(k){k.c.b.f.t("_MouseChecker_key",b);k.c.b.f.F("_MouseChecker_key",d,c);a=k},implementation:{Zi:b}}};T.b.z.ca.trigger={};S("PENGO.client.shared.runEngine.blackboxes.logic.sensors.trigger");
T.b.z.ca.trigger.resolve=function(){function d(a,c,d,e){function g(){t&&(a.Ic(u),t=w);n=r=q=0}var f=new b.c.b.u.v(a,c,d,e,"_Trigger_key");f.B("times",0);f.B("delay",1);f.g("fire",0);f.g("end",1);var q=0,r=0,n=0,t=w,u=function v(b){if(0>=r||r===m){for(var c=0;c<n;c++)f.e(0,b);f.e(1,b);g()}else c=b.event.time-q,t||(a.ac(v),t=s),c>=r&&(n-=1,f.e(0,b),0===n?(f.e(1,b),g()):q=b.event.time)};f.i("run",0,function(b){f.inParameters.times!==m&&(t&&(a.Ic(u),t=w),q=b.event.time,r=f.inParameters.delay,n=f.inParameters.times,
0<n?u(b):f.e(1,b))});f.i("reset",1,g);return f}function c(a,b){if(a.T[1].o)a.T[1].o(b);else a.T[1](b)}var b;return{p:function(a){a.c.b.f.t("_Trigger_key",d);a.c.b.f.F("_Trigger_key",c,m);a.c.b.f.$("_Trigger_key","times",1);a.c.b.f.$("_Trigger_key","delay",0);b=a},implementation:{yi:d}}};T.b.z.m.Qg={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.manageBoolean");
T.b.z.m.Qg.resolve=function(){function d(b,a,d,l){var e=new c.c.b.u.v(b,a,d,l,"_ManageBoolean_key");e.D("boolean",0);e.g("remainsTrue",0);e.g("falseToTrue",1);e.g("remainsFalse",2);e.g("trueToFalse",3);e.i("setTrue",0,function(a){f!==m&&(g=f.value,f.value=s,g?q(a,e):n(a,e))});e.i("setFalse",1,function(a){f!==m&&(g=f.value,f.value=w,g?t(a,e):r(a,e))});e.i("toggle",2,function(a){f!==m&&(g=f.value,f.value=!g,g?t(a,e):n(a,e))});var g,f,q,r,n,t;e.cb=function(){f=e.d[0].param;q=e.k[0].n;n=e.k[1].n;r=e.k[2].n;
t=e.k[3].n};e.cb();return e}var c;return{p:function(b){b.c.b.f.t("_ManageBoolean_key",d);b.c.b.f.F("_ManageBoolean_key",m,function(a){a.cb()});c=b},implementation:{Yi:d}}};T.b.z.m.Ef={};S("PENGO.client.shared.runEngine.blackboxes.logic.actuators.eventSwitch");T.b.z.m.Ef.resolve=function(){function d(a,c,d,e){var g=new b.c.b.u.v(a,c,d,e,"_EventSwitcher_key"),f=g.g("on",0),q=g.g("off",1),r=w;g.i("set on",0,function(){r=s});g.i("set off",1,function(){r=w});g.i("fire",2,function(a){r?g.e(f,a):g.e(q,a)});return g}function c(a,b){if(a.T[1].o)a.T[1].o(b);else a.T[1](b)}var b;return{p:function(a){a.c.b.f.t("_EventSwitcher_key",d);a.c.b.f.F("_EventSwitcher_key",c,m);b=a},implementation:{Ji:d}}};T.gd={};S("PENGO.client.shared.runEngine.script");
T.gd.resolve=function(){function d(a,b,c){this.s=a;this.ta=(this.parent=b)&&b.ta?b.ta:this;this.scripts=[];this.b=[];this.qf=[];this.Qj=[];this.J={};this.G=m;a.ba.Va(this,c)}var c,b;d.prototype={uf:function(a){var b,d;if(a)for(b=0;b<a.length;b++)if(a[b]){d=new c.c.lc.Kc(this,a[b][c.j.NAME],a[b][c.j.ID]);this.qf.push(d);var e=this.ta||this.Fb.ta,g=a[b][c.j.LINKS],f=m;g&&(f={},f[c.j.OUTPUTID]=d,f[c.j.LINKS]=g,e.Ma.push(f))}},ra:function(a){function b(a,f){if(f)for(d=0;d<f.length;d++)f[d]&&(e=new c.c.gd.Bd(a.s,
a,f[d][c.j.ID]),a.scripts.push(e),e.ra(f[d]))}var d,e,g,f=a[c.j.BLACKBOXES];b(this,a[c.j.SCRIPTS]);b(this,a[c.j.BEHAVIORS]);b(this,a[c.j.ENTITIES]);if(f)for(d=0;d<f.length;d+=1)f[d]&&(g=c.c.b.f.types[f[d][c.j.TYPE]],g=g.Md(this.s,m,this,f[d][c.j.ID]),this.b.push(g),g.ra(f[d]));this.uf(a[c.j.CONNECTORS])},Ec:function(){for(var a=0;a<this.b.length;a++)this.b[a]&&this.b[a].Ec();for(a=0;a<this.scripts.length;a+=1)this.scripts[a]&&this.scripts[a].Ec()},Dd:function(a){if(this.J[b])this.J[b](a);for(var c=
0;c<this.scripts.length;c+=1)this.scripts[c]&&this.scripts[c].Dd(a)},Ed:function(a){for(var b=0;b<this.b.length;b+=1)this.b[b]&&this.b[b].reset(a);for(b=0;b<this.scripts.length;b+=1)this.scripts[b]&&this.scripts[b].Ed(a)}};return{p:function(a){c=a;b=a.j.CONNECTOR_ONLOADED},implementation:{Bd:d}}};T.r={};T.r.Nc={};S("PENGO.client.shared.runEngine.params.basicParamTypes");
T.r.Nc.resolve=function(){function d(c){return this==c||this.ia&&-1!=this.ia.indexOf(c)}return{implementation:{types:{number:{id:"number",name:"number",kb:s,fc:s,ia:m,Oa:d,defaultValue:0,mc:"setValue",sa:{setValue:{o:function(c,b,a,d){c=d.target;return b.newValue!==m?(c.value=b.newValue,s):w}},"+":{o:function(c,b,a){return b.valueToAdd!==m&&a.result!==m?(a.result=c+b.valueToAdd,s):w}},"-":{o:function(c,b,a){return b.valueToSubtract!==m&&a.result!==m?(a.result=c-b.valueToSubtract,s):w}},"*":{o:function(c,
b,a){return b.timesToMultiply!==m&&a.result!==m?(a.result=c*b.timesToMultiply,s):w}},"/":{o:function(c,b,a){return b.divideByValue!==m&&a.result!==m?(a.result=c/b.divideByValue,s):w}},abs:{o:function(c,b,a){return a.result!==m?(a.result=Math.abs(c),s):w}},ceil:{o:function(c,b,a){return a.result!==m?(a.result=Math.ceil(c),s):w}},copy:{o:function(c,b,a){return a.copy!==m?(a.copy=c,s):w}},cos:{o:function(c,b,a){return a.result!==m?(a.result=Math.cos(c),s):w}},floor:{o:function(c,b,a){return a.result!==
m?(a.result=Math.floor(c),s):w}},inverseSign:{o:function(c,b,a){return a.result!==m?(a.result=0!==c?-c:c,s):w}},round:{o:function(c,b,a){return a.result!==m?(a.result=Math.round(c),s):w}},sin:{o:function(c,b,a){return a.result!==m?(a.result=Math.sin(c),s):w}},toBoolean:{o:function(c,b,a){return a.result!==m?(a.result=0!==c,s):w}},toString:{o:function(c,b,a){if(a.result!==m){if("number"===typeof a.result)return w;a.result=c.toString();return s}return w}}}},bool:{id:"bool",name:"boolean",kb:s,fc:s,
ia:m,Oa:d,defaultValue:w,mc:"setValue",sa:{setValue:{o:function(c,b,a,d){c=d.target;return b.newValue!==m?(c.value=b.newValue===s,s):w}},"&":{o:function(c,b,a){return b["B operand"]!==m&&a.result!==m?(a.result=c&&b["B operand"]==s,s):w}},"|":{o:function(c,b,a){return b["B operand"]!==m&&a.result!==m?(a.result=c||b["B operand"]==s,s):w}},not:{o:function(c,b,a){return a.result!==m?(a.result=!c,s):w}},copy:{o:function(c,b,a){return a.copy!==m?(a.copy=c==s,s):w}},toString:{o:function(c,b,a){if(a.result!==
m){if("number"===typeof a.result)return w;a.result=c.toString();return s}return w}}}},string:{id:"string",name:"string",kb:s,fc:s,ia:m,Oa:d,defaultValue:"",mc:"setValue",sa:{setValue:{o:function(c,b,a,d){c=d.target;return b.newValue!==m?(c.value=b.newValue,s):w}},concatenate:{o:function(c,b,a){return b.secondText!==m&&"string"===typeof a.result?(a.result=c.concat(b.secondText),s):w}},copy:{o:function(c,b,a){if(a.copy!==m){if("number"===typeof a.copy)return w;a.copy=c;return s}return w}},split:{o:function(c,
b,a,d){return b.separator!==m&&a.strings!==m&&"string"===d.getOutParamType(0)?("number"==typeof c&&(c=c.toString()),c=c.split(b.separator,b.limit),a.strings=c,a.numberOfStrings=c.length,s):w}},toInteger:{o:function(c,b,a){if(a.result!==m){c=parseInt(c.toString());if(isNaN(c))return w;a.result=c;return s}return w}},toFloat:{o:function(c,b,a){return a.result!==m&&(c=parseFloat(c.toString()),"number"===typeof c)?(a.result=c,s):w}}}},_Vector2_:{id:"_Vector2_",name:"Vector2D",kb:s,ia:m,Oa:d,U:{x:{type:"number",
defaultValue:0},y:{type:"number",defaultValue:0}},mc:"setValue",sa:{setValue:{o:function(c,b,a,d){c=d.target;return b.newValue!==m?(c.value.x=b.newValue.x,c.value.y=b.newValue.y,s):w}},"+":{o:function(c,b,a){return b.valueToAdd!==m&&a.result!==m?(a.result={x:c.x+b.valueToAdd.x,y:c.y+b.valueToAdd.y},s):w}},"-":{o:function(c,b,a){return b.valueToSubtract!==m&&a.result!==m?(a.result={x:c.x-b.valueToSubtract.x,y:c.y-b.valueToSubtract.y},s):w}},"*":{o:function(c,b,a){return b.scalar!==m&&a.result!==m?
(a.result={x:c.x*b.scalar,y:c.y*b.scalar},s):w}},"/":{o:function(c,b,a){return b.scalar!==m&&a.result!==m?(a.result={x:c.x/b.scalar,y:c.y/b.scalar},s):w}},copy:{o:function(c,b){return b.vector2ToCopy!==m?(c.x=b.vector2ToCopy.x,c.y=b.vector2ToCopy.y,s):w}},clone:{o:function(c,b,a){return a.clone!==m?(a.clone={x:c.x,y:c.y},s):w}},distanceTo:{o:function(c,b,a){if(b.point!==m&&a.distance!==m){var d=c.x-b.point.x;c=c.y-b.point.y;a.distance=Math.sqrt(d*d+c*c);return s}return w}},distanceSquaredTo:{o:function(c,
b,a){if(b.point!==m&&a.squaredDistance!==m){var d=c.x-b.point.x;c=c.y-b.point.y;a.squaredDistance=d*d+c*c;return s}return w}},dot:{o:function(c,b,a){return b.toMultiply!==m&&a.result!==m?(a.result=c.x*b.toMultiply.x+c.y*b.toMultiply.y,s):w}},isEqualTo:{o:function(c,b,a){return b.toCompare!==m&&a.result!==m?(a.result=c.x===b.toCompare.x&&c.y===b.toCompare.y,s):w}},inverseSign:{o:function(c){c.x=-c.x;c.y=-c.y;return s}},length:{o:function(c,b,a){return a.length!==m?(a.length=Math.sqrt(c.x*c.x+c.y*c.y),
s):w}},lengthSquared:{o:function(c,b,a){return a.lengthSquared!==m?(a.lengthSquared=c.x*c.x+c.y*c.y,s):w}},getX:{o:function(c,b,a){return a["X value"]!==m?(a["X value"]=c.x,s):w}},getY:{o:function(c,b,a){return a["Y value"]!==m?(a["Y value"]=c.y,s):w}},getXY:{o:function(c,b,a){return a["X value"]!==m&&a["Y value"]!==m?(a["X value"]=c.x,a["Y value"]=c.y,s):w}},normalize:{o:function(c){var b=Math.sqrt(c.x*c.x+c.y*c.y);c.x/=b;c.y/=b;return s}},setLength:{o:function(c,b){if(b.length!==m){var a=Math.sqrt(c.x*
c.x+c.y*c.y);c.x=c.x/a*b.length;c.y=c.y/a*b.length;return s}return w}},setX:{o:function(c,b){return b["X value"]!==m?(c.x=b["X value"],s):w}},setY:{o:function(c,b){return b["Y value"]!==m?(c.y=b["Y value"],s):w}},setXY:{o:function(c,b){return b["X value"]!==m&&b["Y value"]!==m?(c.x=b["X value"],c.y=b["Y value"],s):w}},toString:{o:function(c,b,a){if(a.result!==m){if("number"===typeof a.result)return w;a.result="X: "+c.x.toString()+" Y: "+c.y.toString();return s}return w}}}},_Object_:{id:"_Object_",
name:"ParamMap",kb:m,ia:m,Oa:d,U:{},mc:"addItems",sa:{addItem:{o:function(c,b,a,d){var l,e=b["key(s)"]!==m?b["key(s)"]:b.key;if(e!==m&&b.item!==m){a=c;if(Array.isArray(e))for(c=0;c<e.length&&a;c++)c<e.length-1?(l=Array.isArray(a)?e[c]-1:e[c],a[l]||(a[l]={},a[l].value={},a[l].valueType=d.valueTypes._Object_),a=(a=a[l])&&a.valueType===d.valueTypes._Object_?a.value:m):(a[e[c]]={},a=a[e[c]]);else a=c[e]={};if(a)return a.value=b.item,a.valueType=d.getConnectedInType(2),s}return w}},addItems:{o:function(c,
b,a,d){var l,e,g,f,q;a=[];for(e in b)a.push(b[e]);q=a.length;if(c){for(b=1;b<q;b+=2)if(e=a[b-1],g=a[b],l=typeof e,"undefined"===l||"string"===l&&""===e||"object"===l&&0===e.length)if(2<q&&b===q-1)break;else return w;else if(e!==m&&g!==m){if(Array.isArray(e)){f=c;for(l=0;l<e.length;++l)l<e.length-1?(f[e[l]]||(f[e[l]]={},f[e[l]].value={},f[e[l]].valueType=d.valueTypes._Object_),f=Array.isArray(f)?f[e[l]-1]:f[e[l]].value):(f[e[l]]={},f=f[e[l]])}else f=c[e]={};f.value=g;f.valueType=d.getConnectedInType(b+
1)}return s}return w},ri:s},clone:{o:function(c,b,a,d){function l(a){var b={},c;for(c in a)if(a[c].value!==m){var q=b,r=c,n=a[c].value,t=a[c].valueType,u={};u.valueType=t;Array.isArray(n)?u.value=n:u.value=t===d.valueTypes._Object_?l(n):n;q[r]=u}return b}return a.clone?(a.clone=l(c),s):w}},empty:{o:function(c){for(var b in c)delete c[b];return s}},extractItem:{o:function(c,b,a,d){var l,e;d=d.getConnectedOutType(0);b=b["key(s)"];if(b!==m&&d!==m){if(Array.isArray(b)){for(l=0;l<b.length-1&&c;l++)Array.isArray(c)?
c=c[b[l]-1]:c[b[l]]?(e=c[b[l]].valueType,c=c[b[l]].value):c=m;b=Array.isArray(c)?b[b.length-1]-1:b[b.length-1]}if(c&&c[b]!==m)if(Array.isArray(c)){if(d.Oa(e)&&Array.isArray(c[b])===Array.isArray(a.item))return a.item=c[b],delete c[b],s}else if(d.Oa(c[b].valueType)&&Array.isArray(c[b].value)===Array.isArray(a.item))return a.item=c[b].value,delete c[b],s}return w}},getItem:{o:function(c,b,a,d){var l,e;d=d.getConnectedOutType(0);b=b["key(s)"];if(b!==m&&d!==m){if(Array.isArray(b)){l=c;for(c=0;c<b.length&&
l;c++)Array.isArray(l)?l=l[b[c]-1]?c<b.length-1?l[b[c]-1]:{value:l[b[c]-1],valueType:e}:m:l[b[c]]?c<b.length-1?(e=l[b[c]].valueType,l=l[b[c]].value):l=l[b[c]]:l=m}else l=c[b];if(l!==m&&d.Oa(l.valueType)&&Array.isArray(l.value)===Array.isArray(a.item))return a.item=l.value,s}return w}},getKeys:{o:function(c,b,a){return a.keys!==m?(a.keys=Object.keys(c),s):w}},hasKey:{o:function(c,b,a){var d=b["key(s)"];if(d!==m&&a.available!==m){if(Array.isArray(d)){for(b=0;b<d.length&&c;b++)c=Array.isArray(c)?c[d[b]-
1]:c[d[b]]&&c[d[b]].value;a.available=c!==m}else a.available=c[d]!==m;return s}return w}},isEmpty:{o:function(c,b,a){return a.empty!==m?(a.empty=0===Object.keys(c).length,s):w}},removeItem:{o:function(c,b){var a,d,l=b["key(s)"];if(l!==m){d=c;if(Array.isArray(l)){for(a=0;a<l.length-1&&d;a++)d=d[l[a]]?Array.isArray(d)?d[l[a]-1]:d[l[a]].value:m;a=Array.isArray(d)?l[l.length-1]-1:l[l.length-1]}else a=l;if(d&&d[a]!==m)return delete d[a],s}return w}},typeOfItem:{o:function(c,b,a){var d,l=b["key(s)"];if(l!==
m){if(Array.isArray(l))for(b=0;b<l.length&&c;b++)Array.isArray(c)?c=c[l[b]-1]?c[l[b]-1]:m:c[l[b]]?(d=c[l[b]].valueType,c=c[l[b]].value):c=m;else d=c[l].valueType,c=c[l].value;if(c!==m&&d!==m)return a.type=d.name,a.isCollection=Array.isArray(c),s}return w}}}}}}}};T.r.K={};S("PENGO.client.shared.runEngine.params.paramManager");
T.r.K.resolve=function(){var d,c={p:function(b){b.c.Ub.paramManager={addParamType:c.implementation.bf,addParamTypeAction:c.implementation.cf,getParamTypeSchema:function(a){if(c.implementation.types[a]&&c.implementation.types[a].U)return c.implementation.types[a].U},setCompatibleWith:c.implementation.we,isType1CompatibleWithType2:c.implementation.Eg};c.implementation.types=b.c.r.Nc.types;delete b.c.r.Nc;c.implementation.we("number",["string"]);d=b},implementation:{types:{},bf:function(b,a,d,l){c.implementation.types[b]||
(c.implementation.types[b]={id:b,name:a,kb:l,U:d,ia:m,sa:{},Oa:function(a){return this==a||this.ia&&-1!=this.ia.indexOf(a)}})},cf:function(b,a,k,l){c.implementation.types[b]?c.implementation.types[b].sa[a]===m?c.implementation.types[b].sa[a]={o:k,ee:l}:h(new d.pengoError.pengoError.PengoError("Error: already previously defined callback for the action. "+b+"."+a,d.pengoError.codes.codes.INVALID_DATA)):h(new d.pengoError.pengoError.PengoError("Error: nonexistent type of param to add information. "+
b+"."+a,d.pengoError.codes.codes.INVALID_DATA))},we:function(b,a){var k=c.implementation.types[b];k?k.ia=a.map(function(a){return c.implementation.types[a]}):h(new d.pengoError.pengoError.PengoError("Error: nonexistent type of param to add information.",d.pengoError.codes.codes.INVALID_DATA))},Dg:function(b,a){return b==a||b.ia&&-1!=b.ia.indexOf(a)},Eg:function(b,a){return c.implementation.Dg(c.implementation.types[b],c.implementation.types[a])},Sb:function(b,a){var k,l,e=c.implementation.types[b];
if(e)if(e.U)for(l in k={},e.U)k[l]=a?c.implementation.Sb(e.U[l].type,a[l]):e.U[l].defaultValue!==m?e.U[l].defaultValue:c.implementation.Sb(e.U[l].type);else k=a!==m?a:e.defaultValue;else h(new d.pengoError.pengoError.PengoError("Error: wrong type of param.",d.pengoError.codes.codes.INVALID_DATA));return k},Vd:function a(c,l){var e,g={},f,q;c!=m&&(f=c.id?c:d.c.r.K.types[c]);if(f){if(f.U){for(e in f.U)q=s,g[e]=a(f.U[e].type,l[e]);q||(g={})}else g=f.fc?l:l?{}:l;return g}},Pj:function k(c,e,g){var f;
c=d.c.r.K.types[c];if(c.U)for(f in g)c.U[f]?e[f]=k(c.U[f].type,e[f],g[f]):h(new d.pengoError.pengoError.PengoError("ERROR: incorrect JSON as type "+c.id,d.pengoError.codes.codes.INVALID_DATA));else c.fc?e=g:g===m&&(e=g);return e},vi:function l(c,g){var f,q=s,r=d.c.r.K.types[g];if(r){if(r.U)for(f in r.U)q=c&&c[f]!==m?q&&l(c[f],r.U[f].type):w}else q=w;return q}}};return c};T.r.param={};S("PENGO.client.shared.runEngine.params.param");
T.r.param.resolve=function(){function d(a,b){this.G=m;a.ba.Va(this,b);this.s=a;this.Ca=[];this.Lb=[];this.Ba=[];this.Ra=[];this.jb=[];this.gb=this.qa=this.valueType=this.value=m;this.Sc={}}var c,b;c="WARNING: Probably obsolete param. It can\u00b4t be got a resource.";d.prototype={ka:-1,ya:function(a,b){if(a){var c=this.Ca.indexOf(a);-1===c?(c=this.Ca.push(a)-1,this.Lb[c]=[b],c=this.Ba.indexOf(b),-1===c?(c=this.Ba.push(b)-1,this.Ra[c]=1):this.Ra[c]+=1):-1===this.Lb[c].indexOf(b)&&(this.Lb[c].push(b),
c=this.Ba.indexOf(b),-1===c?(c=this.Ba.push(b)-1,this.Ra[c]=1):this.Ra[c]+=1)}},Hc:function(a,b){-1!==b&&a.r[b]===this&&(a.r.splice(b,1),this.jb.push(a),this.Ba.length===this.jb.length&&this.Ta())},Ta:function(){if(this.qa!==m&&"_VG_"!==this.valueType.id&&"_ST_KEY_"!==this.valueType.id){this.s.Ja.Ta(this.s.Wa[this.qa],this.Kj);this.value=m;for(var a={key:"unavailable"},b=0;b<this.Ca.length;b++)this.Ca[b].Yb&&this.Ca[b].Yb(a)}},ec:function(a,c){var d,e=this,g=this.jb.indexOf(a);-1!==g?(this.jb.splice(g,
1),this.Ba.length>this.jb.length&&this.qa!==m?(d=this.Ca,this.td({valueType:this.valueType.id,assetIndex:this.qa,assetAccesor:this.gb,value:m},function(){for(var a={key:"available",value:e},b=0;b<d.length;b++)d[b].Yb&&d[b].Yb(a);c&&c(e)})):h(new b.pengoError.pengoError.PengoError("ERROR: Incorrect data to set available a param not loaded yet",b.pengoError.codes.codes.INVALID_DATA))):c&&c(e)},remove:function(a,c){function d(a,b,c){a.fa.sc(c.toString()+"_value_load",function t(d){b.param=d;a.fa.Gc(c.toString()+
"_value_load",t)})}function e(a,b,c,d){a.fa.sc(c,function u(e){b.sd(e,d);a.fa.Gc(c,u)})}var g;for(a.r.splice(c,1);0<this.Ca.length;)g=this.Ca.pop(),g.param!==m&&(g.ka===b.j.PARAMCONNECTOR?(g.param=m,d(this.s,g,this.G)):g.ka===b.j.PARAMCOMPONENT&&(e(this.s,g,this.G,g.xc.slice(0)),g.sd(m,m)));this.s.ba.oc(this.G)},ra:function(a,c){function d(){c&&c(e)}var e=this;a[b.j.VALUETYPE]?this.td({valueType:a[b.j.VALUETYPE],assetIndex:a[b.j.ASSETINDEX],assetAccesor:a[b.j.ASSETACCESOR],value:a[b.j.VALUE]},d):
h(new b.pengoError.pengoError.PengoError("ERROR: To define a Param must be defined the type.",b.pengoError.codes.codes.INVALID_DATA))},td:function(a,d){function l(a){a||(a=f.s.Y.pengoAudio.createAudioDummy());e(a)}function e(a){a?(q&&g(a,q),f.value=a):b.Pa.warn(c);f.s.fa.notify(f.G.toString()+"_value_load",f);d&&d(a)}function g(a,b){for(var c in b)"object"==typeof b[c]?g(a[c],b[c]):a[c]=b[c]}var f=this;this.valueType=b.c.r.K.types[a.valueType];if(a.assetIndex!==m){a.assetIndex!==m&&(this.qa=a.assetIndex);
var q=a.value;this.gb=a.assetAccesor;switch(a.valueType){case "_Audio_":this.s.Ja.get(this.s.Wa[this.qa],l,this.gb);break;case "_VG_":this.s.Y.VirtualGoods?this.s.Y.VirtualGoods.getVirtualGood(this.s.Wa[this.qa],e):h(new b.pengoError.pengoError.PengoError("ERROR: Virtual Goods Manager not available.",b.pengoError.codes.codes.INVALID_DATA));break;case "_ST_KEY_":this.s.Y.storage?this.s.Y.storage.getKey(this.s.Wa[this.qa],e):h(new b.pengoError.pengoError.PengoError("ERROR: Storage Manager not available.",
b.pengoError.codes.codes.INVALID_DATA));break;default:this.s.Ja.get(this.s.Wa[this.qa],e,this.gb)}}else a.valueType!==m?(this.value=this.valueType.kb||this.valueType.defaultValue?b.c.r.K.Sb(a.valueType,a.value):m,this.s.fa.notify(this.G.toString()+"_value_load",this),d&&d(this.value)):h(new b.pengoError.pengoError.PengoError("ERROR: To define a Param must be defined the type.",b.pengoError.codes.codes.INVALID_DATA))}};return{p:function(a){b=a;d.prototype.ka=b.j.PARAM},implementation:{xa:d}}};T.r.je={};S("PENGO.client.shared.runEngine.params.paramCollection");
T.r.je.resolve=function(){function d(b,a){this.G=m;b.ba.Va(this,a);this.s=b;this.Ca=[];this.Lb=[];this.Ba=[];this.Ra=[];this.jb=[];this.value=[];this.valueType=m;this.si={values:m,index:0};this.Sc={}}var c;d.prototype={ka:-1,ya:m,remove:m,xg:function(b,a,d){function l(a){a!==m&&(b===m||b>=e.value.length?e.value.push(g.value):0>=b?e.value.unshift(g.value):e.value.splice(b,0,g.value));g&&(g.Ta(),g.s.ba.oc(g.G));d(a)}if(this.valueType!==m&&this.valueType.id===a.valueType){var e=this,g=new c.c.r.param.xa(this.s,
this.s.ba.Td());g.td(a,l)}else d(m)},ra:function(b,a){function d(){e--;0===e&&(g.s.fa.notify(g.G.toString()+"_value_load",g),a&&a(g))}var l,e,g=this,f=b[c.j.VALUES];this.value=[];this.valueType=c.c.r.K.types[b[c.j.VALUETYPE]];if(f&&0<f.length&&this.valueType){e=f.length;for(l=0;l<f.length;l+=1)f[l]?this.xg(m,{valueType:this.valueType.id,assetIndex:f[l][c.j.ASSETINDEX],assetAccesor:f[l][c.j.ASSETACCESOR],value:f[l][c.j.VALUE]},d):d()}else e=1,d()}};return{p:function(b){c=b;d.prototype.ya=b.c.r.param.xa.prototype.ya;
d.prototype.remove=b.c.r.param.xa.prototype.remove;d.prototype.ka=c.j.PARAMCOLLECTION},implementation:{Qe:d}}};T.r.me={};S("PENGO.client.shared.runEngine.params.paramObject");
T.r.me.resolve=function(){function d(a,b){this.G=m;a.ba.Va(this,b);this.s=a;this.Ca=[];this.Lb=[];this.Ba=[];this.Ra=[];this.jb=[];this.value={};this.valueType=k.c.r.K.types._Object_;this.gb=this.qa=m;this.Sc={}}var c,b,a,k;c="JSON not supported (array inside an array).";b="JSON not supported (empty array).";a="WARNING: Probably obsolete param. It can\u00b4t be got a JSON.";d.prototype={ka:-1,ya:m,remove:m,Hc:m,ec:m,Ta:m,ra:function(a,b){function c(){d.s.fa.notify(d.G.toString()+"_value_load",d);
b&&b(d)}var d=this;a[k.j.ASSETINDEX]!==m?this.ug({assetIndex:a[k.j.ASSETINDEX],assetAccesor:a[k.j.ASSETACCESOR]},c):c()},ug:function(b,c){function d(b){b?f.zf(b):k.Pa.warn(a);c&&c(b)}var f=this;b.assetIndex!==m&&(b.assetIndex!==m&&(this.qa=b.assetIndex),this.gb=b.assetAccesor,this.s.Ja.get(this.s.Wa[this.qa],d,this.gb))},zf:function(a){function d(a){var e,l={},n;for(n in a)if(a.hasOwnProperty(n))if(Array.isArray(a[n])){Array.isArray(a[n][0])&&h(new k.pengoError.pengoError.PengoError(c,k.pengoError.codes.codes.INVALID_DATA));
for(e=0;e<a[n].length;e+=1)a[n][e]!==m&&null!==a[n][e]&&Number.NaN!==a[n][e]||(a[n].splice(e,1),e-=1);0<a[n].length?l[n]=g(a[n]):h(new k.pengoError.pengoError.PengoError(b,k.pengoError.codes.codes.INVALID_DATA))}else a[n]!==m&&(null!==a[n]&&Number.NaN!==a[n])&&(l[n]=g(a[n]));return l}function g(a){function c(a){return"boolean"===typeof a||"number"===typeof a||"string"===typeof a?a:g(a).value}function l(a){if("boolean"===typeof a)return k.c.r.K.types.bool;if("number"===typeof a)return k.c.r.K.types.number;
if("string"===typeof a)return k.c.r.K.types.string;if(Array.isArray(a)){if(0<a.length)return l(a[0]);h(new k.pengoError.pengoError.PengoError(b,k.pengoError.codes.codes.INVALID_DATA))}return k.c.r.K.types._Object_}var n={};"object"!==typeof a?(n.value=a,n.valueType=l(a)):Array.isArray(a)?(n.value=a.map(c),n.valueType=l(a[0])):(n.value=d(a),n.valueType=k.c.r.K.types._Object_);return n}a&&"object"===typeof a&&(this.value=d(a))}};return{p:function(a){k=a;d.prototype.ka=k.j.PARAMOBJECT;d.prototype.ya=
a.c.r.param.xa.prototype.ya;d.prototype.remove=a.c.r.param.xa.prototype.remove;d.prototype.Hc=a.c.r.param.xa.prototype.Hc;d.prototype.ec=a.c.r.param.xa.prototype.ec;d.prototype.Ta=a.c.r.param.xa.prototype.Ta},implementation:{Te:d}}};T.r.ke={};S("PENGO.client.shared.runEngine.params.paramComponent");
T.r.ke.resolve=function(){function d(b,a){this.s=b;this.Ca=[];this.Lb=[];this.Ba=[];this.Ra=[];var c,d,e,g={xc:m};for(e in g);Object.defineProperty(this,e,{get:function(){return d},set:function(a){d=a},enumerable:s,configurable:s});g={param:m};for(e in g);Object.defineProperty(this,e,{get:function(){return c},set:function(a){c=a},enumerable:s,configurable:s});var f,q;Object.defineProperty(this,"value",{get:function(){if(c&&d&&c.value!==m){f=c.value;for(q=0;q<d.length;q++)f=f[d[q]];return f}if(c)return c.value},
set:function(a){if(c&&d){f=c.value;for(q=0;q<d.length-1;q++)f=f[d[q]];f[d[q]]=a}else c&&(c.value=a)},enumerable:s,configurable:s});this.valueType=m;this.Sc={};this.G=m;b.ba.Va(this,a)}var c;d.prototype={ka:-1,Yb:function(b){switch(b.key){case "available":this.param=b.value;break;case "unavailable":this.param=m}},sd:function(b,a){function k(a,b){var e=c.c.r.K.types[a];if(b){if(e.U!==m&&e.U[b]!==m)return e.U[b].type;h(new c.pengoError.pengoError.PengoError(d.prototype.Tb.mi,c.pengoError.codes.codes.INVALID_DATA))}return a}
var l,e;if(b&&b.valueType)if(this.param=b,a!=m&&""!=a){e=b.valueType.id;if(Array.isArray(a)){for(l=0;l<a.length-1;l++)e=k(e,a[l]);l=a[l];this.xc=a.slice(0)}else this.xc=[a],l=a;e=k(e,l);(this.valueType=c.c.r.K.types[e])||h(new c.pengoError.pengoError.PengoError("Incorrect param components to use.",c.pengoError.codes.codes.INVALID_DATA))}else h(new c.pengoError.pengoError.PengoError("ERROR: Empty component to use.",c.pengoError.codes.codes.INVALID_DATA));else this.valueType=this.xc=this.param=m},ra:function(b,
a){function k(a,b,c){a.fa.sc(c.toString()+"_value_load",function u(d){a.fa.Gc(c.toString()+"_value_load",u);l(b,d)})}function l(b,c){b.sd(c,f);b.s.fa.notify(b.G.toString()+"_value_load",b);a&&a(b)}var e,g=b[c.j.PARAMID],f=b[c.j.PARAMCOMPONENTS];b[c.j.VALUETYPE]&&(this.valueType=c.c.r.K.types[b[c.j.VALUETYPE]]);g!==m?(e=this.s.ba.Ea[g])&&e.value!==m?l(this,e):k(this.s,this,g):h(new c.pengoError.pengoError.PengoError(d.prototype.Tb.ni,c.pengoError.codes.codes.INVALID_DATA))},ya:function(b,a){if(b){var d=
-1===this.Ba.indexOf(a);c.c.r.param.xa.prototype.ya.call(this,b,a);d&&-1!==this.Ba.indexOf(a)&&this.param.ya(this,a)}}};return{p:function(b){c=b;d.prototype.remove=b.c.r.param.xa.prototype.remove;d.prototype.ka=c.j.PARAMCOMPONENT},implementation:{Re:d}}};T.ta={};S("PENGO.client.shared.runEngine.level");
T.ta.resolve=function(){function d(k,l,e){l&&l!==l.ta&&h(new c.pengoError.pengoError.PengoError("Error: the parent must be another level.",c.pengoError.codes.codes.INVALID_DATA));e===c.j.ROOT&&(k.Ib=this);this.rc=[];this.r=[];this.vc=0;this.Ia=s;this.yd=0;var g=this;this.ce=function(){function a(c){k.za.push(function(a){c.Ce(a);c.J[b](a)});c.wd&&k.Ua(k.Q.fb)}g.Ia||(g.wd&&k.Ua(k.Q.LOADING),g.Kd(a))};this.Ge=function(b){g.xd(b);g.He();if(g.J[a])g.J[a](b)};this.wd=s;this.be=m;d.super_.constructor.call(this,
k,l,e);this.ta=this;this.Ma=[]}var c,b,a;d.prototype={ka:-1,He:function(){if(this.Ia===s){for(var a=0;a<this.rc.length;a+=1)this.rc[a].He();this.G!==c.j.ROOT&&this.gh()}},Kd:function(a){function b(c){c&&-1===t.r.indexOf(c)&&t.r.push(c);n===t.r.length&&!t.Ia&&(t.Ia=s,t.Ec(),a&&a(t))}var d,g,f,q,r,n,t=this;if(!this.Ia&&(r=this.be[c.j.PARAMS]))if(n=r.length)for(d=0;d<r.length;d++)if(q=r[d],g="string"==typeof q[c.j.ID]?parseInt(q[c.j.ID]):q[c.j.ID],f=this.s.ba.Ea[g])f.ka===c.j.PARAM&&f.qa!==m?f.ec(this,
b):b(f);else{switch(q[c.j.TYPE]){case c.j.PARAM:f=new c.c.r.param.xa(this.s,g);break;case c.j.PARAMCOMPONENT:f=new c.c.r.ke.Re(this.s,g);break;case c.j.PARAMCOLLECTION:f=new c.c.r.je.Qe(this.s,g);break;case c.j.PARAMOBJECT:f=new c.c.r.me.Te(this.s,g)}f.ra(q,b)}else b(m)},gh:function(){var a;if(this.Ia===s){for(a=this.r.length-1;0<=a;--a)this.r[a]&&(this.r[a].ka===c.j.PARAM&&this.r[a].qa!==m)&&this.r[a].Hc(this,a);this.Ia=w}},ra:function(a,b){var e,g;this.be=a;this.Ia=w;if(a!==m){if(g=a[c.j.LEVELS])for(e=
0;e<g.length;e++)this.s.pe(g[e],m);this.wd=a[c.j.SHOW_LOADING_STATE]!==w;d.super_.ra.call(this,a);if(this.parent)this.parent.Ma=this.parent.Ma.concat(this.Ma);else{for(e=0;e<this.Ma.length;e++)g=this.Ma[e][c.j.OUTPUTID],g.tc(this.Ma[e][c.j.LINKS],this.s.ba);this.Ma.length=0}this.G===c.j.ROOT?this.Kd(b):b&&b(this)}},Ce:function(a){this.vc||(this.Dd(a),this.vc=s)},xd:function(a){if(this.vc){this.Ed(a);for(var b=0;b<this.rc.length;b++)this.rc[b].xd(a);this.yd=0;this.vc=w}}};return{p:function(k){c=k;
b=c.j.CONNECTOR_LOADED;a=c.j.CONNECTOR_UNLOADED;k.inheritance.inheritance.inherits(d,k.c.gd.Bd);d.prototype.ka=c.j.LEVEL},implementation:{Oe:d}}};T.b.z.ca.yg={};S("PENGO.client.shared.runEngine.blackboxes.logic.sensors.interpolator");
T.b.z.ca.yg.resolve=function(){function d(a){a.lf()}function c(a,b){a.wh(b.C);a.d[0].param&&a.d[0].param.valueType&&a.xh(a.d[0].param.valueType.id)}function b(b,c,d,n){function t(a){J&&(a=J(D,a));if(0<v.length)for(var b=0;b<v.length;b++)g=E[v[b]],y[v[b]]=g+(z[v[b]]-g)*a;else y=E+(z-E)*a;p[0].param&&(p[0].param.value=y)}var u=new l.c.b.u.v(b,c,d,n,"_Interpolator_key");u.B("time",0);u.B("InitialValue",1);u.B("FinalValue",2);u.B("withReverse",3);u.B("loop",4);u.D("result",0);var y=0,v=[];u.xh=function(a){if(a){var b=
l.c.r.K.types[a];if(b)if(b.U){if(y=l.c.r.K.Sb(a),v.length=0,!b.U.type)for(var c in y)v.push(c)}else v.length=0}};u.Gj=function(){return y};u.g("updated",0);u.g("finished",1);u.g("stopped",2);u.g("started",3);u.g("paused",4);var x=u.k,p=u.d,A,E,z,I,H,F,J,D,G=0,K=m,L=w,M=w,N=0;u.wh=function(a){N=a};u.Fj=function(){return N};u.lf=function(){b.ga(A);G=0;K=m;M=L=w};u.i("start",0,function(c){if(u.inParameters.InitialValue!==m&&u.inParameters.FinalValue!==m&&u.inParameters.time!==m&&u.outParameters.result!==
m){if(L)A(c);else{K=(I=u.inParameters.withReverse)?u.inParameters.time/2:u.inParameters.time;G=0;M=w;switch(N){case 0:D=J=m;break;case 1:J=k;D=u.inParameters.Gain;break;case 2:J=a,D=u.inParameters.Bias}D!==m&&(0.99999<D?D=0.99999:1E-5>D&&(D=1E-5));E=l.c.r.K.Vd(u.a[1].param.valueType.id,u.a[1].param.value);z=l.c.r.K.Vd(u.a[2].param.valueType.id,u.a[2].param.value);0<K?(H=u.inParameters.loop,t(0),b.O(A)):(K=m,H=w,I?t(0):t(1));x[3]&&x[3].n(c,u);x[0].n(c,u);K===m&&x[1].n(c,u)}L=w}});u.i("pause",1,function(a){K!==
m&&((L=!L)?b.ga(A):A(a),x[4]&&x[4].n(a,u))});u.i("stop",2,function(a){K!==m&&(K=m,M=L=w,b.ga(A),x[2]&&x[2].n(a,u))});A=function P(a){G=M?G-a.event.deltaTime:G+a.event.deltaTime;G<K&&0<G?(F=w,e=G/K):I?M?(G=e=0,M=w,F=s):(e=1,G=K,M=s,F=w):(e=1,G=0,F=s);t(e);F?(H?(M=w,b.O(P)):K=m,x[0].n(a,u),x[1].n(a,u)):(b.O(P),x[0].n(a,u))};return u}function a(a,b){return b/((1/a-2)*(1-b)+1)}function k(a,b){var c;c=(1/a-2)*(1-2*b);return 0.5>b?b/(c+1):(c-b)/(c-1)}var l,e,g;return{p:function(a){a.c.b.f.t("_Interpolator_key",
b);a.c.b.f.F("_Interpolator_key",d,c);a.c.b.f.$("_Interpolator_key","time",1E3);a.c.b.f.$("_Interpolator_key","loop",w);a.c.b.f.$("_Interpolator_key","withReverse",w);l=a},implementation:{Qi:b}}};T.b.object.m.Vh={};S("PENGO.client.shared.runEngine.blackboxes.object.actuators.traverseKeys");
T.b.object.m.Vh.resolve=function(){function d(b,a,d,l){var e=[],g=e,f=0,q="",r=new c.c.b.u.v(b,a,d,l,"_TraverseKeys_key");r.B("target",0);r.D("key",0);r.g("available",0);r.g("unavailable",1);r.g("empty",2);r.i("first",0,function(a){if(e=r.a[0].param&&Object.keys(r.a[0].param.value))0<e.length?(q=e[0],r.d[0].param&&(r.d[0].param.value=q),r.e(0,a)):(r.e(1,a),r.e(2,a));g=e});r.i("next",1,function(a){e=r.a[0].param&&Object.keys(r.a[0].param.value);if(e!==m)if(0<e.length){f=e.indexOf(q);if(-1===f){if(g)for(var b=
g.indexOf(q);b<g.length&&-1===f;b+=1)f=e.indexOf(g[b])}else f+=1;-1===f?r.e(1,a):f>=e.length?r.e(1,a):(q=e[f],r.d[0].param&&(r.d[0].param.value=q),r.e(0,a))}else r.e(1,a),r.e(2,a);g=e});r.i("prev",2,function(a){e=r.a[0].param&&Object.keys(r.a[0].param.value);if(e!==m)if(0<e.length){f=e.indexOf(q);if(-1===f){if(g)for(var b=g.indexOf(q);0<=b&&-1===f;b-=1)f=e.indexOf(g[b])}else f-=1;-1===f?r.e(1,a):0>f?r.e(1,a):(q=e[f],r.d[0].param&&(r.d[0].param.value=q),r.e(0,a))}else r.e(1,a),r.e(2,a);g=e});r.i("last",
3,function(a){if(e=r.a[0].param&&Object.keys(r.a[0].param.value))0<e.length?(q=e[e.length-1],r.d[0].param&&(q=r.d[0].param.value=q),r.e(0,a)):(r.e(1,a),r.e(2,a));g=e});return r}var c;return{p:function(b){b.c.b.f.t("_TraverseKeys_key",d);c=b},implementation:{qj:d}}};T.s={};S("PENGO.client.shared.runEngine.runner");window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(d){window.setTimeout(d,16)});
T.s.resolve=function(){var d;d=window.performance&&window.performance.now&&_.isFunction(window.performance.now)?window.performance:Date;var c,b,a,k=0,l=0,e=0,g=0,f=0,q={event:{id:0,deltaTime:0},stack:[]};Object.defineProperty(q.event,"time",{set:B(),get:function(){return l},enumerable:s,configurable:w});Object.defineProperty(q.event,"deltaTime",{set:B(),get:function(){return g},enumerable:s,configurable:w});var r={event:{id:0,time:0,frameLogic:0,logicFrameRate:0,deltaTime:0},stack:[]},n=function u(a,
b){this.Gb=this.Hb=0;this.Yc=u.prototype.Lc;u.prototype.Lc+=1;this.Ob=1024;this.Nb=576;this.Ad=this.cc=1;this.bc=this.Ob/this.Nb;this.fe=a;this.X=document.createElement("div");this.X.setAttribute("style","position: static; width: 100%; height: 100%; top: 0px; left: 0px;display:none;outline:none;");document.body.appendChild(this.X);this.ib=document.createElement("div");this.ib.setAttribute("style","position:relative;width:100%;height:100%;top:0px;left:0px;background-color:#111;display:none;");this.X.appendChild(this.ib);
this.visible=w;this.nc=s;this.Zc=this.zb=0;this.de=15;this.uc=1E3/15;this.he=4;this.Dj=60;this.Y={};this.nb=this.Ib=this.Mb=m;this.ua=[];this.ob=[];this.bb=[];this.za=[];this.gc=[];this.tb=[];this.rb=[];this.sb=[];this.Xa=[];this.$c=this.Cc=w;this.Bc=m;this.Ja=new c.c.Ja.Le;this.Wa=[];this.Fd=[];this.ba=new c.c.$d.Ne(this);this.fa=new c.c.fa.Pe;this.fd=m;this.gi=_.template(b.workingContainer)();this.Ng=_.template(b.loadingContainer)();this.qg=_.template(b.idleContainer)();this.Kb=B();this.Da=u.prototype.Q.LOADING;
this.Eb=this.Sa=w;this.Ua(this.Da)};n.prototype={Lc:0,Cd:30,Wf:function(a){if(a.G!==m)return a.G},show:function(){$(this.X).css({display:"block"});this.visible=s},pc:C("X"),af:function(a,b,c){this.Y[a]=new b(this,this.nb,this.Ja,this.ib,this.Ob,this.Nb,c);this.Y[a].getDrawCallback&&this.Ee(this.Y[a].getDrawCallback())},Wd:function(a){return this.Y[a]},sg:function(a,b,d,e){var f=this;this.Ob=b;this.Nb=d;this.bc=b/d;this.nb=this.Yc;this.X.id="Runner_"+this.Yc;this.ib.id="RunnerDevice_"+this.Yc;this.yh(40);
this.Ah(4);if(a){this.fd=a;this.Wa=a[c.j.ASSETS].slice(0);this.Fd=[];for(b=0;b<this.Wa.length;b++)this.Fd[b]=[];this.Ua(this.Q.LOADING);this.Mg(a[c.j.MANAGERS],function(){f.Vb(function(a){f.Dc(a,s);f.se(f.X.clientWidth,f.X.clientHeight);f.Ib=f.pe(c.j.ROOT,function(){f.Ua(f.Q.Pb);f.Sa?f.dd=function(){f.ve();e()}:(f.ve(),e())})})})}else h(new c.pengoError.pengoError.PengoError("IDE Runner error loading a project without initialization JSON template.",c.pengoError.codes.codes.INVALID_DATA))},vf:function(a,
b){return new c.c.ta.Oe(this,b,a)},lg:function(a,b){if(a!==c.j.ROOT)return this.ba.Ea[b[c.j.PARENTID]]},pe:function(a,b){var d,e,f;this.fd?(f=this.fd[c.j.LEVELS][a])?(a!==c.j.ROOT&&(e=this.lg(a,f)),e||a===c.j.ROOT?(d=this.vf(a,e,f),d.ra(f,b)):h(new c.pengoError.pengoError.PengoError("Parent level doesn\u00b4t exist.",c.pengoError.codes.codes.INVALID_DATA))):h(new c.pengoError.pengoError.PengoError("Level data doesn\u00b4t exist, or the ID doesn\u00b4t belong to one Level.",c.pengoError.codes.codes.INVALID_DATA)):
h(new c.pengoError.pengoError.PengoError("Project data doesn\u00b4t exist.",c.pengoError.codes.codes.INVALID_DATA));return d},vg:function(){g=0;l=d.now();this.Gb=16;this.Hb=l;q.event.id=this.nb;return q},Zd:function(){var a=d.now();g=a-this.Hb;g=0<=g?100<g?100:Math.ceil(g):this.Gb;l+=g;this.Gb=g;this.Hb=a;q.event.id=this.nb;return q},gg:function(){g=16;l+=g;this.Gb=g;this.Hb=d.now();q.event.id=this.nb;return q},fg:function(){g=0;l+=g;this.Gb=g;this.Hb=d.now();q.event.id=this.nb;return q},ve:function(){function a(){if(!c.nc)try{c.Kb()}catch(b){h(Error(b.message))}c.Cc&&
window.requestAnimationFrame(a,m)}function b(){e=d.now();g=(e-c.zb)/c.uc;0>g&&(g=0);r.event.id=c.nb;r.event.time=e;r.event.frameLogic=c.Zc;r.event.logicFrameRate=c.de;r.event.deltaTime=g;c.nc&&(c.Od(r),c.zb=e,c.Zc++,c.nc=w,e=d.now(),r.event.time=e);for(f=0;c.nc||e-c.zb>=c.uc;)if(c.zb+=c.uc,c.Od(r),c.Zc++,f++,f==c.he){c.zb=e;break}c.Cc&&c.dc?window.setTimeout(b,0):c.Bc=b}var c=this;this.Cc=s;window.requestAnimationFrame(a,m);window.setTimeout(b,0)},Q:{IDLE:0,fb:1,LOADING:2,Pb:3,eb:4},Ua:function(a){function b(){d.Nd(d.Zd())}
function c(){d.Eb?(d.Eb=w,d.Nd(d.gg())):d.Of(d.fg())}var d=this;a!==n.prototype.Q.eb&&(this.Da===n.prototype.Q.Pb&&this.Sa&&a===n.prototype.Q.fb||this.Da===n.prototype.Q.LOADING&&this.Sa&&a===n.prototype.Q.fb?(a=n.prototype.Q.eb,this.Sa=w):this.Da===n.prototype.Q.eb&&a===n.prototype.Q.LOADING?this.Sa=s:$(this.X).contents().remove());switch(a){case n.prototype.Q.IDLE:$(this.X).append(this.qg);this.Kb=B();break;case n.prototype.Q.Pb:$(this.X).append(this.gi);this.Kb=B();break;case n.prototype.Q.fb:this.X.appendChild(this.ib);
this.Kb=b;break;case n.prototype.Q.eb:this.X.appendChild(this.ib);this.Eb=this.Sa=w;this.Kb=c;break;case n.prototype.Q.LOADING:$(this.X).append(this.Ng),this.Kb=B()}this.Da=a},Ae:function(a){this.Eb=w;a?this.Da===n.prototype.Q.fb?this.Ua(this.Q.eb):this.Da===n.prototype.Q.LOADING&&(this.Sa=s):(this.Sa=w,this.Da===n.prototype.Q.eb?(this.Gb=g=16,this.Hb=d.now()-16,this.Ua(this.Q.fb)):this.Da===n.prototype.Q.Pb&&this.dd&&(this.dd(),delete this.dd))},qc:function(){return this.Da===n.prototype.Q.eb},Dc:function(a,
b){var d=this;this.Vb(function(e){if(b||e!==a){c.storage.local.getInstance().setItem("HDEnabled",a?"1":"0");for(var f in d.Y)(manager=d.Y[f])&&manager.setHDGraphicsMode&&manager.setHDGraphicsMode(a)}})},Vb:function(a){c.storage.local.getInstance().getItem("HDEnabled",function(b,c){"0"===c?a(w):a(s)})},stop:function(){this.ua.length=0;this.ob.length=0;this.bb.length=0;this.za.length=0;this.gc.length=0;this.tb.length=0;this.sb.length=0;this.Xa.length=0;this.dc=w;this.Fe=0;this.Eb=this.Sa=w;this.Ib&&
(this.Mb&&this.Mb.jh(),this.Wg(),this.Ua(this.Q.Pb),this.Ib.xd(this.Zd()),this.$c=w)},start:function(){function a(){b.Ua(b.Q.fb);b.Ib.Ce(c)}var b,c;this.Ib&&(b=this,this.$c=s,this.Eb=w,c=this.vg(),this.Mb&&this.Mb.tg(c),this.Xg(c,a))},ci:function(){this.Fe=l},Uf:function(){return l},Xg:function(a,b){function c(){d-=1;0===d&&b()}var d=1,e;for(e in this.Y)this.Y[e].beforePlayNotify&&(d+=1,this.Y[e].beforePlayNotify(a,c));c()},Wg:function(){for(var a in this.Y)this.Y[a].afterStopNotify&&this.Y[a].afterStopNotify()},
Bg:C("$c"),O:function(a){b=this.za.indexOf(a);-1==b&&this.za.push(a)},ga:function(a){b=this.za.indexOf(a);-1!=b&&this.za.splice(b,1);b=this.ua.indexOf(a);-1!=b&&this.ua.splice(b,1)},hf:function(a){b=this.gc.indexOf(a);-1==b&&this.gc.push(a)},ac:function(a){b=this.tb.indexOf(a);-1==b&&this.tb.push(a)},Ic:function(a){b=this.tb.indexOf(a);-1!=b&&this.tb.splice(b,1);b=this.ua.indexOf(a);-1!=b&&this.ua.splice(b,1)},Oh:function(a){b=this.ob.indexOf(a);-1==b&&this.ob.push(a)},Yh:function(a){b=this.ob.indexOf(a);
-1!=b&&this.ob.splice(b,1);b=this.ua.indexOf(a);-1!=b&&this.ua.splice(b,1)},da:function(a){b=this.bb.indexOf(a);-1==b&&this.bb.push(a)},ha:function(a){b=this.bb.indexOf(a);-1!=b&&this.bb.splice(b,1);b=this.ua.indexOf(a);-1!=b&&this.ua.splice(b,1)},Ee:function(a){b=this.rb.indexOf(a);-1==b&&this.rb.push(a)},Wh:function(a){b=this.rb.indexOf(a);-1!=b&&this.rb.splice(b,1)},Hd:function(a){b=this.sb.indexOf(a);-1==b&&this.sb.push(a)},df:function(a){b=this.sb.indexOf(a);-1!=b&&this.sb.splice(b,1)},Nd:function(b){var c;
if(this.ob.length)for(a=this.ua=this.ob.slice();a.length;)(c=a.shift())&&c(b);if(this.bb.length){a=this.ua=this.bb;for(this.bb=[];a.length;)(c=a.shift())&&c(b)}if(this.za.length){a=this.ua=this.za;for(this.za=[];a.length;)(c=a.shift())&&c(b)}for(a=this.ua=this.tb.slice();a.length;)(c=a.shift())&&c(b);for(a=this.gc;0<a.length;)(c=a.shift())&&c(b);a=this.rb;for(k=0;k<a.length;k+=1)if(a[k])a[k](b);for(a=this.sb;0<a.length;)(c=a.shift())&&c(b)},Of:function(b){a=this.rb;for(k=0;k<a.length;k+=1)a[k](b)},
Nh:function(a){b=this.Xa.indexOf(a);-1==b&&this.Xa.push(a);this.dc=0!=this.Xa.length;this.Bc&&(this.Cc&&this.dc)&&(window.setTimeout(this.Bc,0),this.Bc=m)},Xh:function(a){b=this.Xa.indexOf(a);-1!=b&&this.Xa.splice(b,1);this.dc=0!=this.Xa.length},Od:function(b){a=this.Xa.slice();for(k=0;k<a.length;k+=1)a[k](b),b.stack.length=0},Mg:function(a,b){function d(){f--;0==f&&b&&b()}var e,f=1;if(this.fe){if(a)for(e in a)f++,this.Lg(e,a[e],d);else h(new c.pengoError.pengoError.PengoError("Error: not provided any Runner\u00b4s Manager to load.",
c.pengoError.codes.codes.INVALID_CONFIG));d()}else h(new c.pengoError.pengoError.PengoError("Error: not provided Runner\u00b4s Managers Descriptor.",c.pengoError.codes.codes.INVALID_CONFIG))},Lg:function(a,b,d){function e(a,b,d){var f={runEngine:{}};if(b.c[d])f.runEngine=b.c[d];else{b.c[d]=f.runEngine;f.runEngine.getManager=function(){return q.Wd(d)};for(var g in b.c.Ub)f.runEngine[g]=b.c.Ub[g]}"RankingManager"===d&&(Object.defineProperty(f,"gameRankingService",{get:function(){return c.Sd},enumerable:s,
configurable:w}),Object.defineProperty(f,"GAME_PROPERTIES",{get:function(){return c.GAME_PROPERTIES},enumerable:s,configurable:w}));"VirtualGoods"===d&&(Object.defineProperty(f,"virtualGoodsService",{get:function(){return c.Jc},enumerable:s,configurable:w}),Object.defineProperty(f,"GAME_PROPERTIES",{get:function(){return c.GAME_PROPERTIES},enumerable:s,configurable:w}));"matchDataStorage"===d&&Object.defineProperty(f,"matchDataStorageService",{get:function(){return c.ge},enumerable:s,configurable:w});
Object.defineProperty(f,"logger",{get:function(){return c.Pa},enumerable:s,configurable:w});Object.defineProperty(f,"resourceManager",{get:function(){return c.te},enumerable:s,configurable:w});for(g in a)switch(a[g]){case "gameRanking":break;case "virtualGoods":break;case "matchDataStorageService":break;case "logger":break;case "fatal":Object.defineProperty(f,"fatal",{get:function(){return c.Jf},enumerable:s,configurable:w});break;case "resourceManager":break;case "eventsManager":Object.defineProperty(f,
"eventsManager",{get:function(){return c.Ka},enumerable:s,configurable:w});break;case "runEngine":break;case "runnerKeys":Object.defineProperty(f,"runnerKeys",{get:function(){return c.j},enumerable:s,configurable:w});break;case "saveDatum":f.saveDatum=function(a,c,e){q.Rj&&b.Lj(d,a,c,e)};break;default:f[a[g]]=b[a[g]]}return f}function f(a,b,c){var d,e;for(e in a)if(a[e].resolve&&a[e].resolve instanceof Function){d=a[e].resolve();if(d.implementation)if(b[e])for(var g in d.implementation)b[e][g]&&(b[e].base||
(b[e].base={}),b[e].base[g]=b[e][g]),b[e][g]=d.implementation[g];else b[e]=d.implementation;d.dependencies&&c.push(d.dependencies)}else b[e]||(b[e]={}),f(a[e],b[e],c)}function g(a,b,d){var k=[];a=e(b,c,a);f(c.require.require.requireByName(d),a.runEngine,k);for(d=0;d<k.length;d++)k[d](a)}function k(a){q.Ja&&(a&&h(new c.pengoError.pengoError.PengoError("on load "+a+". Manager "+r.id+" can't be loaded.",c.pengoError.codes.codes.INVALID_CONFIG)),r.Xb--,0==r.Xb&&l(r))}function l(a){if(a.id){if(!c.c[a.id]){var b=
a.Qa.exports;if(Array.isArray(b)){for(var e=0;e<b.length;e++)g(a.id,a.Qa.imports,b[e]);for(e=0;e<b.length;e++)c.require.remove.deleteByName(b[e])}else g(a.id,a.Qa.imports,b),c.require.remove.deleteByName(b)}q.Y[a.id]||q.af(a.id,c.c[a.id].manager.Manager,a.Lh)}else h(new c.pengoError.pengoError.PengoError("Error: Wrong Manager map, map without ID.",c.pengoError.codes.codes.INVALID_CONFIG));d&&d()}var q=this,r={id:a,Xb:0,Qa:this.fe[a],Lh:b};if(c.c[a])c.c[a].getManager=function(){return q.Wd(a)},l(r);
else{r.Qa.libs&&0<r.Qa.libs.length&&(r.Xb=1,c.require.require.requireSerieJS(r.Qa.libs,n.prototype.Cd,k));var F=r.Qa.baseUrl;b=c.Ue?r.Qa.notCompiled:r.Qa.compiled;b=b.map(function(a){return F+a});r.Xb+=1;c.require.require.requireSerieJS(b,n.prototype.Cd,k)}},yh:function(a){this.de=a;this.uc=1E3/a},Ah:function(a){this.he=a},se:function(a,b){var c;this.X.style.width=a.toString()+"px";this.X.style.height=b.toString()+"px";this.Mb&&this.Mb.oe();var d,e=a,f=b;0<a&&0<b&&(this.bc<a/b?e=f*this.bc:f=e/this.bc);
c=Math.round(0.5*(a-e));d=Math.round(0.5*(b-f));e=a-2*c;f=b-2*d;this.ib.setAttribute("style","position:absolute;width:"+e.toString()+"px;height:"+f.toString()+"px;left:"+c.toString()+"px;top:"+d.toString()+"px;");for(var g in this.Y)(c=this.Y[g])&&c.resizeRenderer&&c.resizeRenderer(e,f)},Fh:function(a,b){this.cc=a;this.Ad=b}};n.prototype.getID=n.prototype.Wf;n.prototype.getContainer=n.prototype.pc;n.prototype.subscribeOnUpdateAnimation=n.prototype.Oh;n.prototype.unsubscribeOnUpdateAnimation=n.prototype.Yh;
n.prototype.callOnNextUpdateDraw=n.prototype.O;n.prototype.avoidCallOnNextUpdateDraw=n.prototype.ga;n.prototype.callOnThisUpdateDraw=n.prototype.hf;n.prototype.subscribeOnUpdateDraw=n.prototype.ac;n.prototype.unsubscribeOnUpdateDraw=n.prototype.Ic;n.prototype.subscribeOnDrawRun=n.prototype.Ee;n.prototype.unsubscribeOnDrawRun=n.prototype.Wh;n.prototype.callOnPosDraw=n.prototype.Hd;n.prototype.avoidOnCallPosDraw=n.prototype.df;n.prototype.subscribeOnLogic=n.prototype.Nh;n.prototype.unsubscribeOnLogic=
n.prototype.Xh;n.prototype.isOnPlay=n.prototype.Bg;n.prototype.setPauseState=n.prototype.Ae;n.prototype.setViewScaleFactor=n.prototype.Fh;return{p:function(a){c=a},implementation:{Ve:n}}};S("PENGO.client.shared.runEngine",T,m);var X;S("PENGO.client.plugins.game.runnerManager.runnerManager");
X=function(d){function c(a,c,d,g,k,l,y,v){function x(a,b,c){var d;for(p in a)a[p].resolve&&a[p].resolve instanceof Function?(d=a[p].resolve(),d.implementation&&(b[p]=d.implementation),d.p&&(c[p]=d.p)):(b[p]={},x(a[p],b[p],c))}this.pd(a);this.kd(c);this.ld(d);this.md(g);this.zh(k);this.vd(m);this.ud(m);this.qd(m);this.rd(m);e.Ue=v;b=l;this.th(y);if(!e.c){var p;a=[];e.c={Ub:{}};x(e.require.require.requireByName("PENGO.client.shared.runEngine"),e.c,a);a.f&&(a.f(e),delete a.f);a.K&&(a.K(e),delete a.K);
for(p in a)a[p](e),delete a[p];e.require.remove.deleteByName("PENGO.client.shared.runEngine")}}var b,a=[],k,l={"RUNNERMANAGER/GAME/ONPLAY":"runnermanager/game/onplay",CODERUNNER_ERROR:"coderunner/error",CODERUNNER_OK:"coderunner/ok"},e={j:{ROOT:0,MANAGERS:1,OBJECTS:2,CLASS:3,TYPE:4,ENTITY:5,BEHAVIOR:6,BLACKBOX:7,PARAM:8,PARAMCOMPONENT:9,CONNECTOR:10,INPUT:11,OUTPUT:12,LINK:13,PARAMCONNECTOR:14,NAME:15,ASSETS:16,PARENTID:17,OWNERID:18,INNOTOUT:19,INPUTID:20,OUTPUTID:21,VALUE:22,VALUETYPE:23,ASSETINDEX:24,
ASSETACCESOR:25,PARAMID:26,INDEX:27,METHODNAME:28,POSSIBLETYPES:29,REMOVABLE:30,SECURE:31,INPUTS:32,OUTPUTS:33,INPARAMS:34,OUTPARAMS:35,EX:36,READONLY:37,ID:38,CANBERENAMED:39,OBSOLETE:40,ENTITIES:41,BEHAVIORS:42,LEVELS:43,CONNECTORS:44,EXPOSEDPARAMS:45,BLACKBOXES:46,LINKS:47,METHODOWNERID:48,PARAMCOMPONENTS:49,PARAMCOLLECTION:50,VALUES:51,DEFAULT:52,CONNECTCOLLECTION:53,USERS:54,LEVEL:55,ALIAS:56,KEY:57,SHAREDPARAMS:58,ROOT_MAIN:59,ROOT_START:60,LEVEL_LOADED:61,PARAMS:62,CONNECTOR_ONLOADED:"\u00bf_?",
CONNECTOR_LOAD:"-??",CONNECTOR_UNLOAD:"_\u00bf\u00bf",CONNECTOR_LOADED:"??-",CONNECTOR_UNLOADED:"\u00bf\u00bf_",SCRIPT:63,SCRIPTS:64,SHOW_LOADING_STATE:65,PARAMOBJECT:66,ASSETID:67,DATA:68,SETUP:69,SCOPE:70,bool:71,string:72,number:74,_Vector2_:75,_Object_:76,COLLECTION:77,local:78,server:79,local_server:80,DESCRIPTOR:81}},g;for(g in d)e[g]=d[g];e.GAME_PROPERTIES={};e.Jc={orders:m,execution:m};e.ge=m;e.Sd=m;c.prototype={th:function(a){a&&(e.kc=a)},vd:function(a){e.Jc.orders=a},ud:function(a){e.Jc.execution=
a},Be:function(a){e.Jc.cart=a},qd:function(b){if(e.ge=b)for(b=0;b<a.length;b+=1)a[b]&&a[b].Y.matchDataStorage&&a[b].Y.matchDataStorage.provideDescriptor()},rd:function(a){e.Sd=a},pd:function(a){e.Pa=a},ld:function(a){e.Jf=a},kd:function(a){function b(){}if(e.Ka!==a){if(e.Ka){e.Ka.off("GAME_LOADED",b);try{e.Ka.removeEvents(l)}catch(c){e.Pa.warn("Error "+c+" while removing events when changing events manager")}}e.Ka=a;e.Ka&&(a.on("GAME_LOADED",b),a.registerEvents(l))}},md:function(a){e.te=a;e.Ej=a},
xe:function(a){e.Qb=a},zh:function(a){k=a},Kg:function(c,d){var g,l;d.resolution?(g=d.resolution.w||e.kc.defaultGameWidth,l=d.resolution.h||e.kc.defaultGameHeight):(g=e.kc.defaultGameWidth,l=e.kc.defaultGameHeight);e.GAME_PROPERTIES=d;var t=a.push(new e.c.s.Ve(k,b))-1;a[t].sg(c,g,l,function(){a[t]&&a[t].Y.matchDataStorage&&a[t].Y.matchDataStorage.provideDescriptor();a[t].start(t);e.Ka&&e.Ka.emit("RUNNERMANAGER/GAME/ONPLAY",{gameIndex:t})});return t},Dh:function(b,c){a[b]&&a[b].Ae(c)},Df:function(b){a[b]&&
(a[b].stop(),a[b]=m)},Dc:function(b,c){a[b]&&a[b].Dc(c)},Vb:function(b,c){a[b]?a[b].Vb(c):c(s)},pg:function(b){if(a[b])return a[b].show(),a[b].pc()},pc:B(),lh:function(b,c,d){a[b]&&a[b].se(c,d)}};return c};S("PENGO.client.plugins.game.runnerManager.activator");
(function(){function d(){function a(d,f){d&&h(new H("Error: getting root level data.",F.NOT_FOUND));R=c(f,e.getGameProperty("id"),e.getGameProperty("version"),e.getGameProperty("resolution"));U=f[P].VirtualGoods!==m;V=f[P].matchDataStorage!==m;W=f[P].RankingManager!==m;b(m)}p.off("SERVICE_REGISTERED",d);if(G=p.getService("igloo.logger")[0])if(K=p.getService("igloo.eventsManager")[0])if(L=p.getService("igloo.fatal")[0])if(M=p.getService("game.loader")[0]){var e=p.getService("game.gameManager")[0];
if(e)q(E.config.managersMapPath,function(b){D||(D=new I(G,K,L,M,b,E.templates,E.config,A),z={functions:{setPauseGameState:D.Dh,endGame:D.Df,setHDGraphicsMode:D.Dc,getHDGraphicsMode:D.Vb},properties:{}},M.getGame(a))});else p.on("SERVICE_REGISTERED",d)}else p.on("SERVICE_REGISTERED",d);else p.on("SERVICE_REGISTERED",d);else p.on("SERVICE_REGISTERED",d);else p.on("SERVICE_REGISTERED",d)}function c(a,b,c,d){return function(){var e=D.Kg(a,{id:b,version:c,resolution:d}),f=D.pg(e);N.addView(f);window.addEventListener("resize",
function(){D.lh(e,f.parentNode.clientWidth,f.parentNode.clientHeight)},w)}}function b(c){if(c===m||"game.uiManager"===c||"game.accountManager"===c||c===y||c===v||c===x||"matchDataStorage"===c||"game.gameRankings"===c)if(c&&p.off("SERVICE_REGISTERED",b),N=p.getService("game.uiManager")[0]){if(E.config.needVG&&U){if(!p.getService(y)[0]){p.on("SERVICE_REGISTERED",b);return}if(!p.getService(v)[0]){p.on("SERVICE_REGISTERED",b);return}a();k();l()}if(E.config.needDS&&V){if(!p.getService("matchDataStorage")[0]){p.on("SERVICE_REGISTERED",
b);return}e()}if(E.config.needRanking&&W){if(!p.getService("game.gameRankings")[0]){p.on("SERVICE_REGISTERED",b);return}g()}if(E.config.needAM){if(!p.getService("game.accountManager")[0]){p.on("SERVICE_REGISTERED",b);return}f()}p.register(u,z);p.on("SERVICE_UNREGISTERED",r);p.on("SERVICE_UPDATED",n);R()}else p.on("SERVICE_REGISTERED",b)}function a(){p.off("SERVICE_REGISTERED",a);var b=p.getService(y)[0];b?D.vd(b):(D.vd(m),p.on("SERVICE_REGISTERED",a))}function k(){p.off("SERVICE_REGISTERED",k);var a=
p.getService(v)[0];a?D.ud(a):(D.ud(m),p.on("SERVICE_REGISTERED",k))}function l(){p.off("SERVICE_REGISTERED",l);var a=p.getService(x)[0];a?D.Be(a):(D.Be(m),p.on("SERVICE_REGISTERED",l))}function e(){var a;p.off("SERVICE_REGISTERED",e);(a=p.getService("matchDataStorage")[0])?D.qd(a):(D.qd(m),p.on("SERVICE_REGISTERED",e))}function g(){var a;p.off("SERVICE_REGISTERED",g);(a=p.getService("game.gameRankings")[0])?D.rd(a):(D.rd(m),p.on("SERVICE_REGISTERED",g))}function f(){var a;p.off("SERVICE_REGISTERED",
f);(a=p.getService("game.accountManager")[0])?D.xe(a):(D.xe(m),p.on("SERVICE_REGISTERED",f))}function q(a,b){J(a,function(a,c){a&&h(new H("Error '"+a+"' while loading Runner\u00b4s Managers Map.",F.NOT_FOUND));try{b(JSON.parse(c))}catch(d){h(new H("Error '"+d+"' parsing Runner\u00b4s Managers Map.",F.INVALID_DATA))}})}function r(b){switch(b){case "igloo.logger":b=p.getService("igloo.logger");for(var c=0;c<b.length;c++)if(b[c]===G)return;if(b[0]){D.pd(p.getService("igloo.logger")[0]);break}else t();
break;case "igloo.eventsManager":if(b=p.getService("igloo.eventsManager")[0]){D.kd(b);break}else t();break;case "igloo.fatal":if(b=p.getService("igloo.fatal")[0]){D.ld(b);break}else t();break;case "game.uiManager":if(b=p.getService("game.uiManager")[0]){N=b;break}else t();break;case "game.loader":if(b=p.getService("game.loader")[0]){D.md(b);break}else t();break;case y:a();break;case v:k();break;case x:l();break;case "matchDataStorage":e();break;case "game.gameRankings":g();break;case "game.accountManager":f()}}
function n(b){var c;switch(b){case "igloo.logger":c=p.getService("igloo.logger");for(b=0;b<c.length;b++)c[b]===G&&D.pd(G);break;case "igloo.eventsManager":D.kd(p.getService("igloo.eventsManager")[0]);break;case "igloo.fatal":D.ld(p.getService("igloo.fatal")[0]);break;case "game.uiManager":N=p.getService("game.uiManager")[0];break;case "game.loader":D.md(p.getService("game.loader")[0]);break;case y:a();break;case v:k();break;case x:l();break;case "matchDataStorage":e();break;case "game.gameRankings":g();
break;case "game.accountManager":f()}}function t(){p.off("SERVICE_REGISTERED",d);p.off("SERVICE_UNREGISTERED",r);p.off("SERVICE_UPDATED",n);p.off("SERVICE_REGISTERED",a);p.off("SERVICE_REGISTERED",k);p.off("SERVICE_REGISTERED",l);p.off("SERVICE_REGISTERED",e);p.off("SERVICE_REGISTERED",g);p.off("SERVICE_REGISTERED",f);z&&p.unregister(u,z);p.on("SERVICE_REGISTERED",d)}var u="game.runnerManager",y="virtualGoods.orders",v="virtualGoods.execution",x="virtualGoods.cart",p,A,E,z,I=m,H=m,F=m,J=m,D=m,G=m,
K=m,L=m,M=m,N=m,R=m,P=1,U=w,V=w,W=w;window.PENGO.client.plugins.game.runnerManager.activator.activator=function(a){J=a.require.require.requireJSON;H=a.pengoError.pengoError.PengoError;F=a.pengoError.codes.codes;return{start:function(b,c,e){p=b;E=c;A=e;I||(X||h(new a.pengoError.pengoError.PengoError("RunnerManager namespace can't be resolved.",a.pengoError.codes.NOT_FOUND)),I=X(a),a.require.remove.deleteByName("PENGO.client.plugins.game.runnerManager.runnerManager"));d()},stop:function(){D&&D.stop();
p.off("SERVICE_UNREGISTERED",r);p.off("SERVICE_UPDATED",n);z&&p.unregister(u,z)}}}})();})();
