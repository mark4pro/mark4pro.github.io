/** Copyright (c) 2016 WIMI5. All rights reserved. */ (function(){var f=void 0,k=!0,l=!1,ca=this;function v(e){e=e.split(".");var p=ca;!(e[0]in p)&&p.execScript&&p.execScript("var "+e[0]);for(var d;e.length&&(d=e.shift());)p=p[d]?p[d]:p[d]={}};v("PENGO.client.shared.runEngine.two.actuators.text");
window.PENGO.client.shared.runEngine.two.actuators.text.resolve=function(){function e(d,b){d.font=b.F;d.fontSize=b.FS;d.RComponent=b.R;d.GComponent=b.G;d.BComponent=b.B;d.borderWidth=b.BW;d.BRComponent=b.BR;d.BGComponent=b.BG;d.BBComponent=b.BB}function p(g,b,m,a){var c=new d.runEngine.Blackbox(g,b,m,a,"TextCreatorTwo");c.createInParam("text",0);c.createInParam("parent",1);c.createInParam("position",2);c.font=f;c.fontSize=f;c.RComponent=f;c.GComponent=f;c.BComponent=f;c.borderWidth=f;c.BRComponent=
f;c.BGComponent=f;c.BBComponent=f;c.createOutParam("text",0);c.createInput("do",0,function(a){if(c.inParameters.parent&&c.inParameters.text!==f){var b=new window.TWO.core.renderables.Text;c.inParameters.position!==f&&(b._x=c.inParameters.position.x,b._y=c.inParameters.position.y);c.font!==f&&(b._font=c.font);c.fontSize!==f&&(b.fontSize=c.fontSize);c.RComponent!==f&&(b._colorR=c.RComponent);c.GComponent!==f&&(b._colorG=c.GComponent);c.BComponent!==f&&(b._colorB=c.BComponent);c.borderWidth!==f&&(b._borderWidth=
c.borderWidth);c.BRComponent!==f&&(b._bColorR=c.BRComponent);c.BGComponent!==f&&(b._bColorG=c.BGComponent);c.BBComponent!==f&&(b._bColorB=c.BBComponent);b._text=""+c.inParameters.text;c.outParameters.text=b;c.inParameters.parent.appendChild(b);c.fireOutput(0,a)}});c.createOutput("done",0);return c}var d;return{dependencies:function(g){d=g;d.runEngine.blackboxRepository.addBlackboxType("TextCreatorTwo",p);g.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("TextCreatorTwo",f,e)},implementation:{sa:p}}};v("PENGO.client.ide.runEngine.two.actuators.text");
window.PENGO.client.ide.runEngine.two.actuators.text.resolve=function(){function e(b,d){d.F?b.setProperty("font",d.F):b.setProperty("font","arial");d.FS!==f&&b.setProperty("font size",d.FS);d.R!==f&&b.setProperty("R",d.R);d.G!==f&&b.setProperty("G",d.G);d.B!==f&&b.setProperty("B",d.B);d.BW!==f&&b.setProperty("border width",d.BW);d.BR!==f&&b.setProperty("border R",d.BR);d.BG!==f&&b.setProperty("border G",d.BG);d.BB!==f&&b.setProperty("border B",d.BB)}function p(b){return{F:b.getProperty("font"),FS:b.getProperty("font size"),
R:b.getProperty("R"),G:b.getProperty("G"),B:b.getProperty("B"),BW:b.getProperty("border width"),BR:b.getProperty("border R"),BG:b.getProperty("border G"),BB:b.getProperty("border B")}}function d(b,d,a,c){b=g.runEngine.actuators.text.base.sa(b,d,a,c);b.addSelectionProperty("font","arial;comic sans ms;courier;courier new;georgia;helvetica;impact;palatino;times new roman;trebuchet ms;verdana".split(";"),function(a,c){c.font=a},f,"arial");b.addNumberProperty("font size",function(a,c){4>a&&(a=4);c.fontSize=
a},f,20);b.addNumberProperty("R",function(a,c){255<a?a=255:0>a&&(a=0);c.RComponent=a},f,255);b.addNumberProperty("G",function(a,c){255<a?a=255:0>a&&(a=0);c.GComponent=a},f,255);b.addNumberProperty("B",function(a,c){255<a?a=255:0>a&&(a=0);c.BComponent=a},f,255);b.addNumberProperty("border width",function(a,c){0>a&&(a=0);c.borderWidth=a},f,0);b.addNumberProperty("border R",function(a,c){255<a?a=255:0>a&&(a=0);c.BRComponent=a},f,255);b.addNumberProperty("border G",function(a,c){255<a?a=255:0>a&&(a=0);
c.BGComponent=a},f,255);b.addNumberProperty("border B",function(a,c){255<a?a=255:0>a&&(a=0);c.BBComponent=a},f,255);return b}var g;return{dependencies:function(b){b.runEngine.blackboxRepository.updateBlackboxTypeToIDE("TextCreatorTwo",d,"CreateText","2D/sync");b.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("TextCreatorTwo",f,e,p);b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("TextCreatorTwo","text",l,"string","The text to be created");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("TextCreatorTwo",
"parent",l,["Object2DTwo","LayerTwo"],"The Parent where add as child the new text object");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("TextCreatorTwo","position",l,"_Vector2_","The position in the screen where create the text, the default position is (0,0)");b.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("TextCreatorTwo","text",l,"TextTwo","The created text");g=b},implementation:{sa:d}}};v("PENGO.client.shared.runEngine.two.actuators.setActiveScene");
window.PENGO.client.shared.runEngine.two.actuators.setActiveScene.resolve=function(){function e(d,g,b,m){var a=new p.runEngine.Blackbox(d,g,b,m,"SActScnTwo");a.createInParam("SceneToSet",0);var c=p.runEngine.getManager();a.createOutput("set",0);a.createInput("set",0,function(b){a.inParameters.SceneToSet&&(c.V(a.inParameters.SceneToSet,f,f,b,c),a.fireOutput(0,b))});return a}var p;return{dependencies:function(d){d.runEngine.blackboxRepository.addBlackboxType("SActScnTwo",e);p=d},implementation:{za:e}}};v("PENGO.client.ide.runEngine.two.actuators.setActiveScene");window.PENGO.client.ide.runEngine.two.actuators.setActiveScene.resolve=function(){return{dependencies:function(e){e.runEngine.blackboxRepository.updateBlackboxTypeToIDE("SActScnTwo",f,"ActivateScene","2D/sync");e.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SActScnTwo","SceneToSet",l,"SceneTwo","The scene to use in the draw engine")}}};v("PENGO.client.shared.runEngine.two.actuators.cloneObject2D");
window.PENGO.client.shared.runEngine.two.actuators.cloneObject2D.resolve=function(){function e(d,g,b,m){var a=new p.runEngine.Blackbox(d,g,b,m,"CloneTWO"),c=p.runEngine.getManager();a.createInParam("target",0);a.createInParam("parent",1);a.createOutParam("clone",0);a.createInput("do",0,function(b){a.inParameters.target&&a.inParameters.parent&&(c.n(a.inParameters.target,a.inParameters,a.outParameters,b,c),a.fireOutput(0,b))});a.createOutput("done",0);return a}var p;return{dependencies:function(d){p=
d;p.runEngine.blackboxRepository.addBlackboxType("CloneTWO",e)},implementation:{Ua:e}}};v("PENGO.client.ide.runEngine.two.actuators.cloneObject2D");
(function(){function e(e,d,g,b,m){g&&(d=e.getConnectedParamType(0,k),g=e.getConnectedParamType(0,l),b?0===m&&(d?(d!==e.getParamConnectorOwnValidTypes(0,k)&&e.setParamConnectorValidTypes(0,k,d),g||e.setParamConnectorValidTypes(0,l,d)):g||(e.setParamConnectorValidTypes(0,k,"Object2DTwo"),e.setParamConnectorValidTypes(0,l,"Object2DTwo"))):g?(g!==e.getParamConnectorOwnValidTypes(0,l)&&e.setParamConnectorValidTypes(0,l,g),d||e.setParamConnectorValidTypes(0,k,g)):d||(e.setParamConnectorValidTypes(0,k,"Object2DTwo"),
e.setParamConnectorValidTypes(0,l,"Object2DTwo")))}window.PENGO.client.ide.runEngine.two.actuators.cloneObject2D.resolve=function(){return{dependencies:function(p){p.runEngine.blackboxRepository.updateBlackboxTypeToIDE("CloneTWO",f,"CloneObject2D","2D/sync");p.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("CloneTWO","target",l,"Object2DTwo","The Object to be cloned");p.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("CloneTWO","parent",l,["Object2DTwo",
"LayerTwo"],"The Parent where add as child the cloned object");p.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("CloneTWO","clone",l,"Object2DTwo","The cloned object");p.runEngine.blackboxRepository.setOnPortChangedCallbackToBlackboxType("CloneTWO",e)}}}})();v("PENGO.client.shared.runEngine.two.actuators.visibility");
window.PENGO.client.shared.runEngine.two.actuators.visibility.resolve=function(){function e(d,g,b,m){var a=new p.runEngine.Blackbox(d,g,b,m,"VisibilityTWO");a.createInParam("target",0);a.createInParam("alpha",1);a.createOutput("shown",0);a.createOutput("hidden",1);a.createInput("show",0,function(c){a.inParameters.target&&(a.inParameters.alpha!==f?(a.inParameters.target.alpha=a.inParameters.alpha,0<a.inParameters.alpha?(a.inParameters.target.visible=k,a.fireOutput(0,c)):(a.inParameters.target.visible=
l,a.fireOutput(1,c))):(a.inParameters.target.visible=k,a.fireOutput(0,c)))});a.createInput("hide",1,function(c){a.inParameters.target&&(a.inParameters.target.visible=l,a.fireOutput(1,c))});return a}var p;return{dependencies:function(d){d.runEngine.blackboxRepository.addBlackboxType("VisibilityTWO",e);p=d},implementation:{Xa:e}}};v("PENGO.client.ide.runEngine.two.actuators.visibility");
window.PENGO.client.ide.runEngine.two.actuators.visibility.resolve=function(){return{dependencies:function(e){e.runEngine.blackboxRepository.updateBlackboxTypeToIDE("VisibilityTWO",f,"ManageVisibility","2D/sync");e.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("VisibilityTWO","target",l,["Object2DTwo","LayerTwo"],"The Object to be set visible or invisible");e.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("VisibilityTWO","alpha",l,"number","The alpha to be set when show is activated (0 to 1). It is used the object\u00b4s one by default.")}}};v("PENGO.client.shared.runEngine.two.actuators.setTransform");
window.PENGO.client.shared.runEngine.two.actuators.setTransform.resolve=function(){function e(d,g,b,m){var a=new p.runEngine.Blackbox(d,g,b,m,"SetTransformTWO");a.createInParam("target",0);a.createOutput("done",0);a.createInput("set",0,function(c){a.inParameters.target&&(a.inParameters.position&&(a.inParameters.target._x=a.inParameters.position.x,a.inParameters.target._y=a.inParameters.position.y),a.inParameters.rotation!==f&&(a.inParameters.target._rotation=a.inParameters.rotation),a.inParameters.scale&&
(a.inParameters.target._scaleX=a.inParameters.scale.x,a.inParameters.target._scaleY=a.inParameters.scale.y),a.inParameters.target.setDirtyTransform(),a.fireOutput(0,c))});return a}var p;return{dependencies:function(d){d.runEngine.blackboxRepository.addBlackboxType("SetTransformTWO",e);p=d},implementation:{oa:e}}};v("PENGO.client.ide.runEngine.two.actuators.setTransform");
window.PENGO.client.ide.runEngine.two.actuators.setTransform.resolve=function(){function e(b,d){d.T||b.setProperty("setPosition",l);d.R||b.setProperty("setRotation",l);d.S||b.setProperty("setScale",l)}function p(b){var d={},a;(a=b.getProperty("setPosition"))&&(d.T=k);(a=b.getProperty("setRotation"))&&(d.R=k);(a=b.getProperty("setScale"))&&(d.S=k);return d}function d(b,d,a,c){b=g.runEngine.actuators.setTransform.base.oa(b,d,a,c);b.addBoolProperty("setPosition",function(a,c){a?c.createInParam("position",
1):c.delInParam(1)},f,k);b.addBoolProperty("setRotation",function(a,c){a?c.createInParam("rotation",2):c.delInParam(2)},f,k);b.addBoolProperty("setScale",function(a,c){a?c.createInParam("scale",3):c.delInParam(3)},f,k);return b}var g;return{dependencies:function(b){b.runEngine.blackboxRepository.updateBlackboxTypeToIDE("SetTransformTWO",d,"SetTransform","2D/sync");b.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("SetTransformTWO",f,e,p);b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SetTransformTWO",
"target",l,"Object2DTwo","The Object where set the transform");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SetTransformTWO","position",l,"_Vector2_","The position to be set");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SetTransformTWO","rotation",l,"number","The rotation to be set");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SetTransformTWO","scale",l,"_Vector2_","The scale too be set");g=b},implementation:{oa:d}}};v("PENGO.client.shared.runEngine.two.manager");
window.PENGO.client.shared.runEngine.two.manager.resolve=function(){function e(s,a,c,b,d,g,h){function m(s){n.a.updateAndDraw(s.event.time,s.event.Ya)}var e={};this.p=s;this.i=h;this.$a=a;this.o=document.createElement("div");this.o.name="TWO_Render_Div_"+a;this.o.id="TWO_Layer_Div_"+a;this.o.setAttribute("style","position: absolute; width: 100%; height: 100%; top: 0px; left: 0px;");b.appendChild(this.o);e.container=this.o;this.Y=e.width=d;this.X=e.height=g;e.maxBatchSize=32;this.a=new window.TWO.Engine(e);
this.k={};this.Ta=this.a.viewport=new window.TWO.core.math.Rect(0,0,e.width||b.innerWidth,e.height||b.innerHeight);this.u=c;this.l=Q.resourceManager.getTypes().VIEW;this.z=Q.resourceManager.getTypes().LAYER;this.H=Q.resourceManager.getTypes().SPRITE;var n=this;c.registerAssetType({type:[this.l,this.z,this.H],callbacks:{load:function(s,a,c,b){n.U(s,a,c,b)},get:function(s,a){return n.Ea(s,a)},unload:function(s){return function(a){switch(s){case n.l:n.v(a,f,f,f,n);break;case n.z:n.a.resourceMgr.removeResource("layer",
a.id);break;case n.H:n.a.resourceMgr.removeResource("spriteDef",a.id)}n.k[a.id]&&delete n.k[a.id]}}}});n.getDrawCallback=function(){return m};this.d={};this.e={};this.f={};this.va=function(){}}function p(s,a){s.name=a.name;s._rotation=0;s._scaleX=1;s._scaleY=1;s._x=0;s._y=0;s.snapToPixel=k;s._visible=k;s._alpha=1;s._anchor.set(0.5,0.5);s._anchorType="CENTER";s._customAnchor=l;s._rotation=a.rotation==f?0:a.rotation;a.scale&&(s._scaleX=a.scale[0],s._scaleY=a.scale[1]);a.position&&(s._x=a.position[0],
s._y=a.position[1]);s.snapToPixel=a.snapToPixel==f?k:a.snapToPixel;s._visible=a.visible==f?k:a.visible;s._alpha=a.alpha==f?1:a.alpha;a.anchor&&(s.anchorType=a.anchor.type,a.anchor.value&&(s.anchor=a.anchor.value));s.dirty=k;s.dirtyTransform=k}function d(s){s.position={};s.scale={};s.pivot={};Object.defineProperty(s.position,"x",{get:function(){return s._x},set:function(a){s._x=a;s.setDirtyTransform()},enumerable:k,configurable:k});Object.defineProperty(s.position,"y",{get:function(){return s._y},
set:function(a){s._y=a;s.setDirtyTransform()},enumerable:k,configurable:k});Object.defineProperty(s.scale,"x",{get:function(){return s._scaleX},set:function(a){s._scaleX=a;s.setDirtyTransform()},enumerable:k,configurable:k});Object.defineProperty(s.scale,"y",{get:function(){return s._scaleY},set:function(a){s._scaleY=a;s.setDirtyTransform()},enumerable:k,configurable:k});Object.defineProperty(s.pivot,"x",{get:function(){return s._pivotX},set:function(a){s._pivotX=a;s.setDirtyTransform()},enumerable:k,
configurable:k});Object.defineProperty(s.pivot,"y",{get:function(){return s._pivotY},set:function(a){s._pivotY=a;s.setDirtyTransform()},enumerable:k,configurable:k})}function g(s){Object.defineProperty(s,"animation",{get:function(){return s.currentAnimationName},set:function(){},enumerable:k,configurable:k});Object.defineProperty(s,"animations",{get:function(){var a=[],c;for(c in s.spriteDef.animations)a.push(c);return a},set:function(){},enumerable:k,configurable:k})}function b(s,a,c,b,d){var g,
h,m,e,n=c["object(s)"],t=a.name;if(t!==f){t=t.toString();e=Array.isArray(n);a=a.asSubString;m=b.getOutParamType(0);e?n.length=0:n=[];for(b=0;b<s.layers.length;b++)if(h=s.layers[b],"LayerTwo"==m)(a&&-1!=h.name.indexOf(t)||h.name==t)&&n.push(h);else for(g=0;g<h.children.length;g++)d.L(h.children[g],t,n,a);m&&Q.runEngine.getManager().m(n,m);c.numberOfObjects=n.length;!e&&0<n.length&&(c["object(s)"]=n[0]);return k}return l}function m(s,a,c){var b=c.layers;if(b){for(a=b.length=0;a<s.layers.length;a++)s.layers[a]&&
b.push(s.layers[a]);c.numberOfLayers=b.length;return k}return l}function a(a,c,b,d,g){var h,m=b["object(s)"],e=c.name;return e!==f?(e=e.toString(),h=Array.isArray(m),d=d.getOutParamType(0),c=c.asSubString,h?m.length=0:m=[],g.L(a,e,m,c,l),d&&Q.runEngine.getManager().m(m,d),b.numberOfObjects=m.length,!h&&0<m.length&&(b["object(s)"]=m[0]),k):l}function c(a,c){if(c.parent!==f){if(a._parent){var b=a._parent.children.indexOf(a);-1<b&&a._parent.children.splice(b,1)}a._ownerLayer&&(a._ownerLayer.dirty=k);
c.parent.appendChild(a);a._updateObject2d(0,0,c.parent.finalTransform,1,l);a._dirtyTransform=l;return a._dirty=k}return l}function h(a,c,b){return b.transparency!==f?(b.transparency=a._alpha,k):l}function t(a,c){return c.transparency!==f?(a._alpha=c.transparency,k):l}function C(a,c,b){return b.visibility!==f?(b.visibility=a._visible,k):l}function A(a,c){return c.visibility!==f?(a._visible=c.visibility==k,a.dirty=k):l}function D(a,c,b,d,h){return b.children!==f?(a=a.children.slice(),h.m(a,d.getOutParamType(0)),
b.children=a,b.childNumber=a.length,k):l}function x(a,c,b){return b.name!==f&&"string"===typeof b.name?(b.name=a.name,k):l}function n(a,c,b,d,h){return h.Q(a._parent.type,d.getOutParamType(0))?(b.parent=a._parent,k):l}function E(a,c,b){return b.position!==f?(c=new window.TWO.core.math.Vector2(0,0),a.finalTransform.transformVector2(c),b.position={x:c.x,y:c.y},k):l}function q(a,c,b){return b.position!==f?(b.position={x:a._x,y:a._y},k):l}function r(a,c,b){return b["X position"]!==f&&b["Y position"]!==
f?(b["X position"]=a._x,b["Y position"]=a._y,k):l}function w(a,c,b){return b["X position"]!==f?(b["X position"]=a._x,k):l}function u(a,c,b){return b["Y position"]!==f?(b["Y position"]=a._y,k):l}function y(a,c,b){return b.scale!==f?(b.scale={x:a._scaleX,y:a._scaleY},k):l}function I(a,c,b){return b.rotation!==f?(b.rotation=a._rotation,k):l}function J(a,c){return c.position!==f?(a._x=c.position.x,a._y=c.position.y,a.setDirtyTransform(),k):l}function P(a,c){return c["X position"]!==f&&c["Y position"]!==
f?(a._x=c["X position"],a._y=c["Y position"],a.setDirtyTransform(),k):l}function K(a,c){return c["X position"]!==f?(a._x=c["X position"],a.setDirtyTransform(),k):l}function O(a,c){return c["Y position"]!==f?(a._y=c["Y position"],a.setDirtyTransform(),k):l}function M(a,c){return c.scale!==f?(a._scaleX=c.scale.x,a._scaleY=c.scale.y,a.setDirtyTransform(),k):l}function H(a,c){return c.rotation!==f?(a._rotation=c.rotation,a.setDirtyTransform(),k):l}function N(a,c,b){return c.translation!==f?(a._x+=c.translation.x,
a._y+=c.translation.y,b.positionResult!==f&&(b.positionResult={x:a._x,y:a._y}),a.setDirtyTransform(),k):l}function F(a,c,b){return c["X translation"]!==f&&c["Y translation"]!==f?(a._x+=c["X translation"],a._y+=c["Y translation"],b["X result"]!==f&&(b["X result"]=a._x),b["Y result"]!==f&&(b["Y result"]=a._y),a.setDirtyTransform(),k):l}function G(a,c,b){return c["X translation"]!==f?(a._x+=c["X translation"],b["X result"]!==f&&(b["X result"]=a._x),a.setDirtyTransform(),k):l}function L(a,c,b){return c["Y translation"]!==
f?(a._y+=c["Y translation"],b["Y result"]!==f&&(b["Y result"]=a._y),a.setDirtyTransform(),k):l}function B(a,c,b,d,h){return b.speed!==f?(b.speed=h.d[a.id]?{x:h.d[a.id].speed.x,y:h.d[a.id].speed.y}:{x:0,y:0},k):l}function z(a,c,b,d,h){function g(c){m>c.event.time?(a._x+=e*c.event.deltaTime,a._y+=n*c.event.deltaTime,a.setDirtyTransform()):(d.runner.unsubscribeOnUpdateAnimation(h.d[a.id].c),delete h.d[a.id])}var m,e=0,n=0;b=c.seconds;(b===f||0<b)&&c.translatePerSecond!==f&&(0!==c.translatePerSecond.x||
0!==c.translatePerSecond.y)?(m=b===f?Number.MAX_VALUE:d.event.time+1E3*b,e=c.translatePerSecond.x/1E3,n=c.translatePerSecond.y/1E3,h.d[a.id]?d.runner.unsubscribeOnUpdateAnimation(h.d[a.id].c):h.d[a.id]={},h.d[a.id].c=g,h.d[a.id].speed={x:c.translatePerSecond.x,y:c.translatePerSecond.y},h.d[a.id].q=m,d.runner.subscribeOnUpdateAnimation(h.d[a.id].c)):h.d[a.id]&&(d.runner.unsubscribeOnUpdateAnimation(h.d[a.id].c),delete h.d[a.id]);return k}function R(a,c,b,d,h){return b.speed!==f?(b.speed=h.e[a.id]?
h.e[a.id].speed:0,k):l}function da(a,c,b,d,h){function g(c){m>c.event.time?(a._rotation+=e*c.event.deltaTime,a.setDirtyTransform()):(d.runner.unsubscribeOnUpdateAnimation(h.e[a.id].c),delete h.e[a.id])}var m,e=0;b=c.seconds;(b===f||0<b)&&c.rotatePerSecond!==f&&0!==c.rotatePerSecond?(m=b===f?Number.MAX_VALUE:d.event.time+1E3*b,e=c.rotatePerSecond/1E3,h.e[a.id]?d.runner.unsubscribeOnUpdateAnimation(h.e[a.id].c):h.e[a.id]={},h.e[a.id].c=g,h.e[a.id].speed=c.rotatePerSecond,h.e[a.id].q=m,d.runner.subscribeOnUpdateAnimation(h.e[a.id].c)):
h.e[a.id]&&(d.runner.unsubscribeOnUpdateAnimation(h.e[a.id].c),delete h.e[a.id]);return k}function U(a,c,b,d,h){return b.speed!==f?(b.speed=h.f[a.id]?{x:h.f[a.id].speed.x,y:h.f[a.id].speed.y}:{x:0,y:0},k):l}function V(a,c,b,d,h){function g(c){m>c.event.time?(a._scaleX+=e*c.event.deltaTime,a._scaleY+=n*c.event.deltaTime,a.setDirtyTransform()):(d.runner.unsubscribeOnUpdateAnimation(h.f[a.id].c),delete h.f[a.id])}var m,e=0,n=0;b=c.seconds;(b===f||0<b)&&c.scalePerSecond!==f&&(0!==c.scalePerSecond.x||
0!==c.scalePerSecond.y)?(m=b===f?Number.MAX_VALUE:d.event.time+1E3*b,e=c.scalePerSecond.x/1E3,n=c.scalePerSecond.y/1E3,h.f[a.id]?d.runner.unsubscribeOnUpdateAnimation(h.f[a.id].c):h.f[a.id]={},h.f[a.id].c=g,h.f[a.id].speed={x:c.scalePerSecond.x,y:c.scalePerSecond.y},h.f[a.id].q=m,d.runner.subscribeOnUpdateAnimation(h.f[a.id].c)):h.f[a.id]&&(d.runner.unsubscribeOnUpdateAnimation(h.f[a.id].c),delete h.f[a.id]);return k}function W(a,c,b,d,h){function g(c){m>c.event.time?(a._x+=e*c.event.deltaTime,a._y+=
n*c.event.deltaTime):(a._x=t,a._y=q,d.runner.unsubscribeOnUpdateAnimation(h.d[a.id].c),delete h.d[a.id]);a.setDirtyTransform()}var m,e=0,n=0,t=0,q=0;b=c.seconds;c.endPosition!==f?(t=c.endPosition.x,q=c.endPosition.y,0<b&&(t!==a._x||q!==a._y)?(m=1E3*b,e=(t-a._x)/m,n=(q-a._y)/m,m+=d.event.time,h.d[a.id]?d.runner.unsubscribeOnUpdateAnimation(h.d[a.id].c):h.d[a.id]={},h.d[a.id].c=g,h.d[a.id].speed={x:1E3*e,y:1E3*n},h.d[a.id].q=m,d.runner.subscribeOnUpdateAnimation(h.d[a.id].c)):(h.d[a.id]&&(d.runner.unsubscribeOnUpdateAnimation(h.d[a.id].c),
delete h.d[a.id]),a._x=t,a._y=q,a.setDirtyTransform())):h.d[a.id]&&(d.runner.unsubscribeOnUpdateAnimation(h.d[a.id].c),delete h.d[a.id]);return k}function X(a,c,b,d,h){function g(c){m>c.event.time?a._rotation+=e*c.event.deltaTime:(a._rotation=n,d.runner.unsubscribeOnUpdateAnimation(h.e[a.id].c),delete h.e[a.id]);a.setDirtyTransform()}var m,e=0,n=c.endRotation;c=c.seconds;n!==f?0<c&&n!==a._rotation?(m=1E3*c,e=(n-a._rotation)/m,m+=d.event.time,h.e[a.id]?(d.runner.unsubscribeOnUpdateAnimation(h.e[a.id].c),
d.runner.unsubscribeOnUpdateAnimation(h.e[a.id].c)):h.e[a.id]={},h.e[a.id].c=g,h.e[a.id].speed=1E3*e,h.e[a.id].q=m,d.runner.subscribeOnUpdateAnimation(h.e[a.id].c)):(h.e[a.id]&&(d.runner.unsubscribeOnUpdateAnimation(h.e[a.id].c),delete h.e[a.id]),a._rotation=n,a.setDirtyTransform()):h.e[a.id]&&(d.runner.unsubscribeOnUpdateAnimation(h.e[a.id].c),delete h.e[a.id]);return k}function Y(a,c,b,d,h){function m(c){g>c.event.time?(a._scaleX+=e*c.event.deltaTime,a._scaleY+=n*c.event.deltaTime):(a._scaleX=t,
a._scaleY=q,d.runner.unsubscribeOnUpdateAnimation(h.f[a.id].c),delete h.f[a.id]);a.setDirtyTransform()}var g,e=0,n=0,t=0,q=0;b=c.seconds;c.endScale!==f?(t=c.endScale.x,q=c.endScale.y,0<b&&(t!==a._scaleX||q!==a._scaleY)?(g=1E3*b,e=(t-a._scaleX)/g,n=(q-a._scaleY)/g,g+=d.event.time,h.f[a.id]?d.runner.unsubscribeOnUpdateAnimation(h.f[a.id].c):h.f[a.id]={},h.f[a.id].c=m,h.f[a.id].speed={x:1E3*e,y:1E3*n},h.f[a.id].q=g,d.runner.subscribeOnUpdateAnimation(h.f[a.id].c)):(h.f[a.id]&&(d.runner.unsubscribeOnUpdateAnimation(h.f[a.id].c),
delete h.f[a.id]),a._scaleX=t,a._scaleY=q,a.setDirtyTransform())):h.f[a.id]&&(d.runner.unsubscribeOnUpdateAnimation(h.f[a.id].c),delete h.f[a.id]);return k}function ea(a,c,b){return c.rotation!==f?(a._rotation+=c.rotation,b.rotationResult!==f&&(b.rotationResult=a._rotation),a.setDirtyTransform(),k):l}function fa(a,c,b){return c.scale!==f?(a._scaleX*=c.scale.x,a._scaleY*=c.scale.y,b.scaleResult!==f&&(b.scaleResult={x:a._scaleX,y:a._scaleY}),a.setDirtyTransform(),k):l}function ga(a,c){return c.text!==
f?(a.text=c.text.toString(),k):l}function ha(a,c){return c.fontSize!==f?(a.fontSize=c.fontSize,k):l}function ia(a,c){return c.borderWidth!==f?(a.borderWidth=c.borderWidth,k):l}function ja(a,c){if(c.text===f&&c.fontSize===f&&c.borderWidth===f)return l;c.text!==f&&(a.text=""+c.text);c.fontSize!==f&&(a.fontSize=c.fontSize);c.borderWidth!==f&&(a.borderWidth=c.borderWidth);return k}function ka(a,c,b){return b.animationName!==f&&"string"===typeof b.animationName?(b.animationName=a.currentAnimationName,
k):l}function la(a,c){return c.animationName!==f&&a.currentAnimation?a.startAnimation(c.animationName.toString(),f,f,f,f):l}function ma(a,c,b){return b.fps!==f&&a.currentAnimation?(b.fps=a.fps,k):l}function na(a,c,b){return b.loop!==f&&a.currentAnimation?(b.loop=a.loop,k):l}function oa(a,c){return 0<=c.fps&&a.currentAnimation?(a.fps=c.fps,k):l}function pa(a,c){return c.loop!==f&&a.currentAnimation?(a.loop=c.loop,k):l}var Q,S=[];new window.TWO.core.math.Matrix3;new window.TWO.core.math.Vector2;new window.TWO.core.math.Vector2;
new window.TWO.core.math.Vector2;new window.TWO.core.math.Vector2;var qa=window.TWO.core.renderables.Object2d;window.TWO.core.renderables.Object2d=function(){var a=new qa;d(a);a.setValuesFromJson=function(a){p(this,a)};return a};var Z=window.TWO.core.renderables.Bitmap;window.TWO.core.renderables.Bitmap=function(){var a=new Z;d(a);a.setValuesFromJson=function(a){p(this,a);this.image=a.image;a.anchor&&(this.anchorType=a.anchor.type,a.anchor.value&&(this.anchor=a.anchor.value))};return a};window.TWO.core.renderables.Bitmap.uber=
Z.uber;var $=window.TWO.core.renderables.Text;window.TWO.core.renderables.Text=function(){var a=new $;d(a);a.setValuesFromJson=function(a){p(this,a);this._font="arial";this._fontSize=10;this._text="";this._fill=k;this._borderWidth=this._colorB=this._colorG=this._colorR=0;a.text&&(this._text=a.text);a.font&&(this._font=a.font);a.fontSize&&(this._fontSize=a.fontSize,this._h=2*this._fontSize);a.fill&&(this._fill=a.fill);a.color&&(Array.isArray(a.color)&&3==a.color.length)&&(this._colorR=a.color[0],this._colorG=
a.color[1],this._colorB=a.color[2]);a.borderWidth&&(this._borderWidth=a.borderWidth);a.borderColor&&(Array.isArray(a.borderColor)&&3==a.borderColor.length)&&(this._bColorR=a.borderColor[0],this._bColorG=a.borderColor[1],this._bColorB=a.borderColor[2]);a.anchor&&(this.anchorType=a.anchor.type,a.anchor.value&&(this.anchor=a.anchor.value));this._recalcSize=k};return a};window.TWO.core.renderables.Text.uber=$.uber;var aa=window.TWO.core.renderables.Sprite;window.TWO.core.renderables.Sprite=function(){var a=
new aa;d(a);g(a);a.setValuesFromJson=function(a){this._loop=a.loop;this._spriteDefName=a.spriteDef;this.currentAnimationName=a.currentAnimation;if(this.spriteDef=this.resourceMgr.getResource("spriteDef",this._spriteDefName))(this.currentAnimationName=a.currentAnimation||this.spriteDef.defaultAnimation)&&this.spriteDef.animations[this.currentAnimationName]?(this.startAnimation(this.currentAnimationName,this.spriteDef.animations[this.currentAnimationName].fps||this.spriteDef.defaultFps||0,this.spriteDef.animations[this.currentAnimationName].revert||
l,this.spriteDef.animations[this.currentAnimationName].loop),a.image=this.spriteDef.image):a.image=f;a.anchor&&(this.anchorType=a.anchor.type,a.anchor.value&&(this.anchor=a.anchor.value));p(this,a)};return a};window.TWO.core.renderables.Sprite.uber=aa.uber;var ba=window.TWO.core.renderables.Layer;window.TWO.core.renderables.Layer=function(){var a=new ba;a.setValuesFromJson=function(a){this.name=a.name||"";this._visible=a.visible!==f?a.visible:k;this._alpha=a.alpha!==f?a.alpha:1;this.dirty=k};return a};
window.TWO.core.renderables.Layer.uber=ba.uber;e.prototype={Ba:function(){return this.i.DefaultScene},ya:function(a,c){function b(h){h&&d.V(h,f,f,a,d);c()}var d=this;this.i&&this.i.DefaultScene?this.u.get(this.i.DefaultScene,b,f,this.va):c()},wa:function(){this.u.reloadAssets(this.Z);this.a.scene=f;for(var a=0;a<S.length;a+=1)S[a]&&this.v(S[a],f,f,f,this);S.length=0;this.i&&this.i.DefaultScene&&this.u.release(this.i.DefaultScene,this.va);this.d={};this.e={};this.f={}},Sa:function(a){this.a.setRenderingParams({doNotUseDevicePixelRatio:!a});
this.p.setViewScaleFactor(this.a.renderMgr._scaleX,this.a.renderMgr._scaleY)},Pa:function(a,c){this.o.setAttribute("style","position:absolute;width:"+a+"px;height:"+c+"px;");this.Y=a;this.X=c;this.a.resize(a,c);this.p.setViewScaleFactor(this.a.renderMgr._scaleX,this.a.renderMgr._scaleY)},ua:function(a,c){function b(a){if(a.customProperties!==f)for(g in a.customProperties)-1==d.indexOf(g)&&d.push(g)}for(var d=[],h=a,g,m=function T(a){for(var c=0;c<a.length;c++)b(a[c]),a[c].children!==f&&0<a[c].children.length&&
T(a[c].children)};h!==f;)b(h),h=h._parent;c&&(a.children!==f&&0<a.children.length)&&m(a.children);return d},Da:function(a,c,b,d,h){function g(c,b){b.length=0;for(var m=function ra(a,d){var h=d;if(d||a.customProperties!==f&&a.customProperties[c]!==f)"Layer"!==a.type&&b.push(a),h=k;for(var g=0;g<a.children.length;g++)ra(a.children[g],h)},e=a,n=l;e!==f;)e.customProperties!==f&&e.customProperties[c]!==f?(n=k,e=f):e=e._parent;d&&(n||a.customProperties!==f&&a.customProperties[c]!==f)&&"Layer"!==a.type&&
b.push(a);h&&m(a,n)}var m=[],e=[],n=[],t;if(Array.isArray(c)){if(0<c.length){g(c[0],m);b&&(n=m.slice(0));for(var q=1;q<c.length&&0!=m.length;q++){b||(n.length=0);g(c[q],e);for(var p=0;p<e.length;p++)t=m.indexOf(e[p]),(-1!=t&&!b||-1==t&&b)&&n.push(e[p]);m=n.slice(0)}}}else g(c,m);return m},m:function(a,c){for(var b=a.length-1;0<=b;b--)this.Q(a[b].type,c)||a.splice(b,1)},Q:function(a,c){function b(a){switch(a){case "Scene":a="SceneTwo";break;case "Layer":a="LayerTwo";break;case "Object2d":a="Object2DTwo";
break;case "Bitmap":a="BitmapTwo";break;case "Sprite":a="SpriteTwo";break;case "Text":a="TextTwo"}return a}var d=l;a=b(a);c=b(c);if(a==c)d=k;else switch(c){case "Object2DTwo":if("TextTwo"==a||"SpriteTwo"==a||"BitmapTwo"==a)d=k;break;case "BitmapTwo":"SpriteTwo"==a&&(d=k)}return d},W:function(a,c){var b=this;Q.resourceManager.getRes(a,f,function(a,d){if(a)Q.logger.warn("Error downloading resource "+a);else if(!b.a.resourceMgr.getResource("image",d.id)){var h=d.data,g=document.createElement("canvas"),
m=g.getContext("2d");g.width=h.width;g.height=h.height;m.clearRect(0,0,g.width,g.height);m.drawImage(h,0,0,h.width,h.height);b.a.resourceMgr.addResource("image",d.id,g,d.id)}c()})},Ga:function(a,c,b){function d(){function a(){m--;0==e&&(0==m&&0==n)&&b()}if(0<m)for(var h=0;h<c.images.length;h++)c.images[h].url&&!t.a.resourceMgr.getResource("image",c.images[h].url)?t.W(c.images[h].url,a):a();else 0==e&&(0==m&&0==n)&&b()}function h(){if(0<e)for(var b=0;b<c.spriteDefs.length;b++)g(c.spriteDefs[b].url,
function(a,b,h){if(a&&(t.a.resourceMgr.addResource("spriteDef",h,a,h),a.image))a:{a=a.image;for(b=c.images.length;b--;)if(c.images[b].url==a)break a;c.images.push({url:a,name:a});m++}e--;0==e&&d()},a);else d()}function g(a,c,b){t.u.get(a,function(b,h){c(b,h,a)},["scene"],f,b)}var m=0,e=0,n=0,t=this;c.spriteDefs&&(e=c.spriteDefs.length);c.images&&(m=c.images.length);c.layers&&(n=c.layers.length);if(0==e&&0==m&&0==n)b();else if(h(),0<n)for(var q=0;q<c.layers.length;q++)g(c.layers[q].url,function(a,
c,h){t.a.resourceMgr.addResource("layer",h,a,h);n--;0==e&&(0==m&&0==n)&&b()},a)},U:function(a,c,b,h){var d=this;d.Ga(b,a,function(){switch(h){case d.l:var g=d.a.createElement("Scene");a.id=b;g.load(d.a,a,function(){g.j=a;c&&c(b,g)});break;case d.z:d.a.resourceMgr.resources.layer||(d.a.resourceMgr.resources.layer={});if(!d.a.resourceMgr.resources.layer[b]){d.a.resourceMgr.addResource("layer",b,k,b);var m=d.a.createElement("Layer");a.id=b;m.load(d.a,a,function(h){d.a.resourceMgr.resources.layer[b]=
{res:h,url:b};d.a.resourceMgr.resourcesByUrl[b]=h;h.j=a;for(var g in a.objects)a.objects[g]&&a.objects[g].customProperties&&(h.objects[g].customProperties=a.objects[g].customProperties);c(b,h)})}break;case d.H:d.a.resourceMgr.resources.spriteDef||(d.a.resourceMgr.resources.spriteDef={});d.a.resourceMgr.resources.spriteDef[b]={res:a,url:b};d.a.resourceMgr.resourcesByUrl[b]=a;c(b,d.a.resourceMgr.getResource("spriteDef",b));break;default:c(b)}})},Ea:function(a,c){var b=a;c&&1<c.length&&(b=a.getById(c[1]));
return b},L:function(a,c,b,d,h){if(d&&-1!=a.name.indexOf(c)||a.name==c)if(b.push(a),h)return;for(var g=0;g<a.children.length&&!(e.prototype.L(a.children[g],c,b,d),h&&0<b.length);g++);},w:function(a,c){this.e[a]&&(c.unsubscribeOnUpdateAnimation(this.e[a].c),delete this.e[a]);this.d[a]&&(c.unsubscribeOnUpdateAnimation(this.d[a].c),delete this.d[a]);this.f[a]&&(c.unsubscribeOnUpdateAnimation(this.f[a].c),delete this.f[a])},v:function(a,c,b,d,h){var g,m,e,n;c=a.j;for(b=0;b<a.layers.length;b++)if(d=h.a.resourceMgr.getResource("layer",
c.layers[b].url),d!==f)for(m in d.objects)h.w(m,h.p);if(a.__newSceneObject)delete a;else for(b=0;b<a.layers.length;b++)if(d=h.a.resourceMgr.getResource("layer",c.layers[b].url),d!==f)if(n=d.j,d.__newSceneObject)a.removeLayer(d.id);else for(m in d.objects)d.objects[m]&&(d.objects[m].__newSceneObject||!n.objects[m])&&d.removeObject(m,k,k);m=h.k;for(g in a.layersById)if(b=m[g]){for(d=0;d<b.length;d++)a.layersById[g].addObject(b[d]);delete m[g]}a.layers.length=0;a.layersById={};for(b=0;b<c.layers.length;b++)if(d=
h.a.resourceMgr.getResource("layer",c.layers[b].url),d!==f){if(n=d.j){var t;for(e in n.objects)if(t=d.getById(e)){if(t.setValuesFromJson(n.objects[e]),t.children.length=0,n.objects[e].children)for(g=0;g<n.objects[e].children.length;g++)(m=d.getById(n.objects[e].children[g]))?(t.children.push(m),m._parent=t):Q.logger.warn("Warning: elements with invalid children in layer. Invalid child id: "+n.objects[e].children[g]+" in object "+t.name+" (id: "+e+")")}else Q.logger.warn("Warning: invalid elements in layer. Element id: "+
e+" in layer "+d.name+" (id: "+d.id+")");if(n.children)for(g=d.children.length=0;g<n.children.length;g+=1)d.appendChild(d.objects[n.children[g]]);d.setValuesFromJson(n);a.appendLayer(d)}}else Q.logger.warn("Warning: invalid layer. Layer id: "+c.layers[b].url);a.setDirty();return k},V:function(a,c,b,d,h){function g(a,c,b,d,h){b.update&&b.update(a,c,d,h);if(b.children){d=b._visible?b.finalAlpha:0;for(h=0;h<b.children.length;h+=1)g(a,c,b.children[h],b.finalTransform,d)}}h.a.scene=a;-1===S.indexOf(a)&&
S.push(a);for(a=0;a<h.a.scene.layers.length;a+=1)g(d.event.time,0,h.a.scene.layers[a],f,1);return k},n:function(a,c,b){function d(a,c){c.__newSceneObject=k;if(a.customProperties){c.customProperties={};for(var b in a.customProperties)c.customProperties[b]=a.customProperties[b]}for(b=0;b<a.children.length;b++)d(a.children[b],c.children[b])}if(c.parent){var h=a.clone();d(a,h);c.parent.appendChild(h);h._updateObject2d(0,0,c.parent.finalTransform,1,l);h._dirtyTransform=l;h._dirty=k;b.clone=h;return k}return l},
J:function(a,c,b,d,h){c=function T(a,c){for(var b=0;b<a.length;b++)T(a[b].children,c),c.w(a[b].id,c.p),delete a[b].ownerLayer.objects[a[b].id],a[b].__newSceneObject||(c.k[a[b].ownerLayer.id]||(c.k[a[b].ownerLayer.id]=[]),c.k[a[b].ownerLayer.id].push(a[b])),a[b].children.length=0};var g;d=k;if("Layer"!==a.type)if(b=a._parent,b!==f){var m=b.children.indexOf(a);-1!==m?(b.children.splice(m,1),a.ownerLayer!==f&&a.ownerLayer.objects[a.id]!==f&&(g=a.ownerLayer,c(a.children,h),h.w(a.id,h.p),delete g.objects[a.id],
a.children.length=0),a.__newSceneObject||(h.k[g.id]||(h.k[g.id]=[]),h.k[g.id].push(a)),g.dirty=k):d=l}else d=l;return d}};e.prototype.resizeRenderer=e.prototype.Pa;e.prototype.setHDGraphicsMode=e.prototype.Sa;e.prototype.getDefaultSceneKey=e.prototype.Ba;e.prototype.beforePlayNotify=e.prototype.ya;e.prototype.afterStopNotify=e.prototype.wa;return{dependencies:function(d){Q=d;d=d.runEngine.paramManager;d.addParamType("SceneTwo","Scene",f);d.addParamTypeAction("SceneTwo","activate",e.prototype.V,"two");
d.addParamTypeAction("SceneTwo","findByName",b,"two");d.addParamTypeAction("SceneTwo","getLayers",m,"two");d.addParamTypeAction("SceneTwo","reset",e.prototype.v,"two");d.addParamType("LayerTwo","Layer",{visible:{type:"bool"},alpha:{type:"number"}});d.addParamTypeAction("LayerTwo","findByName",a,"two");d.addParamTypeAction("LayerTwo","getChildren",D,"two");d.addParamTypeAction("LayerTwo","getTransparency",h);d.addParamTypeAction("LayerTwo","getVisibility",C);d.addParamTypeAction("LayerTwo","setTransparency",
t);d.addParamTypeAction("LayerTwo","setVisibility",A);d.addParamType("Object2DTwo","Object2D",{position:{type:"_Vector2_"},rotation:{type:"number"},scale:{type:"_Vector2_"},visible:{type:"bool"},alpha:{type:"number"}});d.addParamTypeAction("Object2DTwo","clone",e.prototype.n);d.addParamTypeAction("Object2DTwo","delete",e.prototype.J,"two");d.addParamTypeAction("Object2DTwo","findByName",a,"two");d.addParamTypeAction("Object2DTwo","getAbsPosition",E);d.addParamTypeAction("Object2DTwo","getChildren",
D,"two");d.addParamTypeAction("Object2DTwo","getName",x);d.addParamTypeAction("Object2DTwo","getParent",n,"two");d.addParamTypeAction("Object2DTwo","getPosition",q);d.addParamTypeAction("Object2DTwo","getPositionXY",r);d.addParamTypeAction("Object2DTwo","getPositionX",w);d.addParamTypeAction("Object2DTwo","getPositionY",u);d.addParamTypeAction("Object2DTwo","getRotation",I);d.addParamTypeAction("Object2DTwo","getRotationSpeed",R,"two");d.addParamTypeAction("Object2DTwo","getScalationSpeed",U,"two");
d.addParamTypeAction("Object2DTwo","getScale",y);d.addParamTypeAction("Object2DTwo","getTranslationSpeed",B,"two");d.addParamTypeAction("Object2DTwo","getTransparency",h);d.addParamTypeAction("Object2DTwo","getVisibility",C);d.addParamTypeAction("Object2DTwo","goTo",W,"two");d.addParamTypeAction("Object2DTwo","rotate",ea);d.addParamTypeAction("Object2DTwo","rotateTo",X,"two");d.addParamTypeAction("Object2DTwo","scale",fa);d.addParamTypeAction("Object2DTwo","scaleTo",Y,"two");d.addParamTypeAction("Object2DTwo",
"setParent",c);d.addParamTypeAction("Object2DTwo","setPosition",J);d.addParamTypeAction("Object2DTwo","setPositionXY",P);d.addParamTypeAction("Object2DTwo","setPositionX",K);d.addParamTypeAction("Object2DTwo","setPositionY",O);d.addParamTypeAction("Object2DTwo","setRotation",H);d.addParamTypeAction("Object2DTwo","setRotationSpeed",da,"two");d.addParamTypeAction("Object2DTwo","setScalationSpeed",V,"two");d.addParamTypeAction("Object2DTwo","setScale",M);d.addParamTypeAction("Object2DTwo","setTranslationSpeed",
z,"two");d.addParamTypeAction("Object2DTwo","setTransparency",t);d.addParamTypeAction("Object2DTwo","setVisibility",A);d.addParamTypeAction("Object2DTwo","translate",N);d.addParamTypeAction("Object2DTwo","translateXY",F);d.addParamTypeAction("Object2DTwo","translateX",G);d.addParamTypeAction("Object2DTwo","translateY",L);d.addParamType("BitmapTwo","Bitmap",{position:{type:"_Vector2_"},rotation:{type:"number"},scale:{type:"_Vector2_"},visible:{type:"bool"},alpha:{type:"number"}});d.addParamType("SpriteTwo",
"Sprite",{position:{type:"_Vector2_"},rotation:{type:"number"},scale:{type:"_Vector2_"},visible:{type:"bool"},alpha:{type:"number"},animation:{type:"string"}});d.addParamType("TextTwo","Text",{font:{type:"string"},fontSize:{type:"number"},fill:{type:"bool"},r:{type:"number"},g:{type:"number"},b:{type:"number"},borderWidth:{type:"number"},borderR:{type:"number"},borderG:{type:"number"},borderB:{type:"number"},position:{type:"_Vector2_"},rotation:{type:"number"},scale:{type:"_Vector2_"},visible:{type:"bool"},
alpha:{type:"number"}});d.setCompatibleWith("TextTwo",["Object2DTwo"]);d.addParamTypeAction("TextTwo","clone",e.prototype.n);d.addParamTypeAction("TextTwo","setText",ga);d.addParamTypeAction("TextTwo","setBorderWidth",ia);d.addParamTypeAction("TextTwo","setFontSize",ha);d.addParamTypeAction("TextTwo","setProperties",ja);d.setCompatibleWith("SpriteTwo",["BitmapTwo","Object2DTwo"]);d.addParamTypeAction("SpriteTwo","clone",e.prototype.n);d.addParamTypeAction("SpriteTwo","getCurrentAnimationFPS",ma);
d.addParamTypeAction("SpriteTwo","getCurrentAnimationLoop",na);d.addParamTypeAction("SpriteTwo","getCurrentAnimationName",ka);d.addParamTypeAction("SpriteTwo","setAnimation",la);d.addParamTypeAction("SpriteTwo","setCurrentAnimationFPS",oa);d.addParamTypeAction("SpriteTwo","setCurrentAnimationLoop",pa);d.setCompatibleWith("BitmapTwo",["Object2DTwo"]);d.addParamTypeAction("BitmapTwo","clone",e.prototype.n)},implementation:{Manager:e,config:{}}}};v("PENGO.client.ide.runEngine.two.manager");
window.PENGO.client.ide.runEngine.two.manager.resolve=function(){function e(m,a,c,h,t,C,A){function D(a){0!=x.Y&&0!=x.X&&n(a)}e.super_.constructor.call(this,m,a,c,h,t,C,A);var x=this;this.Ha=function(a,c,d,h){g?b.push({Qa:a,Ia:c,xa:d,Z:h}):x.U(a,c,d,h)};c.registerAssetCallback(this.l,"getDescription",this.Ca);c.registerAssetCallback(this.l,"getName",this.getName);c.registerAssetCallback(this.l,"getResourceList",d);c.registerAssetCallback(this.l,"load",this.Ha);this.Fa=function(){var a=this;return function(c){function d(){var c;
h--;if(0===h){g=l;for(var m=0;m<b.length;m++)c=b[m],a.U(c.Qa,c.Ia,c.xa,c.Z);b.length=0}}var h;if(c&&c.res){h=c.res.length;g=k;for(var m=0;m<c.res.length;m++)a.a.resourceMgr.resources.image&&a.a.resourceMgr.resources.image[c.res[m].ID]?(a.a.resourceMgr.removeResource("image",c.res[m].ID),a.W(c.res[m].ID,d)):d()}}};this.La=this.Fa();p.eventsManager.on("RESMGR_RES_CHANGED",this.La,this);var n=this.getDrawCallback();this.getDrawCallback=function(){return D}}var p,d=function a(c){var b=[],d;if(c.j){if(c.j.images){d=
c.j.images;for(var g=0;g<d.length;g+=1)b.push(d[g].url)}if(c.j.spriteDefs){d=c.j.spriteDefs;for(g=0;g<d.length;g+=1)b.push(d[g].url)}if(c.layers)for(g=0;g<c.layers.length;g+=1){b.push(c.layers[g].id);d=a(c.layers[g]);for(var e=0;e<d.length;e+=1)b.push(d[e])}}return b},g=l,b=[];e.prototype={Ra:function(a,c){this.i[a]=c},Aa:function(a){return this.i[a]},Ca:function(a){var c=function A(a){var c,b;if(a.url)b={url:a.url,id:a.url};else{b={type:a.type,id:a.id,name:a.name,accesor:["scene",a.id]};if(a.children&&
"Layer"!=a.type){b.assets=[];for(c=0;c<a.children.length;c++)b.assets.push(A(a.children[c]))}switch(b.type){case "Layer":b.type="LayerTwo";break;case "Object2d":b.type="Object2DTwo";break;case "Bitmap":b.type="BitmapTwo";if(a.image==f||!a.image)b.incorrect=k;break;case "Sprite":b.type="SpriteTwo";if(!(c=a.spriteDef==f))if(!(c=!a.image))a=a.spriteDef,c=l,a!=f&&(0<Object.keys(a.animations).length&&a.animations[a.defaultAnimation])&&(c=k),c=!c;c&&(b.incorrect=k);break;case "Text":b.type="TextTwo"}}return b},
b,d;b={type:a.type+"Two",assets:[],accesor:["scene"],name:a.name,id:a.id};if("Scene"==a.type)for(d=0;d<a.layers.length;d++)b.assets.push(c(a.layers[d]));else if("Layer"==a.type)for(d=0;d<a.children.length;d++)b.assets.push(c(a.children[d]));return b},getName:function(a,c){var b=f;if(c)if(1<c.length){var d=a.getById(c[1]);d&&(b=d.name)}else a&&"scene"==c[0]&&(b=a.name);return b}};e.prototype.getDrawCallback=e.prototype.Za;e.prototype.setConfigDatum=e.prototype.Ra;e.prototype.getConfigDatum=e.prototype.Aa;
return{dependencies:function(a){var c=a.runEngine.paramManager;p=a;a.inheritance.inheritance.inherits(e,a.runEngine.manager.base.Manager);c.addParamTypeIdeEx("SceneTwo","2D");c.addParamTypeIdeEx("LayerTwo","2D");c.addParamTypeIdeEx("Object2DTwo","2D");c.addParamTypeIdeEx("BitmapTwo","2D");c.addParamTypeIdeEx("SpriteTwo","2D");c.addParamTypeIdeEx("TextTwo","2D");c.addParamTypeActionParamsDef("SceneTwo","activate",f,f);c.addParamTypeActionParamsDef("SceneTwo","findByName",[{nameKey:"name",type:"string"},
{nameKey:"asSubString",type:"bool",noncritical:k}],[{nameKey:"object(s)",type:["Object2DTwo","LayerTwo"],aggregationState:"both"},{nameKey:"numberOfObjects",type:"number",noncritical:k}]);c.addParamTypeActionParamsDef("SceneTwo","getLayers",f,[{nameKey:"layers",type:"LayerTwo",aggregationState:k},{nameKey:"numberOfLayers",type:"number",noncritical:k}]);c.addParamTypeActionParamsDef("SceneTwo","reset",f,f);c.addParamTypeActionParamsDef("LayerTwo","findByName",[{nameKey:"name",type:"string"},{nameKey:"asSubString",
type:"bool",noncritical:k}],[{nameKey:"object(s)",type:"Object2DTwo",aggregationState:"both"},{nameKey:"numberOfObjects",type:"number",noncritical:k}]);c.addParamTypeActionParamsDef("LayerTwo","getTransparency",f,[{nameKey:"transparency",type:"number"}]);c.addParamTypeActionParamsDef("LayerTwo","getVisibility",f,[{nameKey:"visibility",type:"bool"}]);c.addParamTypeActionParamsDef("LayerTwo","setTransparency",[{nameKey:"transparency",type:"number"}],f);c.addParamTypeActionParamsDef("LayerTwo","setVisibility",
[{nameKey:"visibility",type:"bool"}],f);c.addParamTypeActionParamsDef("LayerTwo","getChildren",f,[{nameKey:"children",type:"Object2DTwo",aggregationState:k},{nameKey:"childNumber",type:"number",noncritical:k}]);c.addParamTypeActionParamsDef("Object2DTwo","clone",[{nameKey:"parent",type:["Object2DTwo","LayerTwo"]}],[{nameKey:"clone",type:"Object2DTwo",noncritical:k}]);c.addParamTypeActionParamsDef("Object2DTwo","delete",f,f);c.addParamTypeActionParamsDef("Object2DTwo","findByName",[{nameKey:"name",
type:"string"},{nameKey:"asSubString",type:"bool",noncritical:k}],[{nameKey:"object(s)",type:"Object2DTwo",aggregationState:"both"},{nameKey:"numberOfObjects",type:"number",noncritical:k}]);c.addParamTypeActionParamsDef("Object2DTwo","getAbsPosition",f,[{nameKey:"position",type:"_Vector2_"}]);c.addParamTypeActionParamsDef("Object2DTwo","getChildren",f,[{nameKey:"children",type:"Object2DTwo",aggregationState:k},{nameKey:"childNumber",type:"number",noncritical:k}]);c.addParamTypeActionParamsDef("Object2DTwo",
"getName",f,[{nameKey:"name",type:"string"}]);c.addParamTypeActionParamsDef("Object2DTwo","getParent",f,[{nameKey:"parent",type:["Object2DTwo","LayerTwo"]}]);c.addParamTypeActionParamsDef("Object2DTwo","getPosition",f,[{nameKey:"position",type:"_Vector2_"}]);c.addParamTypeActionParamsDef("Object2DTwo","getPositionXY",f,[{nameKey:"X position",type:"number"},{nameKey:"Y position",type:"number"}]);c.addParamTypeActionParamsDef("Object2DTwo","getPositionX",f,[{nameKey:"X position",type:"number"}]);c.addParamTypeActionParamsDef("Object2DTwo",
"getPositionY",f,[{nameKey:"Y position",type:"number"}]);c.addParamTypeActionParamsDef("Object2DTwo","getRotation",f,[{nameKey:"rotation",type:"number"}]);c.addParamTypeActionParamsDef("Object2DTwo","getScale",f,[{nameKey:"scale",type:"_Vector2_"}]);c.addParamTypeActionParamsDef("Object2DTwo","getTransparency",f,[{nameKey:"transparency",type:"number"}]);c.addParamTypeActionParamsDef("Object2DTwo","getVisibility",f,[{nameKey:"visibility",type:"bool"}]);c.addParamTypeActionParamsDef("Object2DTwo","goTo",
[{nameKey:"endPosition",type:"_Vector2_"},{nameKey:"seconds",type:"number"}],f);c.addParamTypeActionParamsDef("Object2DTwo","getTranslationSpeed",f,[{nameKey:"speed",type:"_Vector2_"}]);c.addParamTypeActionParamsDef("Object2DTwo","getRotationSpeed",f,[{nameKey:"speed",type:"number"}]);c.addParamTypeActionParamsDef("Object2DTwo","getScalationSpeed",f,[{nameKey:"speed",type:"_Vector2_"}]);c.addParamTypeActionParamsDef("Object2DTwo","setTranslationSpeed",[{nameKey:"translatePerSecond",type:"_Vector2_"},
{nameKey:"seconds",type:"number",noncritical:k}],f);c.addParamTypeActionParamsDef("Object2DTwo","setRotationSpeed",[{nameKey:"rotatePerSecond",type:"number"},{nameKey:"seconds",type:"number",noncritical:k}],f);c.addParamTypeActionParamsDef("Object2DTwo","setScalationSpeed",[{nameKey:"scalePerSecond",type:"_Vector2_"},{nameKey:"seconds",type:"number",noncritical:k}],f);c.addParamTypeActionParamsDef("Object2DTwo","rotate",[{nameKey:"rotation",type:"number"}],[{nameKey:"rotationResult",type:"number",
noncritical:k}]);c.addParamTypeActionParamsDef("Object2DTwo","rotateTo",[{nameKey:"endRotation",type:"number"},{nameKey:"seconds",type:"number"}],f);c.addParamTypeActionParamsDef("Object2DTwo","scale",[{nameKey:"scale",type:"_Vector2_"}],[{nameKey:"scaleResult",type:"_Vector2_",noncritical:k}]);c.addParamTypeActionParamsDef("Object2DTwo","scaleTo",[{nameKey:"endScale",type:"_Vector2_"},{nameKey:"seconds",type:"number"}],f);c.addParamTypeActionParamsDef("Object2DTwo","setParent",[{nameKey:"parent",
type:["Object2DTwo","LayerTwo"],noncritical:k}],f);c.addParamTypeActionParamsDef("Object2DTwo","setPosition",[{nameKey:"position",type:"_Vector2_"}],f);c.addParamTypeActionParamsDef("Object2DTwo","setPositionXY",[{nameKey:"X position",type:"number"},{nameKey:"Y position",type:"number"}],f);c.addParamTypeActionParamsDef("Object2DTwo","setPositionX",[{nameKey:"X position",type:"number"}],f);c.addParamTypeActionParamsDef("Object2DTwo","setPositionY",[{nameKey:"Y position",type:"number"}],f);c.addParamTypeActionParamsDef("Object2DTwo",
"setRotation",[{nameKey:"rotation",type:"number"}],f);c.addParamTypeActionParamsDef("Object2DTwo","setScale",[{nameKey:"scale",type:"_Vector2_"}],f);c.addParamTypeActionParamsDef("Object2DTwo","setTransparency",[{nameKey:"transparency",type:"number"}],f);c.addParamTypeActionParamsDef("Object2DTwo","setVisibility",[{nameKey:"visibility",type:"bool"}],f);c.addParamTypeActionParamsDef("Object2DTwo","translate",[{nameKey:"translation",type:"_Vector2_"}],[{nameKey:"positionResult",type:"_Vector2_",noncritical:k}]);
c.addParamTypeActionParamsDef("Object2DTwo","translateXY",[{nameKey:"X translation",type:"number"},{nameKey:"Y translation",type:"number"}],[{nameKey:"X result",type:"number",noncritical:k},{nameKey:"Y result",type:"number",noncritical:k}]);c.addParamTypeActionParamsDef("Object2DTwo","translateX",[{nameKey:"X translation",type:"number"}],[{nameKey:"X result",type:"number",noncritical:k}]);c.addParamTypeActionParamsDef("Object2DTwo","translateY",[{nameKey:"Y translation",type:"number"}],[{nameKey:"Y result",
type:"number",noncritical:k}]);c.addParamTypeActionParamsDef("SpriteTwo","clone",[{nameKey:"parent",type:["Object2DTwo","LayerTwo"]}],[{nameKey:"clone",type:"SpriteTwo",noncritical:k}]);c.addParamTypeActionParamsDef("SpriteTwo","getCurrentAnimationFPS",f,[{nameKey:"fps",type:"number"}]);c.addParamTypeActionParamsDef("SpriteTwo","getCurrentAnimationLoop",f,[{nameKey:"loop",type:"bool"}]);c.addParamTypeActionParamsDef("SpriteTwo","getCurrentAnimationName",f,[{nameKey:"animationName",type:"string"}]);
c.addParamTypeActionParamsDef("SpriteTwo","setAnimation",[{nameKey:"animationName",type:"string"}],f);c.addParamTypeActionParamsDef("SpriteTwo","setCurrentAnimationFPS",[{nameKey:"fps",type:"number"}],f);c.addParamTypeActionParamsDef("SpriteTwo","setCurrentAnimationLoop",[{nameKey:"loop",type:"bool"}],f);c.addParamTypeActionParamsDef("TextTwo","clone",[{nameKey:"parent",type:["Object2DTwo","LayerTwo"]}],[{nameKey:"clone",type:"TextTwo",noncritical:k}]);c.addParamTypeActionParamsDef("TextTwo","setText",
[{nameKey:"text",type:"string"}],f);c.addParamTypeActionParamsDef("TextTwo","setFontSize",[{nameKey:"fontSize",type:"number"}],f);c.addParamTypeActionParamsDef("TextTwo","setBorderWidth",[{nameKey:"borderWidth",type:"number"}],f);c.addParamTypeActionParamsDef("TextTwo","setProperties",[{nameKey:"text",type:"string",noncritical:k},{nameKey:"fontSize",type:"number",noncritical:k},{nameKey:"borderWidth",type:"number",noncritical:k}],f);c.addParamTypeActionParamsDef("BitmapTwo","clone",[{nameKey:"parent",
type:["Object2DTwo","LayerTwo"]}],[{nameKey:"clone",type:"BitmapTwo",noncritical:k}])},implementation:{Manager:e,config:{}}}};v("PENGO.client.shared.runEngine.two.actuators.setTextProperties");
window.PENGO.client.shared.runEngine.two.actuators.setTextProperties.resolve=function(){function e(d,g,b,m){var a=new p.runEngine.Blackbox(d,g,b,m,"SetTextPropertiesTwo");a.createInParam("target",0);a.createInput("do",0,function(c){a.inParameters.target&&(a.inParameters.text!==f&&(a.inParameters.target.text=""+a.inParameters.text),a.inParameters.fontSize!==f&&(a.inParameters.target.fontSize=a.inParameters.fontSize),a.inParameters.borderWidth!==f&&(a.inParameters.target.borderWidth=a.inParameters.borderWidth),
a.fireOutput(0,c))});a.createOutput("done",0);return a}var p;return{dependencies:function(d){p=d;p.runEngine.blackboxRepository.addBlackboxType("SetTextPropertiesTwo",e);p.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("SetTextPropertiesTwo","text","");p.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("SetTextPropertiesTwo","fontSize",0);p.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("SetTextPropertiesTwo","borderWidth",0)},implementation:{na:e}}};v("PENGO.client.ide.runEngine.two.actuators.setTextProperties");
window.PENGO.client.ide.runEngine.two.actuators.setTextProperties.resolve=function(){function e(b){var d={};b.getProperty("setText")&&(d.t=k);b.getProperty("setFontSize")&&(d.fs=k);b.getProperty("setBorderWidth")&&(d.bw=k);return d}function p(b,d){b.setProperty("setText",d.t||l);b.setProperty("setFontSize",d.fs||l);b.setProperty("setBorderWidth",d.bw||l)}var d,g=function m(a,c,h,g){a=d.runEngine.actuators.setTextProperties.base.na(a,c,h,g);a.addBoolProperty("setText",m.prototype.Oa,f,k);a.addBoolProperty("setFontSize",
m.prototype.Na,f,l);a.addBoolProperty("setBorderWidth",m.prototype.Ma,f,l);return a};g.prototype={Oa:function(d,a){d?a.createInParam("text",1):a.delInParam(1)},Na:function(d,a){d?a.createInParam("fontSize",2):a.delInParam(2)},Ma:function(d,a){d?a.createInParam("borderWidth",3):a.delInParam(3)}};return{dependencies:function(m){d=m;d.runEngine.blackboxRepository.updateBlackboxTypeToIDE("SetTextPropertiesTwo",g,"SetTextProperties","2D/sync");d.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("SetTextPropertiesTwo",
f,p,e);d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SetTextPropertiesTwo","target",l,"TextTwo","The texts whose properties are going to be updated");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SetTextPropertiesTwo","text",l,"string","A new text");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SetTextPropertiesTwo","fontSize",l,"number","A new font size");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SetTextPropertiesTwo",
"borderWidth",l,"number","A new border width. If 0 there is no border")},implementation:{na:g}}};v("PENGO.client.shared.runEngine.two.actuators.spriteText");
window.PENGO.client.shared.runEngine.two.actuators.spriteText.resolve=function(){function e(b,a){b.anchor=a.A;b["text alignment"]=a.TA===f?"left":a.TA;b["max width"]=a.M;b["clear before"]=a.C===f?k:a.C}function p(){}function d(d,a,c,h){var e=new b.runEngine.Blackbox(d,a,c,h,"SpriteTextTWO");e.createInParam("sprite text",0);e.createInParam("text",1);e.createInParam("parent",2);var p=e.createOutput("done",0),A=e.createOutput("failed",1),D=b.runEngine.getManager();e.createInput("create",0,function(a){function c(a){var b=
{x:0,y:0};K[a].width!==F&&("center"==P?b.x=0.5*(F-K[a].width):"right"==P&&(b.x=F-K[a].width));b.y=a*h.h;"CENTER"==I[0]?b.y-=0.5*K.length*h.h:"BOTTOM"==I[0]&&(b.y-=K.length*h.h);I[1]==f||"CENTER"==I[1]?b.x-=0.5*F:"RIGHT"==I[1]&&(b.x-=F);return b}function b(a){for(var c,d,m=0,e=0;m<a.length&&!y;)c=a[m],c=g(c),d=h.spriteDef.animations[c],d!==f?e+=d.frameWidth:(e+=20,console.warn('Character "'+c+'" not found in spriteDef')),m++;return y===k?-1:e}function d(c,b,m){c=K[c].text;for(var n,q,p={},u=0;u<c.length;u++)if(D.n(h,
e.inParameters,p,a,D))n=c[u],n=g(n),q=p.clone,q.x=b,q.y=m,q.scaleX=q.scaleY=1,q.rotation=0,q.visible=k,q.alpha=1,q.anchorType="TOP_LEFT",h.spriteDef.animations[n]!==f?q.startAnimation(n):(q._w=20,q._h=0!==Object.keys(h.spriteDef.animations).length?h.spriteDef.animations[Object.keys(h.spriteDef.animations)[0]].frameHeight:20,q._image=f),b+=q.currentAnimation.frameWidth;else{console.warn("Clone failed for character for spriteFont");break}}var h=e.inParameters["sprite text"],m=e.inParameters.text,u=
e.inParameters.parent,y=l,I=e.anchor.split("_"),J=0,P=e["text alignment"],K=[],O,M,H,N,F=0,G;if(h&&h.spriteDef!==f&&u&&m!==f){G=h.spriteDef.animations.space?h.spriteDef.animations.space.frameWidth:20;m+="";J=e["max width"];if(0===J)F=b(m),K.push({text:m,width:F});else if(G!==f){O=m.split(" ");M="";for(m=H=0;m<O.length&&!y;)N=b(O[m]),-1!==N?H+N+G<J?(H+=N,0<M.length&&(M+=" ",H+=G),M+=O[m],m++):0!==H?(K.push({text:M,width:H}),F<H&&(F=H),M="",H=0):(K.push({text:O[m],width:N}),F<J&&(F=J),m++):y=k;!y&&
""!=M&&(K.push({text:M,width:H}),F<H&&(F=H))}else y=k,console.warn('Character "space" must be defined for multiline texts');if(!y){if(e["clear before"]===k)for(;0<u.children.length;)D.J(u.children[0],f,f,a,D);for(m=0;m<K.length;m++)u=c(m),d(m,u.x,u.y)}}else y=k;y?e.fireOutput(A,a):e.fireOutput(p,a)});return e}function g(b){var a=b;"."===b?a="point":" "===b?a="space":"$"===b?a="dollar":"%"===b?a="percentile":"'"===b&&(a="apostrophe");return a}var b;return{dependencies:function(g){g.runEngine.blackboxRepository.addBlackboxType("SpriteTextTWO",
d);g.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("SpriteTextTWO",p,e);b=g},implementation:{ra:d}}};v("PENGO.client.ide.runEngine.two.actuators.spriteText");
window.PENGO.client.ide.runEngine.two.actuators.spriteText.resolve=function(){function e(){}function p(b,a){a.A?b.setProperty("anchor",a.A):b.setProperty("anchor","CENTER");a.TA?b.setProperty("text alignment",a.TA):b.setProperty("text alignment","left");a.M&&b.setProperty("max width",a.M);a.C!==f?b.setProperty("clear before",a.C):b.setProperty("clear before",k)}function d(b){return{A:b.getProperty("anchor"),TA:b.getProperty("text alignment"),M:b.getProperty("max width"),C:b.getProperty("clear before")}}
function g(d,a,c,h){d=b.runEngine.actuators.spriteText.base.ra(d,a,c,h);d.addSelectionProperty("anchor","TOP_LEFT TOP_CENTER TOP_RIGHT CENTER_LEFT CENTER CENTER_RIGHT BOTTOM_LEFT BOTTOM_CENTER BOTTOM_RIGHT".split(" "),function(a,c){c.anchor=a},f,"CENTER",l);d.addSelectionProperty("text alignment",["left","center","right"],function(a,c){c["text alignment"]=a},f,"left",l);d.addNumberProperty("max width",function(a,c){c["max width"]=a},f,0);d.addBoolProperty("clear before",function(a,c){c["clear before"]=
a},f,k);return d}var b;return{dependencies:function(m){m.runEngine.blackboxRepository.updateBlackboxTypeToIDE("SpriteTextTWO",g,"SpriteText","Sprites/sync");m.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("SpriteTextTWO",e,p,d);m.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SpriteTextTWO","sprite text",l,"SpriteTwo","The Sprite Text to interact with");m.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SpriteTextTWO","text",l,"string",
"text to set");m.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SpriteTextTWO","parent",l,["Object2DTwo","LayerTwo"],"the parent where the text sprites will be added");m.runEngine.blackboxRepository.setOuputsFireModeToBlackboxType("SpriteTextTWO",["sync","sync"]);b=m},implementation:{ra:g}}};v("PENGO.client.shared.runEngine.two.actuators.getChildren");
window.PENGO.client.shared.runEngine.two.actuators.getChildren.resolve=function(){function e(d,g,b,e){var a=new p.runEngine.Blackbox(d,g,b,e,"GetChildrenTwo");a.createInParam("target",0);a.createOutParam("children",0);a.createOutParam("childNumber",1);a.createInput("get",0,function(c){if(a.inParameters.target&&a.outParameters.children){var b=a.inParameters.target.children.slice();p.runEngine.getManager().m(b,a.getOutParamType(0));a.outParameters.children=b;a.outParameters.childNumber=b.length;a.fireOutput(0,
c)}});a.createOutput("done",0);return a}var p;return{dependencies:function(d){p=d;p.runEngine.blackboxRepository.addBlackboxType("GetChildrenTwo",e)},implementation:{fa:e}}};v("PENGO.client.ide.runEngine.two.actuators.getChildren");
window.PENGO.client.ide.runEngine.two.actuators.getChildren.resolve=function(){function e(d,g,b,e){return p.runEngine.actuators.getChildren.base.fa(d,g,b,e)}var p;return{dependencies:function(d){d.runEngine.blackboxRepository.updateBlackboxTypeToIDE("GetChildrenTwo",e,"GetChildren","2D/sync");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("GetChildrenTwo","target",l,["Object2DTwo","LayerTwo"],"The object whose children are searched");d.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("GetChildrenTwo",
"children",k,"Object2DTwo","Children");d.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("GetChildrenTwo","childNumber",l,"number","Number of children");p=d},implementation:{fa:e}}};v("PENGO.client.shared.runEngine.two.sensors.spritePanel");
window.PENGO.client.shared.runEngine.two.sensors.spritePanel.resolve=function(){function e(b){b.inParameters.target&&(b.inParameters.target.stopAnimation(),b.freeSpritePanel())}function p(b,d){b.normalAnimation=d.N;b.overAnimation=d.O;b.pressedAnimation=d.P;b.disabledAnimation=d.D}function d(b,d,a,c){function h(a){if((a=a||window.event)&&a.touches){R||(u.removeEventListener("mousedown",D,l),u.removeEventListener("mouseup",L,l),u.removeEventListener("mousemove",E,l),R=k);z=l;for(B=0;B<a.touches.length&&
!z;B+=1)z=x(a.touches[B]);z?(I||n(k),D({button:0})):I&&n(l)}}function e(a){if((a=a||window.event)&&a.touches){z=l;for(B=0;B<a.touches.length&&!z;B+=1)z=x(a.touches[B]);if(I&&(!z||0===a.touches.length))J&&(u.removeEventListener("mouseup",L,l),J=l,y&&q(y,r.normalAnimation),b.callOnNextUpdateDraw(N),K++),u.addEventListener("mousedown",D,l),u.addEventListener("mousemove",E,l),R=l}}function p(a){A(a);a&&(a.touches&&0===a.touches.length)&&(u.addEventListener("mousedown",D,l),u.addEventListener("mousemove",
E,l),R=l)}function A(a){if((a=a||window.event)&&a.touches){z=l;for(B=0;B<a.touches.length&&!z;B+=1)z=x(a.touches[B]);z?I||n(k):I&&n(l)}}function D(a){a=a||window.event;"mousedown"===a.type&&(I=x(a));!J&&(I&&0===a.button)&&(J=k,y&&q(y,r.pressedAnimation),b.callOnNextUpdateDraw(H),P++,u.addEventListener("mouseup",L,l))}function x(a){var c,b;if(y){b=c=0;var d=w.renderMgr._scaleX||1,h=w.renderMgr._scaleY||1;if(a.pageX||a.pageY)c=a.pageX,b=a.pageY;else if(a.clientX||a.clientY)c=a.clientX+document.body.scrollLeft+
document.documentElement.scrollLeft,b=a.clientY+document.body.scrollTop+document.documentElement.scrollTop;var g=a.target,e=0;a=0;for(var m=g.clientWidth,n=g.clientHeight;null!=g;)e+=g.offsetLeft+g.clientLeft,a+=g.offsetTop+g.clientTop,g=g.offsetParent;c=w.renderMgr.initialWidth*(c-e)/(m*d);b=w.renderMgr.initialHeight*(b-a)/(n*h);return 0<w.getIntersectingObjects(c,b,[y],{pixelPerfect:r.inParameters.pixelPerfect}).length}return l}function n(a){(I=a)?(q(y,r.overAnimation),b.callOnNextUpdateDraw(F),
O++):(q(y,r.normalAnimation),b.callOnNextUpdateDraw(G),M++,J&&(u.removeEventListener("mouseup",L,l),J=l))}function E(a){a=a||window.event;if(y){var c=I;I=x(a);c!=I&&(I?(q(y,r.overAnimation),b.callOnNextUpdateDraw(F),O++):(q(y,r.normalAnimation),b.callOnNextUpdateDraw(G),M++,J&&(u.removeEventListener("mouseup",L,l),J=l)))}}function q(a,c){c!=f&&a.startAnimation(c)}var r=new g.runEngine.Blackbox(b,d,a,c,"SpritePanelTWO"),w=g.runEngine.getManager().a,u=b.getContainer();r.createInParam("target",0);r.createInParam("pixelPerfect",
1);r.normalAnimation=f;r.overAnimation=f;r.pressedAnimation=f;r.disabledAnimation=f;r.createOutput("down",0);r.createOutput("up",1);r.createOutput("enter",2);r.createOutput("exit",3);var y=f,I=l,J=l,P=0,K=0,O=0,M=0,H=function U(a){P--;0<P&&b.callOnThisUpdateDraw(U);r.fireOutput(0,a)},N=function V(a){K--;0<K&&b.callOnThisUpdateDraw(V);r.fireOutput(1,a)},F=function W(a){O--;0<O&&b.callOnThisUpdateDraw(W);r.fireOutput(2,a)},G=function X(a){M--;0<M&&b.callOnThisUpdateDraw(X);r.fireOutput(3,a)},L=function Y(a){a=
a||window.event;J&&0===a.button&&(u.removeEventListener("mouseup",Y,l),J=l,y&&q(y,r.overAnimation),b.callOnNextUpdateDraw(N),K++,u.addEventListener("mousedown",D,l),u.addEventListener("mousemove",E,l))},B,z=l,R=l;r.freeSpritePanel=function(){y=f;J=l;u.removeEventListener("mousedown",D,l);u.removeEventListener("mouseup",L,l);u.removeEventListener("mousemove",E,l);u.removeEventListener("touchstart",h,l);u.removeEventListener("touchend",e,l);u.removeEventListener("touchcancel",p,l);u.removeEventListener("touchmove",
A,l)};r.createInput("activate",0,function(){y||(y=r.inParameters.target);y&&(q(y,r.normalAnimation),u.addEventListener("mousedown",D,l),u.addEventListener("mousemove",E,l),u.addEventListener("touchstart",h,l),u.addEventListener("touchend",e,l),u.addEventListener("touchcancel",p,l),u.addEventListener("touchmove",A,l))});r.createInput("disable",1,function(){y||(y=r.inParameters.target);y&&(q(y,r.disabledAnimation),r.freeSpritePanel())});return r}var g;return{dependencies:function(b){b.runEngine.blackboxRepository.addBlackboxType("SpritePanelTWO",
d);b.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("SpritePanelTWO",e,p);b.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("SpritePanelTWO","pixelPerfect",l);g=b},implementation:{qa:d}}};v("PENGO.client.ide.runEngine.two.sensors.spritePanel");
window.PENGO.client.ide.runEngine.two.sensors.spritePanel.resolve=function(){function e(a,c){c.N&&(a.normalAnimation=c.N);c.O&&(a.overAnimation=c.O);c.P&&(a.pressedAnimation=c.P);c.D&&(a.disabledAnimation=c.D);var d=a.inParameters.target;d&&b(a,d);a.subscribeToConnectedParamValueChange(0,k,function(c){b(a,c)},function(){b(a,f)})}function p(a){return{N:a.normalAnimation,O:a.overAnimation,P:a.pressedAnimation,D:a.disabledAnimation}}function d(a,c,b,d){a=m.runEngine.sensors.spritePanel.base.qa(a,c,b,
d);a.addSelectionProperty("onNormalAnim",[],function(a,c){c.normalAnimation=a},f,"",l);a.addSelectionProperty("onOverAnim",[],function(a,c){c.overAnimation=a},f,"",l);a.addSelectionProperty("onPressAnim",[],function(a,c){c.pressedAnimation=a},f,"",l);a.addSelectionProperty("onDisableAnim",[],function(a,c){c.disabledAnimation=a},f,"",l);return a}function g(a,c,d,g,e){d&&(g&&0===e)&&(b(a,a.inParameters.target),a.subscribeToConnectedParamValueChange(0,k,function(c){b(a,c)},function(){b(a,f)}))}function b(a,
c){var b=[];if(c&&c.spriteDef)for(var d in c.spriteDef.animations)b.push(d);a.changePropertiesTypes("onNormalAnim",b);a.changePropertiesTypes("onOverAnim",b);a.changePropertiesTypes("onPressAnim",b);a.changePropertiesTypes("onDisableAnim",b);0<b.length&&c&&c.spriteDef?(""!==a.normalAnimation?-1!==b.indexOf(a.normalAnimation)?a.setProperty("onNormalAnim",a.normalAnimation):c.spriteDef.defaultAnimation?a.setProperty("onNormalAnim",c.spriteDef.defaultAnimation):a.setProperty("onNormalAnim",""):c.spriteDef.defaultAnimation?
a.setProperty("onNormalAnim",c.spriteDef.defaultAnimation):a.setProperty("onNormalAnim",""),""!==a.overAnimation?-1!==b.indexOf(a.overAnimation)?a.setProperty("onOverAnim",a.overAnimation):a.setProperty("onOverAnim",a.normalAnimation):a.setProperty("onOverAnim",a.normalAnimation),""!==a.pressedAnimation?-1!==b.indexOf(a.pressedAnimation)?a.setProperty("onPressAnim",a.pressedAnimation):a.setProperty("onPressAnim",a.normalAnimation):a.setProperty("onPressAnim",a.normalAnimation),""!==a.disabledAnimation?
-1!==b.indexOf(a.disabledAnimation)?a.setProperty("onDisableAnim",a.disabledAnimation):a.setProperty("onDisableAnim",a.normalAnimation):a.setProperty("onDisableAnim",a.normalAnimation)):(a.normalAnimation="",a.overAnimation="",a.pressedAnimation="",a.disabledAnimation="")}var m;return{dependencies:function(a){a.runEngine.blackboxRepository.updateBlackboxTypeToIDE("SpritePanelTWO",d,"SpriteAsButton","Sprites/sensors");a.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("SpritePanelTWO",
f,e,p);a.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SpritePanelTWO","target",l,"SpriteTwo","The Sprite to use as button");a.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("SpritePanelTWO","pixelPerfect",l,"bool","true if the pick must be done checking the pixel visibility");a.runEngine.blackboxRepository.setOnPortChangedCallbackToBlackboxType("SpritePanelTWO",g);a.runEngine.blackboxRepository.setOuputsFireModeToBlackboxType("SpritePanelTWO",["async",
"async","async","async"]);m=a},implementation:{qa:d}}};v("PENGO.client.shared.runEngine.two.actuators.resetScene");
window.PENGO.client.shared.runEngine.two.actuators.resetScene.resolve=function(){function e(d,g,b,e){var a=new p.runEngine.Blackbox(d,g,b,e,"RScnTwo"),c=p.runEngine.getManager();a.createInParam("SceneToReset",0);a.createOutput("reseted",0);a.createInput("reset",0,function(b){a.inParameters.SceneToReset&&(c.v(a.inParameters.SceneToReset,f,f,b,c),a.fireOutput(0,b))});return a}var p;return{dependencies:function(d){d.runEngine.blackboxRepository.addBlackboxType("RScnTwo",e,f,f);p=d},implementation:{za:e}}};v("PENGO.client.ide.runEngine.two.actuators.resetScene");window.PENGO.client.ide.runEngine.two.actuators.resetScene.resolve=function(){return{dependencies:function(e){e.runEngine.blackboxRepository.updateBlackboxTypeToIDE("RScnTwo",f,"ResetScene","2D/sync");e.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("RScnTwo","SceneToReset",l,"SceneTwo","The scene to reset")}}};v("PENGO.client.shared.runEngine.two.actuators.findByName");
window.PENGO.client.shared.runEngine.two.actuators.findByName.resolve=function(){var e,p=function g(b,m,a,c){var h=new e.runEngine.Blackbox(b,m,a,c,"FindByNameTwo");h.createInParam("name",0);h.createInParam("target",1);h.createInParam("containsName",2);h.createOutParam("result",0);h.createOutParam("numberOfElements",1);h.createInput("do",0,function(a){var c,b,m,p=[],n=Array.isArray(h.outParameters.result),E=h.inParameters.target,q=h.inParameters.containsName,r=h.inParameters.name;if(E&&r!==f){var r=
r.toString(),w=h.getOutParamType(0),u=l;if("SceneTwo"==h.getInParamType(1))for(c=0;c<E.layers.length&&!u;c++)if(m=E.layers[c],"LayerTwo"==w){if(q&&-1!=m.name.indexOf(r)||m.name==r)p.push(m),n||(u=k)}else for(b=0;b<m.children.length&&!u;b++)g.prototype.K(m.children[b],r,p,q),0<p.length&&!n&&(u=k);else g.prototype.K(E,r,p,q,!n);e.runEngine.getManager().m(p,h.getOutParamType(0));n?(h.outParameters.result=p,h.outParameters.numberOfElements=p.length):0<p.length?(h.outParameters.result=p[0],h.outParameters.numberOfElements=
1):h.outParameters.numberOfElements=0;h.fireOutput(0,a)}});h.createOutput("done",0);return h};p.prototype={K:function(g,b,e,a,c){if(a&&-1!=g.name.indexOf(b)||g.name==b)if(e.push(g),c)return;for(var h=0;h<g.children.length&&!(p.prototype.K(g.children[h],b,e,a),c&&0<e.length);h++);}};return{dependencies:function(g){e=g;e.runEngine.blackboxRepository.addBlackboxType("FindByNameTwo",p);g.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("FindByNameTwo","containsName",l)},implementation:{da:p}}};v("PENGO.client.ide.runEngine.two.actuators.findByName");
window.PENGO.client.ide.runEngine.two.actuators.findByName.resolve=function(){function e(d,g,b,e){return p.runEngine.actuators.findByName.base.da(d,g,b,e)}var p;return{dependencies:function(d){d.runEngine.blackboxRepository.updateBlackboxTypeToIDE("FindByNameTwo",e,"FindByName","2D/sync");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("FindByNameTwo","target",l,["Object2DTwo","LayerTwo","SceneTwo"],"Hierarchy to search in");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("FindByNameTwo",
"name",l,"string","Name to find");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("FindByNameTwo","containsName",l,"bool","Specify if object's name contains the input name as a substring");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("FindByNameTwo","target",l,["Object2DTwo","LayerTwo","SceneTwo"],"Hierarchy to search in");d.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("FindByNameTwo","result","both",["Object2DTwo","LayerTwo"],
"Found elements");d.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("FindByNameTwo","numberOfElements",l,"number","the number of found elements");p=d},implementation:{da:e}}};v("PENGO.client.shared.runEngine.two.actuators.picking");
window.PENGO.client.shared.runEngine.two.actuators.picking.resolve=function(){function e(g,b,e,a){var c=new d.runEngine.Blackbox(g,b,e,a,"PickTwo"),h=d.runEngine.getManager(),p=h.a;c.createInParam("pickPosition",0);c.createInParam("pixelPerfect",1);c.createInParam("radius",2);c.createOutParam("pickedObjects",0);c.createOutParam("numberOfObjects",1);var C=[],A=[],D=k;c.updateInParamsKeyList=function(a){a?(D=k,C.length=0,A=c.getInParams(),A.splice(0,3)):(D=l,C.length=0,A.length=0)};c.createOutput("true",
0);c.createOutput("false",1);c.createInput("test",0,function(a){var b,d,g,e=c.getInParamValue(3);if(g=c.getInParamValue(0)){if(D){e=[];for(b=C.length=0;b<A.length;b++)if(d=c.inParameters[A[b].nameKey])e.push(d),C.push(A[b].index)}b={numObjs:f,pixelPerfect:c.getInParamValue(1),radius:f};Array.isArray(c.getOutParamValue(0))||(b.numObjs=1);b.pixelPerfect||(b.radius=c.getInParamValue(2));if((g=p.getIntersectingObjects(g.x,g.y,e,b,k))&&0<g.length){c.isOutParamConnected(0)&&(h.m(g,c.getOutParamType(0)),
c.outParameters.pickedObjects=1===b.numObjs?g[0]:g);c.outParameters.numberOfObjects=g.length;if(D)for(b=0;b<g.length;b++)d=e.indexOf(g[b]),-1!=d&&c.fireOutput(C[d]-1,a);c.fireOutput(0,a)}else 1===b.numObjs?c.outParameters.pickedObjects=f:c.outParameters.pickedObjects.length=0,c.outParameters.numberOfObjects=0,c.fireOutput(1,a)}});return c}function p(d,b){switch(b.C){case 0:d.updateInParamsKeyList(l);break;case 1:d.updateInParamsKeyList(l);break;case 2:d.updateInParamsKeyList(k);break;default:d.updateInParamsKeyList(l)}}
var d;return{dependencies:function(g){g.runEngine.blackboxRepository.addBlackboxType("PickTwo",e);g.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("PickTwo",f,p);g.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("PickTwo","pixelPerfect",k);g.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("PickTwo","radius",0);d=g},implementation:{ma:e}}};v("PENGO.client.ide.runEngine.two.actuators.picking");
window.PENGO.client.ide.runEngine.two.actuators.picking.resolve=function(){function e(a,c,d,g){a=b.runEngine.actuators.picking.base.ma(a,c,d,g);a.onLocalModification=l;a.addSelectionProperty("Target test",["Complete scene","Collection","Single objects"],function(a,c){function b(a){for(var c=a.getNumberOfInParams()-1;2<c;c--)a.delInParam(c),a.delOutput(c-1)}switch(a){case "Collection":c.hasParamConnector("objToTest1",k)&&b(c);c.hasParamConnector("objectsCollection",k)?c.changeParamConnectorName("objectsCollection",
k,"objects"):c.hasParamConnector(3,k)||c.createInParam("objects",3);e.prototype.$(c);break;case "Single objects":c.delInParam("objectsCollection");c.delInParam("objects");e.prototype.ba(c);3===c.getNumberOfInParams()&&e.prototype.s(c);break;case "Complete scene":b(c),c.delInParam("objectsCollection"),c.delInParam("objects"),e.prototype.aa(c)}},f,"Complete scene");a.setEditCallbacks({"Add param to test":{"do":e.prototype.s,undo:e.prototype.I},"Del last param":{"do":e.prototype.I,undo:e.prototype.s}});
return a}function p(a,c){switch(c.C){case 0:e.prototype.aa(a);a.setProperty("Target test","Complete scene");break;case 2:e.prototype.ba(a);a.setProperty("Target test","Single objects");for(var d=a.getNumberOfInParams()-3;0<d;d-=1)b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("PickTwo","objToTest"+d.toString(),l,"Object2DTwo","An object to test if there is in the given position.");break;default:e.prototype.$(a),a.setProperty("Target test","Collection")}}function d(a){var c=
{};switch(a.getProperty("Target test")){case "Complete scene":c.C=0;break;case "Collection":c.C=1;break;case "Single objects":c.C=2}return c}function g(a,c,b,d,g){if(b&&(!a.onLocalModification&&d&&2<g)&&(c=a.getProperty("Target test"),2<g&&"Single objects"===c)){a.onLocalModification=k;c=a.getNumberOfInParams();if(a.isParamConnectorConnected(g,k)){if(c<m+3){g=k;for(b=3;b<c;b+=1)g=g&&a.isParamConnectorConnected(b,k);g&&e.prototype.s(a)}}else if(4<c&&g===c-2&&!a.isParamConnectorConnected(g+1,k))for(;!a.isParamConnectorConnected(c-
2,k)&&4<c;)e.prototype.I(a),c=a.getNumberOfInParams();a.onLocalModification=l}}var b,m=15;e.prototype={s:function(a){var c=a.getNumberOfInParams(),d="objToTest"+(c-2).toString();a.createInParam(d,c);b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("PickTwo",d,l,"Object2DTwo","An object to test if there is in the given position.");a.setParamConnectorValidTypes(c,k,"Object2DTwo");a.createOutput("obj"+(c-2).toString()+" picked",c-1);a.updateInParamsKeyList(k)},I:function(a){var c=
a.getNumberOfInParams()-1;a.delInParam(c);a.delOutput(c-1);a.updateInParamsKeyList(k)},$:function(a){a.updateInParamsKeyList(l);a.setCallbackToGetAvailableEditCallbacksSchema(f)},ba:function(a){a.updateInParamsKeyList(k);a.setCallbackToGetAvailableEditCallbacksSchema(function(){var c=[];m+3>a.getNumberOfInParams()&&c.push("Add param to test");4<a.getNumberOfInParams()&&c.push("Del last param");return c})},aa:function(a){a.updateInParamsKeyList(l);a.setCallbackToGetAvailableEditCallbacksSchema(f)}};
return{dependencies:function(a){a.runEngine.blackboxRepository.updateBlackboxTypeToIDE("PickTwo",e,"PickOnScreen","2D/sync");a.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("PickTwo",f,p,d);a.runEngine.blackboxRepository.setOnPortChangedCallbackToBlackboxType("PickTwo",g);a.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("PickTwo","pickPosition",l,"_Vector2_","The position where make the pick in the screen");a.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("PickTwo",
"pixelPerfect",l,"bool","true if the pick must be done checking the pixel visibility");a.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("PickTwo","radius",l,"number","radius to set in world coords. Not used if pixelPerfect is set to true");a.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("PickTwo","objectsCollection",k,"Object2DTwo","The objects to test if there are in the given position.");a.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("PickTwo",
"objects",k,"Object2DTwo","The objects to test if there are in the given position.");a.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("PickTwo","pickedObjects",f,"Object2DTwo","The objects in the given position, (can be a Collection or a single)");a.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("PickTwo","numberOfObjects",l,"number","number of found objects");b=a},implementation:{ma:e}}};v("PENGO.client.shared.runEngine.two.sensors.spriteAnimationSelector");
window.PENGO.client.shared.runEngine.two.sensors.spriteAnimationSelector.resolve=function(){function e(b){b.previousAnimation=f}function p(b,d,a,c){var h=new g.runEngine.Blackbox(b,d,a,c,"_SpriteAnimationSelector_TWO");h.createInParam("sprite",0);h.previousAnimation=f;h.createOutput("started",0);h.createOutput("changed",1);h.createOutput("paused",2);h.createOutput("finished",3);h.createInput("pause",0,function(a){var c=h.inParameters.sprite;c&&(c.paused=!c.paused,h.fireOutput(2,a))});return h}function d(b,
d){function a(){c.callOnNextUpdateDraw(function(a){b.fireOutput(3,a)})}var c=b.getRunner();return function(c){var g=b.inParameters.sprite;g&&(g.startAnimation(d,f,f,f,a),b.previousAnimation!==d&&(b.previousAnimation=d,b.fireOutput(1,c)),b.fireOutput(0,c))}}var g;return{dependencies:function(b){b.runEngine.blackboxRepository.addBlackboxType("_SpriteAnimationSelector_TWO",p);b.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("_SpriteAnimationSelector_TWO",e,f);b.runEngine.blackboxRepository.setInputCallbackCreatorToBlackboxType("_SpriteAnimationSelector_TWO",
d,f);g=b},implementation:{Wa:p}}};v("PENGO.client.ide.runEngine.two.sensors.spriteAnimationSelector");
window.PENGO.client.ide.runEngine.two.sensors.spriteAnimationSelector.resolve=function(){function e(g){g.isParamConnectorConnected(0,k)&&g.subscribeToConnectedParamValueChange(0,k,function(b){d(g,b)},function(){d(g,f)})}function p(g,b,e,a,c){e&&(a&&0===c)&&(g.isParamConnectorConnected(0,k)?((b=g.inParameters.sprite)&&d(g,b),g.subscribeToConnectedParamValueChange(0,k,function(a){d(g,a)},function(){d(g,f)})):(d(g,f),g.unsubscribeToConnectedParamValueChange(0,k)))}function d(d,b){var e,a,c;if(b!==f&&
b.spriteDef!==f&&b.spriteDef.animations!==f){c=d.getInputs();delete c.pause;a=[];for(e in b.spriteDef.animations)c[e]?delete c[e]:a.push(e);for(e in c)d.delInput(c[e]);c=[];for(e=1;e<d.getInputsLength();e+=1)d.hasEventConnector(e,k)||c.push(e);for(e=0;e<a.length;e+=1)c[e]!==f?d.createInput(a[e],c[e],f):d.createInput(a[e],d.getInputsLength(),f)}else for(e=1;e<d.getInputsLength();e+=1)d.delInput(e)}return{dependencies:function(d){d.runEngine.blackboxRepository.updateBlackboxTypeToIDE("_SpriteAnimationSelector_TWO",
f,"AnimationSelector","Sprites/async");d.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("_SpriteAnimationSelector_TWO",f,e,f);d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("_SpriteAnimationSelector_TWO","sprite",l,"SpriteTwo","The Sprite to interact with");d.runEngine.blackboxRepository.setOnPortChangedCallbackToBlackboxType("_SpriteAnimationSelector_TWO",p);d.runEngine.blackboxRepository.setOuputsFireModeToBlackboxType("_SpriteAnimationSelector_TWO",["sync",
"sync","sync","async"])}}};v("PENGO.client.shared.runEngine.two.actuators.getAbsolutePosition");
window.PENGO.client.shared.runEngine.two.actuators.getAbsolutePosition.resolve=function(){function e(d,g,b,e){var a=new p.runEngine.Blackbox(d,g,b,e,"GetAbsolutePositionTwo"),c,h;a.createInParam("target",0);a.createOutParam("position",0);a.createInput("get",0,function(b){if((c=a.inParameters.target)&&a.outParameters.position)t.set(0,0),c.dirtyTransform&&(h=c._parent?c._parent.finalTransform:f,c._updateObject2d(0,0,h,1,l)),c.finalTransform.transformVector2(t),a.outParameters.position.x=t.x,a.outParameters.position.y=
t.y,a.fireOutput(0,b)});a.createOutput("done",0);var t=new window.TWO.core.math.Vector2;return a}var p;return{dependencies:function(d){p=d;p.runEngine.blackboxRepository.addBlackboxType("GetAbsolutePositionTwo",e)},implementation:{ea:e}}};v("PENGO.client.ide.runEngine.two.actuators.getAbsolutePosition");
window.PENGO.client.ide.runEngine.two.actuators.getAbsolutePosition.resolve=function(){function e(d,g,b,e){return p.runEngine.actuators.getAbsolutePosition.base.ea(d,g,b,e)}var p;return{dependencies:function(d){d.runEngine.blackboxRepository.updateBlackboxTypeToIDE("GetAbsolutePositionTwo",e,"GetAbsolutePosition","2D/sync");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("GetAbsolutePositionTwo","target",l,["Object2DTwo"],"The object to get the position from");d.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("GetAbsolutePositionTwo",
"position",l,"_Vector2_","Object's absolute position");p=d},implementation:{ea:e}}};v("PENGO.client.shared.runEngine.two.actuators.move");
window.PENGO.client.shared.runEngine.two.actuators.move.resolve=function(){function e(d,g,b,e){function a(a){n._scaleX+=w.x*a.event.deltaTime;n._scaleY+=w.y*a.event.deltaTime;n.setDirtyTransform()}function c(a){n._rotation+=r*a.event.deltaTime;n.setDirtyTransform()}function h(a){n._x+=q.x*a.event.deltaTime;n._y+=q.y*a.event.deltaTime;n.setDirtyTransform()}function t(a){n._rotation+=r*a.event.deltaTime;n._scaleX+=w.x*a.event.deltaTime;n._scaleY+=w.y*a.event.deltaTime;n.setDirtyTransform()}function C(a){n._x+=
q.x*a.event.deltaTime;n._y+=q.y*a.event.deltaTime;n._scaleX+=w.x*a.event.deltaTime;n._scaleY+=w.y*a.event.deltaTime;n.setDirtyTransform()}function A(a){n._x+=q.x*a.event.deltaTime;n._y+=q.y*a.event.deltaTime;n._rotation+=r*a.event.deltaTime;n.setDirtyTransform()}function D(a){n._x+=q.x*a.event.deltaTime;n._y+=q.y*a.event.deltaTime;n._rotation+=r*a.event.deltaTime;n._scaleX+=w.x*a.event.deltaTime;n._scaleY+=w.y*a.event.deltaTime;n.setDirtyTransform()}var x=new p.runEngine.Blackbox(d,g,b,e,"MoveTWO");
x.createInParam("target",0);x.createOutput("started",0);x.createOutput("stopped",1);var n,E=f,q={x:0,y:0},r=0,w={x:0,y:0};x.createInput("start",0,function(b){function g(){if(q&&r&&w)return D;if(q&&r)return A;if(q&&w)return C;if(r&&w)return t;if(q)return h;if(r)return c;if(w)return a}n=x.inParameters.target;if(n!==f&&(x.isInParamConnected(1)||x.isInParamConnected(2)||x.isInParamConnected(3)))if(E&&(d.unsubscribeOnUpdateDraw(E),E=f),q=x.isInParamConnected(1)?{x:x.inParameters.translatePerSecond.x/1E3,
y:x.inParameters.translatePerSecond.y/1E3}:f,r=x.isInParamConnected(2)?x.inParameters.rotatePerSecond/1E3:f,w=x.isInParamConnected(3)?{x:x.inParameters.scalePerSecond.x/1E3,y:x.inParameters.scalePerSecond.y/1E3}:f,q&&(0!==q.x||0!==q.y)||r||w&&(0!==w.x||0!==w.y))if(E=g())d.subscribeOnUpdateDraw(E),x.fireOutput(0,b)});x.createInput("stop",1,function(a){E&&(d.unsubscribeOnUpdateDraw(E),E=f,x.fireOutput(1,a))});return x}var p;return{dependencies:function(d){d.runEngine.blackboxRepository.addBlackboxType("MoveTWO",
e);p=d},implementation:{ka:e}}};v("PENGO.client.ide.runEngine.two.actuators.move");
window.PENGO.client.ide.runEngine.two.actuators.move.resolve=function(){function e(d){d.setProperty("translate",d.hasParamConnector(1,k));d.setProperty("rotate",d.hasParamConnector(2,k));d.setProperty("scale",d.hasParamConnector(3,k))}function p(g,b,e,a){g=d.runEngine.actuators.move.base.ka(g,b,e,a);g.addBoolProperty("position",function(a,b){a?b.createInParam("translatePerSecond",1):b.delInParam(1)},f,k);g.addBoolProperty("rotation",function(a,b){a?b.createInParam("rotatePerSecond",2):b.delInParam(2)},
f,l);g.addBoolProperty("scale",function(a,b){a?b.createInParam("scalePerSecond",3):b.delInParam(3)},f,l);return g}var d;return{dependencies:function(g){g.runEngine.blackboxRepository.updateBlackboxTypeToIDE("MoveTWO",p,"Move","Animation/sync");g.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("MoveTWO",f,e,f);g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveTWO","target",l,"Object2DTwo","The Object to move.");g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveTWO",
"translatePerSecond",l,"_Vector2_","The pixels to move per second.");g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveTWO","rotatePerSecond",l,"number","The rotation to move per second.");g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveTWO","scalePerSecond",l,"_Vector2_","The scale to end the movement.");g.runEngine.blackboxRepository.setOuputsFireModeToBlackboxType("MoveTWO",["sync","sync"]);d=g},implementation:{ka:p}}};v("PENGO.client.shared.runEngine.two.actuators.getRandomLabels");
window.PENGO.client.shared.runEngine.two.actuators.getRandomLabels.resolve=function(){function e(g,b,e,a){var c=new d.runEngine.Blackbox(g,b,e,a,"GetRandomLabelsTwo"),h=d.runEngine.getManager(),p=f;c.setProdideResultMode=function(a){function b(a){var d=c.getOutParam(0);d&&(d.value=d.value.concat(a))}function d(a){var b=c.getOutParam(0);b&&(b.value=a)}p=a?d:b};c.setProdideResultMode(k);c.createInParam("target",0);c.createInParam("children",1);c.createInParam("numberOfLabels",2);c.createOutParam("collectionOfLabels",
0);c.createOutParam("numberOfLabels",1);c.createInput("do",0,function(a){var b,d,e,g,m;if(c.inParameters.target&&c.isOutCollection(0)){b=h.ua(c.inParameters.target,c.inParameters.children);e=0;g=[];for(m=c.inParameters.numberOfLabels;e<m&&0<b.length;)d=Math.floor(Math.random()*b.length),g.push(b[d]),b.splice(d,1),e++;p(g);c.outParameters.numberOfLabels=g.length;c.fireOutput(0,a)}});c.createOutput("done",0);return c}function p(d,b){b&&b.A?d.setProdideResultMode(l):d.setProdideResultMode(k)}var d;return{dependencies:function(g){d=
g;d.runEngine.blackboxRepository.addBlackboxType("GetRandomLabelsTwo",e);g.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("GetRandomLabelsTwo",f,p);g.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("GetRandomLabelsTwo","children",l);g.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("GetRandomLabelsTwo","numberOfLabels",1)},implementation:{ja:e}}};v("PENGO.client.ide.runEngine.two.actuators.getRandomLabels");
window.PENGO.client.ide.runEngine.two.actuators.getRandomLabels.resolve=function(){function e(b,d,a,c){b=g.runEngine.actuators.getRandomLabels.base.ja(b,d,a,c);b.addSelectionProperty("return method",["append","as new"],function(a,c){"append"===a?c.setProdideResultMode(l):c.setProdideResultMode(k)},f,"as new",l);return b}function p(b){if("append"===b.getProperty("return method"))return{A:k}}function d(b,d){d&&d.A?b.setProperty("return method","append"):b.setProperty("return method","as new")}var g;
return{dependencies:function(b){b.runEngine.blackboxRepository.updateBlackboxTypeToIDE("GetRandomLabelsTwo",e,"GetRandomLabels","Labels/sync");b.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("GetRandomLabelsTwo",f,d,p);b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("GetRandomLabelsTwo","target",l,["Object2DTwo","LayerTwo"],"The Object where look for labels");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("GetRandomLabelsTwo","children",
l,"bool","search through the children hierarchy");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("GetRandomLabelsTwo","numberOfLabels",l,"number","maximum number of found labels");b.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("GetRandomLabelsTwo","labels",k,"string","A collection of the found labels",k);b.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("GetRandomLabelsTwo","collectionOfLabels",k,"string","A collection of the found labels",
k);b.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("GetRandomLabelsTwo","numberOfLabels",l,"number","the number of found labels");g=b},implementation:{ja:e}}};v("PENGO.client.shared.runEngine.two.actuators.transform");
window.PENGO.client.shared.runEngine.two.actuators.transform.resolve=function(){function e(d,e,b,m){var a=new p.runEngine.Blackbox(d,e,b,m,"TransformTWO");a.createInParam("target",0);a.createOutput("done",0);a.createInput("do",0,function(c){a.inParameters.target&&(a.inParameters.translation&&(a.inParameters.target._x+=a.inParameters.translation.x,a.inParameters.target._y+=a.inParameters.translation.y,a.outParameters.positionResult&&(a.outParameters.positionResult={x:a.inParameters.target._x,y:a.inParameters.target._y})),
a.inParameters.rotation!==f&&(a.inParameters.target._rotation+=a.inParameters.rotation,a.outParameters.rotationResult!=f&&(a.outParameters.rotationResult=a.inParameters.target._rotation)),a.inParameters.scale&&(a.inParameters.target._scaleX*=a.inParameters.scale.x,a.inParameters.target._scaleY*=a.inParameters.scale.y,a.outParameters.scaleResult&&(a.outParameters.scaleResult={x:a.inParameters.target._scaleX,y:a.inParameters.target._scaleY})),a.inParameters.target.setDirtyTransform(),a.fireOutput(0,
c))});return a}var p;return{dependencies:function(d){d.runEngine.blackboxRepository.addBlackboxType("TransformTWO",e);p=d},implementation:{ta:e}}};v("PENGO.client.ide.runEngine.two.actuators.transform");
window.PENGO.client.ide.runEngine.two.actuators.transform.resolve=function(){function e(b,d){d.T||b.setProperty("use translate",l);d.R||b.setProperty("use rotate",l);d.S||b.setProperty("use scale",l)}function p(b){var d={},a;(a=b.getProperty("use translate"))&&(d.T=k);(a=b.getProperty("use rotate"))&&(d.R=k);(a=b.getProperty("use scale"))&&(d.S=k);return d}function d(b,d,a,c){b=g.runEngine.actuators.transform.base.ta(b,d,a,c);b.addBoolProperty("use translate",function(a,c){a?(c.createInParam("translation",
1),c.createOutParam("positionResult",0)):(c.delInParam(1),c.delOutParam(0))},f,k);b.addBoolProperty("use rotate",function(a,c){a?(c.createInParam("rotation",2),c.createOutParam("rotationResult",1)):(c.delInParam(2),c.delOutParam(1))},f,k);b.addBoolProperty("use scale",function(a,c){a?(c.createInParam("scale",3),c.createOutParam("scaleResult",2)):(c.delInParam(3),c.delOutParam(2))},f,k);return b}var g;return{dependencies:function(b){b.runEngine.blackboxRepository.updateBlackboxTypeToIDE("TransformTWO",
d,"Transform","2D/sync");b.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("TransformTWO",f,e,p);b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("TransformTWO","target",l,"Object2DTwo","The Object to increment the transformation");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("TransformTWO","translation",l,"_Vector2_","The translation to be done");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("TransformTWO","rotation",
l,"number","The rotation to be incremented");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("TransformTWO","scale",l,"_Vector2_","The scale too be applied");b.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("TransformTWO","positionResult",l,"_Vector2_","The resulted position of the translation");b.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("TransformTWO","rotationResult",l,"number","The resulted rotation of the rotation increment");
b.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("TransformTWO","scaleResult",l,"_Vector2_","The resulted scale of the scale increment");g=b},implementation:{ta:d}}};v("PENGO.client.shared.runEngine.two.actuators.getName");
window.PENGO.client.shared.runEngine.two.actuators.getName.resolve=function(){function e(d,e,b,m){var a=new p.runEngine.Blackbox(d,e,b,m,"GetNameTwo");a.createInParam("target",0);a.createOutParam("name",0);a.createInput("get",0,function(c){a.inParameters.target&&("string"==typeof a.outParameters.name&&(a.outParameters.name=a.inParameters.target.name),a.fireOutput(0,c))});a.createOutput("done",0);return a}var p;return{dependencies:function(d){p=d;p.runEngine.blackboxRepository.addBlackboxType("GetNameTwo",
e)},implementation:{ha:e}}};v("PENGO.client.ide.runEngine.two.actuators.getName");
window.PENGO.client.ide.runEngine.two.actuators.getName.resolve=function(){function e(d,e,b,m){return p.runEngine.actuators.getName.base.ha(d,e,b,m)}var p;return{dependencies:function(d){d.runEngine.blackboxRepository.updateBlackboxTypeToIDE("GetNameTwo",e,"GetName","2D/sync");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("GetNameTwo","target",l,["Object2DTwo","LayerTwo"],"The object to get the name from");d.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("GetNameTwo","name",
l,"string","Object's name");p=d},implementation:{ha:e}}};v("PENGO.client.shared.runEngine.two.actuators.getLabels");
window.PENGO.client.shared.runEngine.two.actuators.getLabels.resolve=function(){function e(e,b,m,a){var c=new d.runEngine.Blackbox(e,b,m,a,"GetLabelsTwo"),h=d.runEngine.getManager(),p=f;c.setProdideResultMode=function(a){function b(a){function d(a){this.push(a)}var e=c.getOutParamValue(0);e&&a.length&&a.forEach(d,e)}function d(a){c.setOutParamValue(0,a)}p=a?d:b};c.setProdideResultMode(k);c.createInParam("target",0);c.createInParam("children",1);c.createOutParam("labels",0);c.createOutParam("numberOfLabels",
1);c.createInput("do",0,function(a){var b;c.inParameters.target&&(b=h.ua(c.inParameters.target,c.inParameters.children),p(b),c.outParameters.numberOfLabels=b.length,c.fireOutput(0,a))});c.createOutput("done",0);return c}function p(d,b){b&&b.A?d.setProdideResultMode(l):d.setProdideResultMode(k)}var d;return{dependencies:function(g){d=g;d.runEngine.blackboxRepository.addBlackboxType("GetLabelsTwo",e);g.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("GetLabelsTwo",f,p);g.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("GetLabelsTwo",
"children",l)},implementation:{ga:e}}};v("PENGO.client.ide.runEngine.two.actuators.getLabels");
window.PENGO.client.ide.runEngine.two.actuators.getLabels.resolve=function(){function e(b,d,a,c){b=g.runEngine.actuators.getLabels.base.ga(b,d,a,c);b.addSelectionProperty("return method",["append","as new"],function(a,c){"append"===a?c.setProdideResultMode(l):c.setProdideResultMode(k)},f,"as new",l);return b}function p(b){if("append"===b.getProperty("return method"))return{A:k}}function d(b,d){d&&d.A?b.setProperty("return method","append"):b.setProperty("return method","as new")}var g;return{dependencies:function(b){b.runEngine.blackboxRepository.updateBlackboxTypeToIDE("GetLabelsTwo",
e,"GetLabels","Labels/sync");b.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("GetLabelsTwo",f,d,p);b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("GetLabelsTwo","target",l,["Object2DTwo","LayerTwo"],"The Object where look for labels");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("GetLabelsTwo","children",l,"bool","search through the children");b.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("GetLabelsTwo",
"labels",k,"string","A collection of the found labels",k);b.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("GetLabelsTwo","collectionOfLabels",k,"string","A collection of the found labels",k);b.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("GetLabelsTwo","numberOfLabels",l,"number","the number of found labels");g=b},implementation:{ga:e}}};v("PENGO.client.shared.runEngine.two.actuators.collisionTest");
window.PENGO.client.shared.runEngine.two.actuators.collisionTest.resolve=function(){function e(a,c,e,h){var g=new b.runEngine.Blackbox(a,c,e,h,"CollisionTestTWO"),m=b.runEngine.getManager();g.createInParam("object1",0);g.createInParam("object2",1);g.createOutParam("testResult",0);g.withCollection=l;var t,A,C,H,N,F,G,L;g.createInput("test",0,function(a){if(g.withCollection){if(N=g.inParameters.object,F=g.inParameters.objects,N&&F)if(C=g.outParameters.objectsOnCollision,0<F.length){A=l;p(N,n,q,D);if(C){C.length=
0;H=g.getOutParamType(1);for(t=0;t<F.length;t++)p(F[t],E,r,x),d(D,q,E)&&d(x,r,n)&&(A=k,m.Q(F[t].type,H)&&C.push(F[t]))}else for(t=0;t<F.length&&A!=k;t++)p(F[t],E,r,x),A=d(D,q,E)&&d(x,r,n);(g.outParameters.testResult=A)?g.fireOutput(0,a):g.fireOutput(1,a)}else C&&(C.length=0),g.fireOutput(1,a)}else G=g.inParameters.object1,L=g.inParameters.object2,G&&L&&(p(G,n,q,D),p(L,E,r,x),d(D,q,E)&&d(x,r,n)?(g.outParameters.testResult=k,g.fireOutput(0,a)):(g.outParameters.testResult=l,g.fireOutput(1,a)))});g.createOutput("true",
0);g.createOutput("false",1);return g}function p(b,d,e,g){for(var h=m,n=[],p=b,q=l;p._parent;)n.push(p),p=p._parent;for(h.identity();0<n.length;)p=n.pop(),q||p._dirtyTransform?(q=k,a.makeTranslate(p._x,p._y),a.rotate(p._rotation),a.scale(p._scaleX,p._scaleY),h.multiply(a)):h.copy(p.finalTransform);d[0].set(0,0);d[1].set(b._w,0);d[2].set(b._w,b._h);d[3].set(0,b._h);c.makeTranslate(b._pivotX,b._pivotY);m.multiply(c);for(b=0;4>b;b++)m.transformVector2(d[b]);e[0].sub(d[1],d[0]);e[1].sub(d[3],d[0]);e[0].divideScalar(e[0].lengthSq());
e[1].divideScalar(e[1].lengthSq());g.x=d[0].dot(e[0]);g.y=d[0].dot(e[1])}function d(a,c,b){var d;A=C=t=b[0].dot(c[0]);for(d=1;4>d;d+=1)t=b[d].dot(c[0]),t<C?C=t:t>A&&(A=t);if(C>1+a.x||A<a.x)return l;A=C=t=b[0].dot(c[1]);for(d=1;4>d;d+=1)t=b[d].dot(c[1]),t<C?C=t:t>A&&(A=t);return C>1+a.y||A<a.y?l:k}function g(a,c){c&&(a.withCollection=k)}var b,m,a,c,h,t,C,A,D,x,n=[],E=[],q=[],r=[];for(h=0;4>h;h++)n.push(new window.TWO.core.math.Vector2),E.push(new window.TWO.core.math.Vector2);for(h=0;2>h;h++)q.push(new window.TWO.core.math.Vector2),
r.push(new window.TWO.core.math.Vector2);D=new window.TWO.core.math.Vector2;x=new window.TWO.core.math.Vector2;m=new window.TWO.core.math.Matrix3;a=new window.TWO.core.math.Matrix3;c=new window.TWO.core.math.Matrix3;return{dependencies:function(a){b=a;b.runEngine.blackboxRepository.addBlackboxType("CollisionTestTWO",e);a.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("CollisionTestTWO",f,g)},implementation:{ca:e}}};v("PENGO.client.ide.runEngine.two.actuators.collisionTest");
window.PENGO.client.ide.runEngine.two.actuators.collisionTest.resolve=function(){function e(b,d,a,c){b=g.runEngine.actuators.collisionTest.base.ca(b,d,a,c);b.addSelectionProperty("type",["object-object","object-objects"],function(a,c){switch(a){case "object-object":c.changeParamConnectorName(0,k,"object1");c.changeParamConnectorName(1,k,"object2");c.delOutParam(1);c.withCollection=l;break;case "object-objects":c.changeParamConnectorName(0,k,"object"),c.changeParamConnectorName(1,k,"objects"),c.createOutParam("objectsOnCollision",
1),c.withCollection=k}},f,"object-object");return b}function p(b,d){d&&b.setProperty("type","object-objects")}function d(b){return"object-objects"===b.getProperty("type")?k:null}var g;return{dependencies:function(b){g=b;b.runEngine.blackboxRepository.updateBlackboxTypeToIDE("CollisionTestTWO",e,"BoundingCollision","2D/sync");b.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("CollisionTestTWO",f,p,d);b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("CollisionTestTWO",
"object1",l,"Object2DTwo","First object to test the collision with second one.");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("CollisionTestTWO","object2",l,"Object2DTwo","Second object to test the collision with the first one.");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("CollisionTestTWO","object",l,"Object2DTwo","The object to test the collision with a list of objects.");b.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("CollisionTestTWO",
"objects",k,"Object2DTwo","The collection to test the collision with a object.");b.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("CollisionTestTWO","testResult",l,"bool","The result of the collision test.");b.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("CollisionTestTWO","objectsOnCollision",k,"Object2DTwo","The list of the objects in collision from the objects collection.")},implementation:{ca:e}}};v("PENGO.client.shared.runEngine.two.actuators.getObjectsByLabel");
window.PENGO.client.shared.runEngine.two.actuators.getObjectsByLabel.resolve=function(){function e(e,b,m,a){function c(a){return a.toString()}var h=new d.runEngine.Blackbox(e,b,m,a,"GetObjectsByLabelTWO"),p=d.runEngine.getManager(),C=f;h.setProdideResultMode=function(a){function c(a){var b=h.getOutParamValue(0);b&&h.setOutParamValue(0,b.value.concat(a))}function b(a){h.setOutParamValue(0,a)}C=a?b:c};h.setProdideResultMode(k);h.createInParam("target",0);h.createInParam("labels",1);h.createOutParam("objects",
0);h.createOutParam("numberOfObjects",1);h.createInput("do",0,function(a){var b=h.getInParamValue(1);b!==f&&"string"!==h.getInParamType(1)&&(b=Array.isArray(b)?b.map(c):c(b));h.inParameters.target&&b!==f&&(b=p.Da(h.inParameters.target,b,!h.inParameters.allLabels,l,k),p.m(b,h.getOutParamType(0)),C(b),h.outParameters.numberOfObjects=b.length,h.fireOutput(0,a))});h.createOutput("done",0);return h}function p(d,b){b&&b.A?d.setProdideResultMode(l):d.setProdideResultMode(k)}var d;return{dependencies:function(g){d=
g;d.runEngine.blackboxRepository.addBlackboxType("GetObjectsByLabelTWO",e);g.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("GetObjectsByLabelTWO",f,p);g.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("GetObjectsByLabelTWO","allLabels",l)},implementation:{ia:e}}};v("PENGO.client.ide.runEngine.two.actuators.getObjectsByLabel");
window.PENGO.client.ide.runEngine.two.actuators.getObjectsByLabel.resolve=function(){function e(d,e,b,m){d=p.runEngine.actuators.getObjectsByLabel.base.ia(d,e,b,m);d.addSelectionProperty("return method",["append","as new"],function(a,c){"append"===a?c.setProdideResultMode(l):c.setProdideResultMode(k)},f,"as new",l);return d}var p;e.prototype={Ja:function(d){if("append"===d.getProperty("return method"))return{A:k}},load:function(d,e){e&&e.A?d.setProperty("return method","append"):d.setProperty("return method",
"as new")},Ka:function(d,e,b,m,a){b&&(m&&1===a&&d.isParamConnectorConnected(a,k))&&(d.isConnectedToParamCollection(a,k)?d.hasParamConnector(2,k)||d.createInParam("allLabels",2):d.hasParamConnector(2,k)&&d.delInParam(2))}};return{dependencies:function(d){d.runEngine.blackboxRepository.updateBlackboxTypeToIDE("GetObjectsByLabelTWO",e,"GetObjectByLabels","Labels/sync");d.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("GetObjectsByLabelTWO",f,e.prototype.load,e.prototype.Ja);d.runEngine.blackboxRepository.setOnPortChangedCallbackToBlackboxType("GetObjectsByLabelTWO",
e.prototype.Ka);d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("GetObjectsByLabelTWO","target",l,["Object2DTwo","LayerTwo"],"If it is an Object2D or Layer, it looks into its children. If it is a Collection, it looks into each item (but not into their children).");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("GetObjectsByLabelTWO","labels",f,"string","the label to use for the search of objects");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("GetObjectsByLabelTWO",
"label",l,"string","the label to use for the search of objects");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("GetObjectsByLabelTWO","labels",f,"string","the label to use for the search of objects");d.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("GetObjectsByLabelTWO","allLabels",l,"bool","true objets must have all labels, false objects with any of the labels");d.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("GetObjectsByLabelTWO",
"objects",k,"Object2DTwo","A collection of the found objects");d.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("GetObjectsByLabelTWO","objectCollection",k,"Object2DTwo","A collection of the found objects");d.runEngine.blackboxRepository.setOutParamConnectionRulesToBlackboxType("GetObjectsByLabelTWO","numberOfObjects",l,"number","number of found objects");p=d},implementation:{ia:e}}};v("PENGO.client.shared.runEngine.two.sensors.moveFromTo");
window.PENGO.client.shared.runEngine.two.sensors.moveFromTo.resolve=function(){function e(d,e,b,m){function a(a){w+=a.event.deltaTime;u<=w?(d.unsubscribeOnUpdateDraw(r),q._scaleX=N,q._scaleY=F,q.setDirtyTransform(),y?(z=x,d.callOnNextUpdateDraw(z)):r=f,n.fireOutput(1,a)):(q._scaleX+=B.x*a.event.deltaTime,q._scaleY+=B.y*a.event.deltaTime,q.setDirtyTransform())}function c(a){w+=a.event.deltaTime;u<=w?(d.unsubscribeOnUpdateDraw(r),q._rotation=M,q.setDirtyTransform(),y?(z=x,d.callOnNextUpdateDraw(z)):
r=f,n.fireOutput(1,a)):(q._rotation+=L*a.event.deltaTime,q.setDirtyTransform())}function h(a){w+=a.event.deltaTime;u<=w?(d.unsubscribeOnUpdateDraw(r),q._x=P,q._y=K,q.setDirtyTransform(),y?(z=x,d.callOnNextUpdateDraw(z)):r=f,n.fireOutput(1,a)):(q._x+=G.x*a.event.deltaTime,q._y+=G.y*a.event.deltaTime,q.setDirtyTransform())}function t(a){w+=a.event.deltaTime;u<=w?(d.unsubscribeOnUpdateDraw(r),q._rotation=M,q._scaleX=N,q._scaleY=F,q.setDirtyTransform(),y?(z=x,d.callOnNextUpdateDraw(z)):r=f,n.fireOutput(1,
a)):(q._rotation+=L*a.event.deltaTime,q._scaleX+=B.x*a.event.deltaTime,q._scaleY+=B.y*a.event.deltaTime,q.setDirtyTransform())}function C(a){w+=a.event.deltaTime;u<=w?(d.unsubscribeOnUpdateDraw(r),q._x=P,q._y=K,q._scaleX=N,q._scaleY=F,q.setDirtyTransform(),y?(z=x,d.callOnNextUpdateDraw(z)):r=f,n.fireOutput(1,a)):(q._x+=G.x*a.event.deltaTime,q._y+=G.y*a.event.deltaTime,q._scaleX+=B.x*a.event.deltaTime,q._scaleY+=B.y*a.event.deltaTime,q.setDirtyTransform())}function A(a){w+=a.event.deltaTime;u<=w?(d.unsubscribeOnUpdateDraw(r),
q._x=P,q._y=K,q._rotation=M,q.setDirtyTransform(),y?(z=x,d.callOnNextUpdateDraw(z)):r=f,n.fireOutput(1,a)):(q._x+=G.x*a.event.deltaTime,q._y+=G.y*a.event.deltaTime,q._rotation+=L*a.event.deltaTime,q.setDirtyTransform())}function D(a){w+=a.event.deltaTime;u<=w?(d.unsubscribeOnUpdateDraw(r),q._x=P,q._y=K,q._rotation=M,q._scaleX=N,q._scaleY=F,q.setDirtyTransform(),y?(z=x,d.callOnNextUpdateDraw(z)):r=f,n.fireOutput(1,a)):(q._x+=G.x*a.event.deltaTime,q._y+=G.y*a.event.deltaTime,q._rotation+=L*a.event.deltaTime,
q._scaleX+=B.x*a.event.deltaTime,q._scaleY+=B.y*a.event.deltaTime,q.setDirtyTransform())}function x(a){z=f;r&&(G&&(q._x=J.x,q._y=J.y),L&&(q._rotation=O),B&&(q._scaleX=H.x,q._scaleY=H.y),q.setDirtyTransform(),w=0,d.subscribeOnUpdateDraw(r),n.fireOutput(0,a))}var n=new p.runEngine.Blackbox(d,e,b,m,"MoveFromToTWO");n.createInParam("target",0);n.createInParam("seconds",1);n.createInParam("loop",2);n.createOutput("started",0);n.createOutput("arrived",1);n.createOutput("paused",2);n.createOutput("stopped",
3);var E,q,r=f,w=0,u=0,y=l,I=l,J={x:0,y:0},P=0,K=0,O=0,M=0,H={x:0,y:0},N=0,F=0,G={x:0,y:0},L=0,B={x:0,y:0},z=f;n.createInput("start",0,function(b){function e(a,c,b){a.isInParamConnected(4)&&(c._x=a.inParameters.fromPosition.x,c._y=a.inParameters.fromPosition.y);a.isInParamConnected(6)&&(c._rotation=a.inParameters.fromRotation);a.isInParamConnected(8)&&(c._scaleX=a.inParameters.fromScale.x,c._scaleY=a.inParameters.fromScale.y);c.setDirtyTransform();a.fireOutput(0,b)}function g(a,c,b){a.isInParamConnected(4)&&
(c._x=a.inParameters.toPosition.x,c._y=a.inParameters.toPosition.y);a.isInParamConnected(6)&&(c._rotation=a.inParameters.toRotation);a.isInParamConnected(8)&&(c._scaleX=a.inParameters.toScale.x,c._scaleY=a.inParameters.toScale.y);c.setDirtyTransform();a.fireOutput(0,b);a.fireOutput(1,b)}function m(){if(G&&L&&B)return D;if(G&&L)return A;if(G&&B)return C;if(L&&B)return t;if(G)return h;if(L)return c;if(B)return a}if(E=n.inParameters.target)if(r&&I&&q===E)I=l,y&&z?d.callOnNextUpdateDraw(z):d.subscribeOnUpdateDraw(r),
n.fireOutput(2,b),n.fireOutput(0,b);else if(q=E,u=n.getInParamValue(1),E!==f&&0<=u&&(n.isInParamConnected(3)&&n.isInParamConnected(4)||n.isInParamConnected(5)&&n.isInParamConnected(6)||n.isInParamConnected(7)&&n.isInParamConnected(8)))if(z&&(d.avoidCallOnNextUpdateDraw(z),z=f),r&&(d.unsubscribeOnUpdateDraw(r),r=f),w=0,I=l,0===u)g(n,q,b);else if(y=n.inParameters.loop===k,u*=1E3,n.isInParamConnected(3)?(J.x=n.inParameters.fromPosition.x,J.y=n.inParameters.fromPosition.y,P=n.inParameters.toPosition.x,
K=n.inParameters.toPosition.y,G={x:(P-J.x)/u,y:(K-J.y)/u}):G=f,n.isInParamConnected(5)?(O=n.inParameters.fromRotation,M=n.inParameters.toRotation,L=(M-O)/u):L=f,n.isInParamConnected(7)?(H.x=n.inParameters.fromScale.x,H.y=n.inParameters.fromScale.y,N=n.inParameters.toScale.x,F=n.inParameters.toScale.y,B={x:(N-H.x)/u,y:(F-H.y)/u}):B=f,G&&(0!==G.x||0!==G.y)||L||B&&(0!==B.x||0!==B.y)){if(r=m())d.subscribeOnUpdateDraw(r),e(n,q,b)}else g(n,q,b)});n.createInput("pause",1,function(a){r&&(I?(I=l,y&&z?d.callOnNextUpdateDraw(z):
d.subscribeOnUpdateDraw(r)):(I=k,y&&z?d.avoidCallOnNextUpdateDraw(z):d.unsubscribeOnUpdateDraw(r)),n.fireOutput(2,a))});n.createInput("stop",2,function(a){r&&(z&&(d.avoidCallOnNextUpdateDraw(z),z=f),d.unsubscribeOnUpdateDraw(r),r=f,n.fireOutput(3,a))});return n}var p;return{dependencies:function(d){d.runEngine.blackboxRepository.addBlackboxType("MoveFromToTWO",e);d.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("MoveFromToTWO","timeToMove",1);d.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("MoveFromToTWO",
"seconds",1);d.runEngine.blackboxRepository.setInParamDefaultValueToBlackboxType("MoveFromToTWO","loop",l);p=d},implementation:{la:e}}};v("PENGO.client.ide.runEngine.two.sensors.moveFromTo");
window.PENGO.client.ide.runEngine.two.sensors.moveFromTo.resolve=function(){function e(d){d.setProperty("translate",d.hasParamConnector(3,k));d.setProperty("rotate",d.hasParamConnector(5,k));d.setProperty("scale",d.hasParamConnector(7,k))}function p(e,b,m,a){e=d.runEngine.sensors.moveFromTo.base.la(e,b,m,a);e.addBoolProperty("translate",function(a,b){a?(b.createInParam("fromPosition",3),b.createInParam("toPosition",4)):(b.delInParam(3),b.delInParam(4))},f,k);e.addBoolProperty("rotate",function(a,
b){a?(b.createInParam("fromRotation",5),b.createInParam("toRotation",6)):(b.delInParam(5),b.delInParam(6))},f,l);e.addBoolProperty("scale",function(a,b){a?(b.createInParam("fromScale",7),b.createInParam("toScale",8)):(b.delInParam(7),b.delInParam(8))},f,l);return e}var d;return{dependencies:function(g){g.runEngine.blackboxRepository.updateBlackboxTypeToIDE("MoveFromToTWO",p,"MoveFromTo","Animation/async");g.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("MoveFromToTWO",f,e,f);g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveFromToTWO",
"target",l,"Object2DTwo","The Object to move.");g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveFromToTWO","timeToMove",l,"number","The time in seconds to arrive from start to end.");g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveFromToTWO","seconds",l,"number","The time in seconds to arrive from start to end.");g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveFromToTWO","loop",l,"bool","Repeat when the movement arrive to end.",
k);g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveFromToTWO","fromPosition",l,"_Vector2_","The position from start the movement.");g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveFromToTWO","toPosition",l,"_Vector2_","The position to end the movement.");g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveFromToTWO","fromRotation",l,"number","The rotation from start the movement.");g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveFromToTWO",
"toRotation",l,"number","The rotation to end the movement.");g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveFromToTWO","fromScale",l,"_Vector2_","The scale from start the movement.");g.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("MoveFromToTWO","toScale",l,"_Vector2_","The scale to end the movement.");g.runEngine.blackboxRepository.setOuputsFireModeToBlackboxType("MoveFromToTWO",["async","async","sync","sync"]);d=g},implementation:{la:p}}};v("PENGO.client.shared.runEngine.two.actuators.deleteObject2D");
window.PENGO.client.shared.runEngine.two.actuators.deleteObject2D.resolve=function(){function e(d,e,b,m){var a=new p.runEngine.Blackbox(d,e,b,m,"DeleteTWO"),c=p.runEngine.getManager();a.createInParam("target",0);a.createInput("do",0,function(b){a.inParameters.target&&c.J(a.inParameters.target,f,f,b,c)&&a.fireOutput(0,b)});a.createOutput("deleted",0);return a}var p;return{dependencies:function(d){p=d;p.runEngine.blackboxRepository.addBlackboxType("DeleteTWO",e)},implementation:{Va:e}}};v("PENGO.client.ide.runEngine.two.actuators.deleteObject2D");window.PENGO.client.ide.runEngine.two.actuators.deleteObject2D.resolve=function(){return{dependencies:function(e){e.runEngine.blackboxRepository.updateBlackboxTypeToIDE("DeleteTWO",f,"DeleteObject2D","2D/sync");e.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("DeleteTWO","target",l,"Object2DTwo","The Object to be deleted")}}};v("PENGO.client.shared.runEngine.two.sensors.spriteAnimate");
window.PENGO.client.shared.runEngine.two.sensors.spriteAnimate.resolve=function(){function e(b,d){b.animation=d.A}function p(b){b.inParameters.target&&b.inParameters.target.stopAnimation()}function d(b,d,a,c){var e=new g.runEngine.Blackbox(b,d,a,c,"AnimSpriteTWO");e.createInParam("target",0);e.createInParam("loop",1);e.createInParam("fps",2);e.createInParam("revert",3);e.animation=f;var p=e.createOutput("started",0),C=e.createOutput("stopped",1),A=e.createOutput("paused",2),D=e.createOutput("finished",
3);e.createInput("start",0,function(a){var c=e.inParameters.target;c&&(c.startAnimation(e.animation,e.inParameters.fps,e.inParameters.revert,e.inParameters.loop,function(){b.callOnNextUpdateDraw(function(a){e.fireOutput(D,a)})}),e.fireOutput(p,a))});e.createInput("stop",1,function(a){e.inParameters.target&&(e.inParameters.target.stopAnimation(),e.fireOutput(C,a))});e.createInput("pause",2,function(a){e.inParameters.target&&(e.inParameters.target.paused=!e.inParameters.target.paused,e.fireOutput(A,
a))});return e}var g;return{dependencies:function(b){b.runEngine.blackboxRepository.addBlackboxType("AnimSpriteTWO",d);b.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("AnimSpriteTWO",p,e);g=b},implementation:{pa:d}}};v("PENGO.client.ide.runEngine.two.sensors.spriteAnimate");
window.PENGO.client.ide.runEngine.two.sensors.spriteAnimate.resolve=function(){function e(a){a.inParameters.target&&(a.initialAnimation!=f&&a.initialFps!=f&&a.initialLoop!=f&&a.initialRevert!=f)&&a.inParameters.target.startAnimation(a.initialAnimation,a.initialFps,a.initialRevert,a.initialLoop)}function p(a,b){var d=a.inParameters.target;b.A?a.setProperty("animation",b.A):d&&d.spriteDef.defaultAnimation&&a.setProperty("animation",d.spriteDef.defaultAnimation);a.subscribeToConnectedParamValueChange(0,
k,function(b){m(a,b)},function(){m(a,f)})}function d(a){return{A:a.getProperty("animation")}}function g(c,b,d,e){c=a.runEngine.sensors.spriteAnimate.base.pa(c,b,d,e);c.addSelectionProperty("animation",[],function(a,c){c.animation=a},f,"",l);return c}function b(a,b,d,e,g){d&&(e&&0===g)&&(m(a,a.inParameters.target),a.subscribeToConnectedParamValueChange(0,k,function(b){m(a,b)},function(){m(a,f)}))}function m(a,b){var d=[];if(b){a.initialAnimation=b.currentAnimationName;a.initialFps=b.fps;a.initialLoop=
b.loop;a.initialRevert=b.revert;for(var e in b.spriteDef.animations)d.push(e)}a.changePropertiesTypes("animation",d);0<d.length?((e=a.getProperty("animation"))&&-1===d.indexOf(e)&&a.setProperty("animation",""),""===e&&(b.spriteDef.defaultAnimation&&-1!==d.indexOf(b.spriteDef.defaultAnimation))&&a.setProperty("animation",b.spriteDef.defaultAnimation)):a.setProperty("animation","")}var a;return{dependencies:function(c){c.runEngine.blackboxRepository.updateBlackboxTypeToIDE("AnimSpriteTWO",g,"SpritePlayer",
"Sprites/async");c.runEngine.blackboxRepository.setSpecificCallbacksToBlackboxType("AnimSpriteTWO",e,p,d);c.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("AnimSpriteTWO","target",l,"SpriteTwo","The Sprite to interact with");c.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("AnimSpriteTWO","loop",l,"bool","if set, loops animation");c.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("AnimSpriteTWO","fps",l,"number","animation frames per second");
c.runEngine.blackboxRepository.setInParamConnectionRulesToBlackboxType("AnimSpriteTWO","revert",l,"bool","plays the animation backwards");c.runEngine.blackboxRepository.setOnPortChangedCallbackToBlackboxType("AnimSpriteTWO",b);c.runEngine.blackboxRepository.setOuputsFireModeToBlackboxType("AnimSpriteTWO",["sync","sync","sync","async"]);a=c},implementation:{pa:g}}};})();
